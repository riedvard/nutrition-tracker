"use strict";(self.webpackChunknutrition_tracker=self.webpackChunknutrition_tracker||[]).push([[179],{2011:(vt,Se,B)=>{B.d(Se,{Dh:()=>ye,GT:()=>re,cc:()=>Ae,hO:()=>He,on:()=>W,pX:()=>ue,xv:()=>be});var l=B(4650),$=B(9260),F=B(4976);vt=B.hmd(vt);const se=["ngOnDestroy"],ue=(ke,Fe,Ue,Te={})=>new Proxy(ke,{get:(xe,Oe)=>Ue.runOutsideAngular(()=>{var je;if(ke[Oe])return!(null===(je=Te?.spy)||void 0===je)&&je.get&&Te.spy.get(Oe,ke[Oe]),ke[Oe];if(se.indexOf(Oe)>-1)return()=>{};const Ne=Fe.toPromise().then(ce=>{const ot=ce&&ce[Oe];return"function"==typeof ot?ot.bind(ce):ot&&ot.then?ot.then(Mt=>Ue.run(()=>Mt)):Ue.run(()=>ot)});return new Proxy(()=>{},{get:(ce,ot)=>Ne[ot],apply:(ce,ot,Mt)=>Ne.then(ut=>{var sn;const ft=ut&&ut(...Mt);return!(null===(sn=Te?.spy)||void 0===sn)&&sn.apply&&Te.spy.apply(Oe,Mt,ft),ft})})})}),re=(ke,Fe)=>{Fe.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(Te=>{Object.defineProperty(ke.prototype,Te,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,Te))})})};class Ee{constructor(Fe){return Fe}}const ye=new l.OlP("angularfire2.app.options"),be=new l.OlP("angularfire2.app.name");function W(ke,Fe,Ue){const xe="object"==typeof Ue&&Ue||{};xe.name=xe.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const je=$.Z.apps.filter(Ne=>Ne&&Ne.name===xe.name)[0]||Fe.runOutsideAngular(()=>$.Z.initializeApp(ke,xe));try{JSON.stringify(ke)!==JSON.stringify(je.options)&&q("error",`${je.name} Firebase App already initialized with different options${vt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ee(je)}const q=(ke,...Fe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ke](...Fe)},te={provide:Ee,useFactory:W,deps:[ye,l.R0b,[new l.FiY,be]]};let He=(()=>{class ke{constructor(Ue){$.Z.registerVersion("angularfire",F.q4.full,"core"),$.Z.registerVersion("angularfire",F.q4.full,"app-compat"),$.Z.registerVersion("angular",l.q4F.full,Ue.toString())}static initializeApp(Ue,Te){return{ngModule:ke,providers:[{provide:ye,useValue:Ue},{provide:be,useValue:Te}]}}}return ke.\u0275fac=function(Ue){return new(Ue||ke)(l.LFG(l.Lbi))},ke.\u0275mod=l.oAB({type:ke}),ke.\u0275inj=l.cJS({providers:[te]}),ke})();function Ae(ke,Fe,Ue,Te,xe){const[,Oe,je]=globalThis.\u0275AngularfireInstanceCache.find(Ne=>Ne[0]===ke)||[];if(Oe)return function Ke(ke,Fe){try{return ke.toString()===Fe.toString()}catch{return ke===Fe}}(xe,je)||(ve("error",`${Fe} was already initialized on the ${Ue} Firebase App with different settings.${ct?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:xe,was:je})),Oe;{const Ne=Te();return globalThis.\u0275AngularfireInstanceCache.push([ke,Ne,xe]),Ne}}const ct=!!vt.hot,ve=(ke,...Fe)=>{(0,l.X6Q)()&&typeof console<"u"&&console[ke](...Fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(vt,Se,B)=>{B.d(Se,{q4:()=>pi,iC:()=>no,HU:()=>At,vb:()=>_a,JM:()=>dc});var l=B(4650),$=B(259),F=B(5861),se=B(6881),ue=B(2090),re=B(4859),Ee=B(1877);const ye=(w,x)=>x.some(T=>w instanceof T);let be,W;const He=new WeakMap,Ae=new WeakMap,Ke=new WeakMap,ct=new WeakMap,ve=new WeakMap;let Ue={get(w,x,T){if(w instanceof IDBTransaction){if("done"===x)return Ae.get(w);if("objectStoreNames"===x)return w.objectStoreNames||Ke.get(w);if("store"===x)return T.objectStoreNames[1]?void 0:T.objectStore(T.objectStoreNames[0])}return je(w[x])},set:(w,x,T)=>(w[x]=T,!0),has:(w,x)=>w instanceof IDBTransaction&&("done"===x||"store"===x)||x in w};function Oe(w){return"function"==typeof w?function xe(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...x){return w.apply(Ne(this),x),je(He.get(this))}:function(...x){return je(w.apply(Ne(this),x))}:function(x,...T){const U=w.call(Ne(this),x,...T);return Ke.set(U,x.sort?x.sort():[x]),je(U)}}(w):(w instanceof IDBTransaction&&function Fe(w){if(Ae.has(w))return;const x=new Promise((T,U)=>{const K=()=>{w.removeEventListener("complete",ie),w.removeEventListener("error",le),w.removeEventListener("abort",le)},ie=()=>{T(),K()},le=()=>{U(w.error||new DOMException("AbortError","AbortError")),K()};w.addEventListener("complete",ie),w.addEventListener("error",le),w.addEventListener("abort",le)});Ae.set(w,x)}(w),ye(w,function q(){return be||(be=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Ue):w)}function je(w){if(w instanceof IDBRequest)return function ke(w){const x=new Promise((T,U)=>{const K=()=>{w.removeEventListener("success",ie),w.removeEventListener("error",le)},ie=()=>{T(je(w.result)),K()},le=()=>{U(w.error),K()};w.addEventListener("success",ie),w.addEventListener("error",le)});return x.then(T=>{T instanceof IDBCursor&&He.set(T,w)}).catch(()=>{}),ve.set(x,w),x}(w);if(ct.has(w))return ct.get(w);const x=Oe(w);return x!==w&&(ct.set(w,x),ve.set(x,w)),x}const Ne=w=>ve.get(w),Mt=["get","getKey","getAll","getAllKeys","count"],ut=["put","add","delete","clear"],sn=new Map;function ft(w,x){if(!(w instanceof IDBDatabase)||x in w||"string"!=typeof x)return;if(sn.get(x))return sn.get(x);const T=x.replace(/FromIndex$/,""),U=x!==T,K=ut.includes(T);if(!(T in(U?IDBIndex:IDBObjectStore).prototype)||!K&&!Mt.includes(T))return;const ie=function(){var le=(0,F.Z)(function*(Ze,...Ye){const mt=this.transaction(Ze,K?"readwrite":"readonly");let Lt=mt.store;return U&&(Lt=Lt.index(Ye.shift())),(yield Promise.all([Lt[T](...Ye),K&&mt.done]))[0]});return function(Ye){return le.apply(this,arguments)}}();return sn.set(x,ie),ie}!function Te(w){Ue=w(Ue)}(w=>({...w,get:(x,T,U)=>ft(x,T)||w.get(x,T,U),has:(x,T)=>!!ft(x,T)||w.has(x,T)}));const _e="@firebase/installations",ge="0.6.4",Ie=1e4,Re=`w:${ge}`,We="FIS_v2",Ge="https://firebaseinstallations.googleapis.com/v1",gt=36e5,$t=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function St(w){return w instanceof ue.ZR&&w.code.includes("request-failed")}function an({projectId:w}){return`${Ge}/projects/${w}/installations`}function Hn(w){return{token:w.token,requestStatus:2,expiresIn:Kr(w.expiresIn),creationTime:Date.now()}}function kn(w,x){return zi.apply(this,arguments)}function zi(){return(zi=(0,F.Z)(function*(w,x){const U=(yield x.json()).error;return $t.create("request-failed",{requestName:w,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function si({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function cr(w){return ur.apply(this,arguments)}function ur(){return(ur=(0,F.Z)(function*(w){const x=yield w();return x.status>=500&&x.status<600?w():x})).apply(this,arguments)}function Kr(w){return Number(w.replace("s","000"))}function _t(){return(_t=(0,F.Z)(function*({appConfig:w,heartbeatServiceProvider:x},{fid:T}){const U=an(w),K=si(w),ie=x.getImmediate({optional:!0});if(ie){const mt=yield ie.getHeartbeatsHeader();mt&&K.append("x-firebase-client",mt)}const Ze={method:"POST",headers:K,body:JSON.stringify({fid:T,authVersion:We,appId:w.appId,sdkVersion:Re})},Ye=yield cr(()=>fetch(U,Ze));if(Ye.ok){const mt=yield Ye.json();return{fid:mt.fid||T,registrationStatus:2,refreshToken:mt.refreshToken,authToken:Hn(mt.authToken)}}throw yield kn("Create Installation",Ye)})).apply(this,arguments)}function jn(w){return new Promise(x=>{setTimeout(x,w)})}const Zn=/^[cdef][\w-]{21}$/,$i="";function Ji(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const T=function mn(w){return function uo(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Zn.test(T)?T:$i}catch{return $i}}function nn(w){return`${w.appName}!${w.appId}`}const pt=new Map;function Ht(w,x){const T=nn(w);zn(T,x),function dr(w,x){const T=function Di(){return!$n&&"BroadcastChannel"in self&&($n=new BroadcastChannel("[Firebase] FID Change"),$n.onmessage=w=>{zn(w.data.key,w.data.fid)}),$n}();T&&T.postMessage({key:w,fid:x}),function ln(){0===pt.size&&$n&&($n.close(),$n=null)}()}(T,x)}function zn(w,x){const T=pt.get(w);if(T)for(const U of T)U(x)}let $n=null;const Lr="firebase-installations-database",un=1,hr="firebase-installations-store";let qt=null;function Qn(){return qt||(qt=function ce(w,x,{blocked:T,upgrade:U,blocking:K,terminated:ie}={}){const le=indexedDB.open(w,x),Ze=je(le);return U&&le.addEventListener("upgradeneeded",Ye=>{U(je(le.result),Ye.oldVersion,Ye.newVersion,je(le.transaction))}),T&&le.addEventListener("blocked",()=>T()),Ze.then(Ye=>{ie&&Ye.addEventListener("close",()=>ie()),K&&Ye.addEventListener("versionchange",()=>K())}).catch(()=>{}),Ze}(Lr,un,{upgrade:(w,x)=>{0===x&&w.createObjectStore(hr)}})),qt}function Nn(w,x){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,F.Z)(function*(w,x){const T=nn(w),K=(yield Qn()).transaction(hr,"readwrite"),ie=K.objectStore(hr),le=yield ie.get(T);return yield ie.put(x,T),yield K.done,(!le||le.fid!==x.fid)&&Ht(w,x.fid),x})).apply(this,arguments)}function Xn(w){return er.apply(this,arguments)}function er(){return(er=(0,F.Z)(function*(w){const x=nn(w),U=(yield Qn()).transaction(hr,"readwrite");yield U.objectStore(hr).delete(x),yield U.done})).apply(this,arguments)}function Gi(w,x){return tr.apply(this,arguments)}function tr(){return(tr=(0,F.Z)(function*(w,x){const T=nn(w),K=(yield Qn()).transaction(hr,"readwrite"),ie=K.objectStore(hr),le=yield ie.get(T),Ze=x(le);return void 0===Ze?yield ie.delete(T):yield ie.put(Ze,T),yield K.done,Ze&&(!le||le.fid!==Ze.fid)&&Ht(w,Ze.fid),Ze})).apply(this,arguments)}function G(w){return j.apply(this,arguments)}function j(){return j=(0,F.Z)(function*(w){let x;const T=yield Gi(w.appConfig,U=>{const K=function N(w){return Tt(w||{fid:Ji(),registrationStatus:0})}(U),ie=function L(w,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject($t.create("app-offline"))};const T={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},U=function k(w,x){return Q.apply(this,arguments)}(w,T);return{installationEntry:T,registrationPromise:U}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:Ce(w)}:{installationEntry:x}}(w,K);return x=ie.registrationPromise,ie.installationEntry});return T.fid===$i?{installationEntry:yield x}:{installationEntry:T,registrationPromise:x}}),j.apply(this,arguments)}function Q(){return Q=(0,F.Z)(function*(w,x){try{const T=yield function Wn(w,x){return _t.apply(this,arguments)}(w,x);return Nn(w.appConfig,T)}catch(T){throw St(T)&&409===T.customData.serverCode?yield Xn(w.appConfig):yield Nn(w.appConfig,{fid:x.fid,registrationStatus:0}),T}}),Q.apply(this,arguments)}function Ce(w){return rt.apply(this,arguments)}function rt(){return(rt=(0,F.Z)(function*(w){let x=yield Rt(w.appConfig);for(;1===x.registrationStatus;)yield jn(100),x=yield Rt(w.appConfig);if(0===x.registrationStatus){const{installationEntry:T,registrationPromise:U}=yield G(w);return U||T}return x})).apply(this,arguments)}function Rt(w){return Gi(w,x=>{if(!x)throw $t.create("installation-not-found");return Tt(x)})}function Tt(w){return function rn(w){return 1===w.registrationStatus&&w.registrationTime+Ie<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Sn(){return(Sn=(0,F.Z)(function*({appConfig:w,heartbeatServiceProvider:x},T){const U=function Yt(w,{fid:x}){return`${an(w)}/${x}/authTokens:generate`}(w,T),K=function lr(w,{refreshToken:x}){const T=si(w);return T.append("Authorization",function ms(w){return`${We} ${w}`}(x)),T}(w,T),ie=x.getImmediate({optional:!0});if(ie){const mt=yield ie.getHeartbeatsHeader();mt&&K.append("x-firebase-client",mt)}const Ze={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:Re,appId:w.appId}})},Ye=yield cr(()=>fetch(U,Ze));if(Ye.ok)return Hn(yield Ye.json());throw yield kn("Generate Auth Token",Ye)})).apply(this,arguments)}function Ei(w){return Io.apply(this,arguments)}function Io(){return Io=(0,F.Z)(function*(w,x=!1){let T;const U=yield Gi(w.appConfig,ie=>{if(!cn(ie))throw $t.create("not-registered");const le=ie.authToken;if(!x&&function bt(w){return 2===w.requestStatus&&!function _n(w){const x=Date.now();return x<w.creationTime||w.creationTime+w.expiresIn<x+gt}(w)}(le))return ie;if(1===le.requestStatus)return T=function pe(w,x){return oe.apply(this,arguments)}(w,x),ie;{if(!navigator.onLine)throw $t.create("app-offline");const Ze=function fn(w){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:x})}(ie);return T=function yt(w,x){return kt.apply(this,arguments)}(w,Ze),Ze}});return T?yield T:U.authToken}),Io.apply(this,arguments)}function oe(){return(oe=(0,F.Z)(function*(w,x){let T=yield Le(w.appConfig);for(;1===T.authToken.requestStatus;)yield jn(100),T=yield Le(w.appConfig);const U=T.authToken;return 0===U.requestStatus?Ei(w,x):U})).apply(this,arguments)}function Le(w){return Gi(w,x=>{if(!cn(x))throw $t.create("not-registered");return function qi(w){return 1===w.requestStatus&&w.requestTime+Ie<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function kt(){return kt=(0,F.Z)(function*(w,x){try{const T=yield function Ot(w,x){return Sn.apply(this,arguments)}(w,x),U=Object.assign(Object.assign({},x),{authToken:T});return yield Nn(w.appConfig,U),T}catch(T){if(!St(T)||401!==T.customData.serverCode&&404!==T.customData.serverCode){const U=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Nn(w.appConfig,U)}else yield Xn(w.appConfig);throw T}}),kt.apply(this,arguments)}function cn(w){return void 0!==w&&2===w.registrationStatus}function Fl(){return(Fl=(0,F.Z)(function*(w){const x=w,{installationEntry:T,registrationPromise:U}=yield G(x);return U?U.catch(console.error):Ei(x).catch(console.error),T.fid})).apply(this,arguments)}function gs(){return gs=(0,F.Z)(function*(w,x=!1){const T=w;return yield function Ii(w){return nt.apply(this,arguments)}(T),(yield Ei(T,x)).token}),gs.apply(this,arguments)}function nt(){return(nt=(0,F.Z)(function*(w){const{registrationPromise:x}=yield G(w);x&&(yield x)})).apply(this,arguments)}function Qr(w){return $t.create("missing-app-config-values",{valueName:w})}const Xt="installations",Vr=w=>{const x=w.getProvider("app").getImmediate(),T=function Ua(w){if(!w||!w.options)throw Qr("App Configuration");if(!w.name)throw Qr("App Name");const x=["projectId","apiKey","appId"];for(const T of x)if(!w.options[T])throw Qr(T);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(x);return{app:x,appConfig:T,heartbeatServiceProvider:(0,se._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},Ks=w=>{const x=w.getProvider("app").getImmediate(),T=(0,se._getProvider)(x,Xt).getImmediate();return{getId:()=>function xi(w){return Fl.apply(this,arguments)}(T),getToken:K=>function yf(w){return gs.apply(this,arguments)}(T,K)}};(function So(){(0,se._registerComponent)(new re.wA(Xt,Vr,"PUBLIC")),(0,se._registerComponent)(new re.wA("installations-internal",Ks,"PRIVATE"))})(),(0,se.registerVersion)(_e,ge),(0,se.registerVersion)(_e,ge,"esm2017");const ui="@firebase/remote-config",Ti=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Fm{constructor(x,T,U,K){this.client=x,this.storage=T,this.storageCache=U,this.logger=K}isCachedDataFresh(x,T){if(!T)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-T,K=U<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${K}.`),K}fetch(x){var T=this;return(0,F.Z)(function*(){const[U,K]=yield Promise.all([T.storage.getLastSuccessfulFetchTimestampMillis(),T.storage.getLastSuccessfulFetchResponse()]);if(K&&T.isCachedDataFresh(x.cacheMaxAgeMillis,U))return K;x.eTag=K&&K.eTag;const ie=yield T.client.fetch(x),le=[T.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ie.status&&le.push(T.storage.setLastSuccessfulFetchResponse(ie)),yield Promise.all(le),ie})()}}function sd(w=navigator){return w.languages&&w.languages[0]||w.language}class vf{constructor(x,T,U,K,ie,le){this.firebaseInstallations=x,this.sdkVersion=T,this.namespace=U,this.projectId=K,this.apiKey=ie,this.appId=le}fetch(x){var T=this;return(0,F.Z)(function*(){const[U,K]=yield Promise.all([T.firebaseInstallations.getId(),T.firebaseInstallations.getToken()]),le=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${T.projectId}/namespaces/${T.namespace}:fetch?key=${T.apiKey}`,Ze={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},Ye={sdk_version:T.sdkVersion,app_instance_id:U,app_instance_id_token:K,app_id:T.appId,language_code:sd()},mt={method:"POST",headers:Ze,body:JSON.stringify(Ye)},Lt=fetch(le,mt),Vt=new Promise((Ri,yo)=>{x.signal.addEventListener(()=>{const vo=new Error("The operation was aborted.");vo.name="AbortError",yo(vo)})});let Bi;try{yield Promise.race([Lt,Vt]),Bi=yield Lt}catch(Ri){let yo="fetch-client-network";throw"AbortError"===Ri?.name&&(yo="fetch-timeout"),Ti.create(yo,{originalErrorMessage:Ri?.message})}let xn=Bi.status;const Jt=Bi.headers.get("ETag")||void 0;let _o,hl;if(200===Bi.status){let Ri;try{Ri=yield Bi.json()}catch(yo){throw Ti.create("fetch-client-parse",{originalErrorMessage:yo?.message})}_o=Ri.entries,hl=Ri.state}if("INSTANCE_STATE_UNSPECIFIED"===hl?xn=500:"NO_CHANGE"===hl?xn=304:("NO_TEMPLATE"===hl||"EMPTY_CONFIG"===hl)&&(_o={}),304!==xn&&200!==xn)throw Ti.create("fetch-status",{httpStatus:xn});return{status:xn,eTag:Jt,config:_o}})()}}class ld{constructor(x,T){this.client=x,this.storage=T}fetch(x){var T=this;return(0,F.Z)(function*(){const U=(yield T.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return T.attemptFetch(x,U)})()}attemptFetch(x,{throttleEndTimeMillis:T,backoffCount:U}){var K=this;return(0,F.Z)(function*(){yield function ad(w,x){return new Promise((T,U)=>{const K=Math.max(x-Date.now(),0),ie=setTimeout(T,K);w.addEventListener(()=>{clearTimeout(ie),U(Ti.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,T);try{const ie=yield K.client.fetch(x);return yield K.storage.deleteThrottleMetadata(),ie}catch(ie){if(!function Nm(w){if(!(w instanceof ue.ZR&&w.customData))return!1;const x=Number(w.customData.httpStatus);return 429===x||500===x||503===x||504===x}(ie))throw ie;const le={throttleEndTimeMillis:Date.now()+(0,ue.$s)(U),backoffCount:U+1};return yield K.storage.setThrottleMetadata(le),K.attemptFetch(x,le)}})()}}class bf{constructor(x,T,U,K,ie){this.app=x,this._client=T,this._storageCache=U,this._storage=K,this._logger=ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Go(w,x){const T=w.target.error||void 0;return Ti.create(x,{originalErrorMessage:T&&T?.message})}const Ar="app_namespace_store";class dd{constructor(x,T,U,K=function Cf(){return new Promise((w,x)=>{try{const T=indexedDB.open("firebase_remote_config",1);T.onerror=U=>{x(Go(U,"storage-open"))},T.onsuccess=U=>{w(U.target.result)},T.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(Ar,{keyPath:"compositeKey"})}}catch(T){x(Ti.create("storage-open",{originalErrorMessage:T?.message}))}})}()){this.appId=x,this.appName=T,this.namespace=U,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var T=this;return(0,F.Z)(function*(){const U=yield T.openDbPromise;return new Promise((K,ie)=>{const Ze=U.transaction([Ar],"readonly").objectStore(Ar),Ye=T.createCompositeKey(x);try{const mt=Ze.get(Ye);mt.onerror=Lt=>{ie(Go(Lt,"storage-get"))},mt.onsuccess=Lt=>{const Vt=Lt.target.result;K(Vt?Vt.value:void 0)}}catch(mt){ie(Ti.create("storage-get",{originalErrorMessage:mt?.message}))}})})()}set(x,T){var U=this;return(0,F.Z)(function*(){const K=yield U.openDbPromise;return new Promise((ie,le)=>{const Ye=K.transaction([Ar],"readwrite").objectStore(Ar),mt=U.createCompositeKey(x);try{const Lt=Ye.put({compositeKey:mt,value:T});Lt.onerror=Vt=>{le(Go(Vt,"storage-set"))},Lt.onsuccess=()=>{ie()}}catch(Lt){le(Ti.create("storage-set",{originalErrorMessage:Lt?.message}))}})})()}delete(x){var T=this;return(0,F.Z)(function*(){const U=yield T.openDbPromise;return new Promise((K,ie)=>{const Ze=U.transaction([Ar],"readwrite").objectStore(Ar),Ye=T.createCompositeKey(x);try{const mt=Ze.delete(Ye);mt.onerror=Lt=>{ie(Go(Lt,"storage-delete"))},mt.onsuccess=()=>{K()}}catch(mt){ie(Ti.create("storage-delete",{originalErrorMessage:mt?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class qo{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,F.Z)(function*(){const T=x.storage.getLastFetchStatus(),U=x.storage.getLastSuccessfulFetchTimestampMillis(),K=x.storage.getActiveConfig(),ie=yield T;ie&&(x.lastFetchStatus=ie);const le=yield U;le&&(x.lastSuccessfulFetchTimestampMillis=le);const Ze=yield K;Ze&&(x.activeConfig=Ze)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function fd(){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,F.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function Js(){(0,se._registerComponent)(new re.wA("remote-config",function w(x,{instanceIdentifier:T}){const U=x.getProvider("app").getImmediate(),K=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ti.create("registration-window");if(!(0,ue.hl)())throw Ti.create("indexed-db-unavailable");const{projectId:ie,apiKey:le,appId:Ze}=U.options;if(!ie)throw Ti.create("registration-project-id");if(!le)throw Ti.create("registration-api-key");if(!Ze)throw Ti.create("registration-app-id");const Ye=new dd(Ze,U.name,T=T||"firebase"),mt=new qo(Ye),Lt=new Ee.Yd(ui);Lt.logLevel=Ee.in.ERROR;const Vt=new vf(K,se.SDK_VERSION,T,ie,le,Ze),Bi=new ld(Vt,Ye),xn=new Fm(Bi,Ye,mt,Lt),Jt=new bf(U,xn,mt,Ye,Lt);return function nr(w){const x=(0,ue.m9)(w);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Jt),Jt},"PUBLIC").setMultipleInstances(!0)),(0,se.registerVersion)(ui,"0.4.4"),(0,se.registerVersion)(ui,"0.4.4","esm2017")}();const Df=(w,x)=>x.some(T=>w instanceof T);let Yo,zc;const ea=new WeakMap,Cs=new WeakMap,Ln=new WeakMap,$a=new WeakMap,Ul=new WeakMap;let Es={get(w,x,T){if(w instanceof IDBTransaction){if("done"===x)return Cs.get(w);if("objectStoreNames"===x)return w.objectStoreNames||Ln.get(w);if("store"===x)return T.objectStoreNames[1]?void 0:T.objectStore(T.objectStoreNames[0])}return ir(w[x])},set:(w,x,T)=>(w[x]=T,!0),has:(w,x)=>w instanceof IDBTransaction&&("done"===x||"store"===x)||x in w};function Hl(w){return"function"==typeof w?function xf(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ef(){return zc||(zc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...x){return w.apply(Ai(this),x),ir(ea.get(this))}:function(...x){return ir(w.apply(Ai(this),x))}:function(x,...T){const U=w.call(Ai(this),x,...T);return Ln.set(U,x.sort?x.sort():[x]),ir(U)}}(w):(w instanceof IDBTransaction&&function Ds(w){if(Cs.has(w))return;const x=new Promise((T,U)=>{const K=()=>{w.removeEventListener("complete",ie),w.removeEventListener("error",le),w.removeEventListener("abort",le)},ie=()=>{T(),K()},le=()=>{U(w.error||new DOMException("AbortError","AbortError")),K()};w.addEventListener("complete",ie),w.addEventListener("error",le),w.addEventListener("abort",le)});Cs.set(w,x)}(w),Df(w,function Bl(){return Yo||(Yo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,Es):w)}function ir(w){if(w instanceof IDBRequest)return function di(w){const x=new Promise((T,U)=>{const K=()=>{w.removeEventListener("success",ie),w.removeEventListener("error",le)},ie=()=>{T(ir(w.result)),K()},le=()=>{U(w.error),K()};w.addEventListener("success",ie),w.addEventListener("error",le)});return x.then(T=>{T instanceof IDBCursor&&ea.set(T,w)}).catch(()=>{}),Ul.set(x,w),x}(w);if($a.has(w))return $a.get(w);const x=Hl(w);return x!==w&&($a.set(w,x),Ul.set(x,w)),x}const Ai=w=>Ul.get(w);function Ga(w,x,{blocked:T,upgrade:U,blocking:K,terminated:ie}={}){const le=indexedDB.open(w,x),Ze=ir(le);return U&&le.addEventListener("upgradeneeded",Ye=>{U(ir(le.result),Ye.oldVersion,Ye.newVersion,ir(le.transaction))}),T&&le.addEventListener("blocked",()=>T()),Ze.then(Ye=>{ie&&Ye.addEventListener("close",()=>ie()),K&&Ye.addEventListener("versionchange",()=>K())}).catch(()=>{}),Ze}function Wo(w,{blocked:x}={}){const T=indexedDB.deleteDatabase(w);return x&&T.addEventListener("blocked",()=>x()),ir(T).then(()=>{})}const pd=["get","getKey","getAll","getAllKeys","count"],Ao=["put","add","delete","clear"],qa=new Map;function ta(w,x){if(!(w instanceof IDBDatabase)||x in w||"string"!=typeof x)return;if(qa.get(x))return qa.get(x);const T=x.replace(/FromIndex$/,""),U=x!==T,K=Ao.includes(T);if(!(T in(U?IDBIndex:IDBObjectStore).prototype)||!K&&!pd.includes(T))return;const ie=function(){var le=(0,F.Z)(function*(Ze,...Ye){const mt=this.transaction(Ze,K?"readwrite":"readonly");let Lt=mt.store;return U&&(Lt=Lt.index(Ye.shift())),(yield Promise.all([Lt[T](...Ye),K&&mt.done]))[0]});return function(Ye){return le.apply(this,arguments)}}();return qa.set(x,ie),ie}!function Li(w){Es=w(Es)}(w=>({...w,get:(x,T,U)=>ta(x,T)||w.get(x,T,U),has:(x,T)=>!!ta(x,T)||w.has(x,T)}));const Nt="/firebase-messaging-sw.js",jl="/firebase-cloud-messaging-push-scope",If="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",$c="https://fcmregistrations.googleapis.com/v1",Gc="google.c.a.c_id",qc="google.c.a.c_l",md="google.c.a.ts",gd="google.c.a.e";var me=(()=>{return(w=me||(me={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",me;var w})();function jt(w){const x=new Uint8Array(w);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Yc(w){const T=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(T),K=new Uint8Array(U.length);for(let ie=0;ie<U.length;++ie)K[ie]=U.charCodeAt(ie);return K}const Ya="fcm_token_details_db",Jn=5,_d="fcm_token_object_Store";function Ur(){return Ur=(0,F.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ie=>ie.name).includes(Ya))return null;let x=null;return(yield Ga(Ya,Jn,{upgrade:(U=(0,F.Z)(function*(K,ie,le,Ze){var Ye;if(ie<2||!K.objectStoreNames.contains(_d))return;const mt=Ze.objectStore(_d),Lt=yield mt.index("fcmSenderId").get(w);if(yield mt.clear(),Lt)if(2===ie){const Vt=Lt;if(!Vt.auth||!Vt.p256dh||!Vt.endpoint)return;x={token:Vt.fcmToken,createTime:null!==(Ye=Vt.createTime)&&void 0!==Ye?Ye:Date.now(),subscriptionOptions:{auth:Vt.auth,p256dh:Vt.p256dh,endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:"string"==typeof Vt.vapidKey?Vt.vapidKey:jt(Vt.vapidKey)}}}else if(3===ie){const Vt=Lt;x={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:jt(Vt.auth),p256dh:jt(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:jt(Vt.vapidKey)}}}else if(4===ie){const Vt=Lt;x={token:Vt.fcmToken,createTime:Vt.createTime,subscriptionOptions:{auth:jt(Vt.auth),p256dh:jt(Vt.p256dh),endpoint:Vt.endpoint,swScope:Vt.swScope,vapidKey:jt(Vt.vapidKey)}}}}),function(ie,le,Ze,Ye){return U.apply(this,arguments)})})).close(),yield Wo(Ya),yield Wo("fcm_vapid_details_db"),yield Wo("undefined"),function zl(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:x}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}(x)?x:null;var U}),Ur.apply(this,arguments)}const yd="firebase-messaging-database",vd=1,Zo="firebase-messaging-store";let ia=null;function Vi(){return ia||(ia=Ga(yd,vd,{upgrade:(w,x)=>{0===x&&w.createObjectStore(Zo)}})),ia}function pr(w){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,F.Z)(function*(w){const x=wd(w),U=yield(yield Vi()).transaction(Zo).objectStore(Zo).get(x);if(U)return U;{const K=yield function na(w){return Ur.apply(this,arguments)}(w.appConfig.senderId);if(K)return yield Mo(w,K),K}}),Ko.apply(this,arguments)}function Mo(w,x){return fo.apply(this,arguments)}function fo(){return(fo=(0,F.Z)(function*(w,x){const T=wd(w),K=(yield Vi()).transaction(Zo,"readwrite");return yield K.objectStore(Zo).put(x,T),yield K.done,x})).apply(this,arguments)}function xs(){return(xs=(0,F.Z)(function*(w){const x=wd(w),U=(yield Vi()).transaction(Zo,"readwrite");yield U.objectStore(Zo).delete(x),yield U.done})).apply(this,arguments)}function wd({appConfig:w}){return w.appId}const ei=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function $l(w,x){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,F.Z)(function*(w,x){const T=yield Za(w),U=ql(x),K={method:"POST",headers:T,body:JSON.stringify(U)};let ie;try{ie=yield(yield fetch(Wc(w.appConfig),K)).json()}catch(le){throw ei.create("token-subscribe-failed",{errorInfo:le?.toString()})}if(ie.error)throw ei.create("token-subscribe-failed",{errorInfo:ie.error.message});if(!ie.token)throw ei.create("token-subscribe-no-token");return ie.token})).apply(this,arguments)}function Gl(){return(Gl=(0,F.Z)(function*(w,x){const T=yield Za(w),U=ql(x.subscriptionOptions),K={method:"PATCH",headers:T,body:JSON.stringify(U)};let ie;try{ie=yield(yield fetch(`${Wc(w.appConfig)}/${x.token}`,K)).json()}catch(le){throw ei.create("token-update-failed",{errorInfo:le?.toString()})}if(ie.error)throw ei.create("token-update-failed",{errorInfo:ie.error.message});if(!ie.token)throw ei.create("token-update-no-token");return ie.token})).apply(this,arguments)}function Dd(w,x){return ra.apply(this,arguments)}function ra(){return(ra=(0,F.Z)(function*(w,x){const U={method:"DELETE",headers:yield Za(w)};try{const ie=yield(yield fetch(`${Wc(w.appConfig)}/${x}`,U)).json();if(ie.error)throw ei.create("token-unsubscribe-failed",{errorInfo:ie.error.message})}catch(K){throw ei.create("token-unsubscribe-failed",{errorInfo:K?.toString()})}})).apply(this,arguments)}function Wc({projectId:w}){return`${$c}/projects/${w}/registrations`}function Za(w){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,F.Z)(function*({appConfig:w,installations:x}){const T=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${T}`})})).apply(this,arguments)}function ql({p256dh:w,auth:x,endpoint:T,vapidKey:U}){const K={web:{endpoint:T,auth:x,p256dh:w}};return U!==If&&(K.web.applicationPubKey=U),K}const Ed=6048e5;function xd(){return xd=(0,F.Z)(function*(w){const x=yield function Bm(w,x){return Sd.apply(this,arguments)}(w.swRegistration,w.vapidKey),T={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:x.endpoint,auth:jt(x.getKey("auth")),p256dh:jt(x.getKey("p256dh"))},U=yield pr(w.firebaseDependencies);if(U){if(function Um(w,x){return x.vapidKey===w.vapidKey&&x.endpoint===w.endpoint&&x.auth===w.auth&&x.p256dh===w.p256dh}(U.subscriptionOptions,T))return Date.now()>=U.createTime+Ed?function Pn(w,x){return Id.apply(this,arguments)}(w,{token:U.token,createTime:Date.now(),subscriptionOptions:T}):U.token;try{yield Dd(w.firebaseDependencies,U.token)}catch(K){console.warn(K)}return oa(w.firebaseDependencies,T)}return oa(w.firebaseDependencies,T)}),xd.apply(this,arguments)}function po(){return po=(0,F.Z)(function*(w){const x=yield pr(w.firebaseDependencies);x&&(yield Dd(w.firebaseDependencies,x.token),yield function bd(w){return xs.apply(this,arguments)}(w.firebaseDependencies));const T=yield w.swRegistration.pushManager.getSubscription();return!T||T.unsubscribe()}),po.apply(this,arguments)}function Id(){return Id=(0,F.Z)(function*(w,x){try{const T=yield function Cd(w,x){return Gl.apply(this,arguments)}(w.firebaseDependencies,x),U=Object.assign(Object.assign({},x),{token:T,createTime:Date.now()});return yield Mo(w.firebaseDependencies,U),T}catch(T){throw yield function Yi(w){return po.apply(this,arguments)}(w),T}}),Id.apply(this,arguments)}function oa(w,x){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,F.Z)(function*(w,x){const U={token:yield $l(w,x),createTime:Date.now(),subscriptionOptions:x};return yield Mo(w,U),U.token})).apply(this,arguments)}function Sd(){return(Sd=(0,F.Z)(function*(w,x){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Yc(x)})})).apply(this,arguments)}function Yl(w){const x={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Xc(w,x){if(!x.notification)return;w.notification={};const T=x.notification.title;T&&(w.notification.title=T);const U=x.notification.body;U&&(w.notification.body=U);const K=x.notification.image;K&&(w.notification.image=K);const ie=x.notification.icon;ie&&(w.notification.icon=ie)}(x,w),function Td(w,x){x.data&&(w.data=x.data)}(x,w),function Ad(w,x){var T,U,K,ie,le;if(!(x.fcmOptions||null!==(T=x.notification)&&void 0!==T&&T.click_action))return;w.fcmOptions={};const Ze=null!==(K=null===(U=x.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==K?K:null===(ie=x.notification)||void 0===ie?void 0:ie.click_action;Ze&&(w.fcmOptions.link=Ze);const Ye=null===(le=x.fcmOptions)||void 0===le?void 0:le.analytics_label;Ye&&(w.fcmOptions.analyticsLabel=Ye)}(x,w),x}function sa(w,x){const T=[];for(let U=0;U<w.length;U++)T.push(w.charAt(U)),U<x.length&&T.push(x.charAt(U));return T.join("")}function Ro(w){return ei.create("missing-app-config-values",{valueName:w})}sa("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sa("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hm{constructor(x,T,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function Ka(w){if(!w||!w.options)throw Ro("App Configuration Object");if(!w.name)throw Ro("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:T}=w;for(const U of x)if(!T[U])throw Ro(U);return{appName:w.name,projectId:T.projectId,apiKey:T.apiKey,appId:T.appId,senderId:T.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:K,installations:T,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Sf(w){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,F.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Nt,{scope:jl}),w.swRegistration.update().catch(()=>{})}catch(x){throw ei.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function ko(){return(ko=(0,F.Z)(function*(w,x){if(!x&&!w.swRegistration&&(yield Sf(w)),x||!w.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw ei.create("invalid-sw-registration");w.swRegistration=x}})).apply(this,arguments)}function Qa(){return(Qa=(0,F.Z)(function*(w,x){x?w.vapidKey=x:w.vapidKey||(w.vapidKey=If)})).apply(this,arguments)}function aa(){return aa=(0,F.Z)(function*(w,x){if(!navigator)throw ei.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ei.create("permission-blocked");return yield function Jc(w,x){return Qa.apply(this,arguments)}(w,x?.vapidKey),yield function Md(w,x){return ko.apply(this,arguments)}(w,x?.serviceWorkerRegistration),function Kc(w){return xd.apply(this,arguments)}(w)}),aa.apply(this,arguments)}function Qo(){return(Qo=(0,F.Z)(function*(w,x,T){const U=function Is(w){switch(w){case me.NOTIFICATION_CLICKED:return"notification_open";case me.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(x);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:T[Gc],message_name:T[qc],message_time:T[md],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ss(){return Ss=(0,F.Z)(function*(w,x){const T=x.data;if(!T.isFirebaseMessaging)return;w.onMessageHandler&&T.messageType===me.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(Yl(T)):w.onMessageHandler.next(Yl(T)));const U=T.data;(function Wl(w){return"object"==typeof w&&!!w&&Gc in w})(U)&&"1"===U[gd]&&(yield function Rd(w,x,T){return Qo.apply(this,arguments)}(w,T.messageType,U))}),Ss.apply(this,arguments)}const ca="@firebase/messaging",Ja=w=>{const x=new Hm(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",T=>function la(w,x){return Ss.apply(this,arguments)}(x,T)),x},eu=w=>{const x=w.getProvider("messaging").getImmediate();return{getToken:U=>function Kl(w,x){return aa.apply(this,arguments)}(x,U)}};function Tf(){return tu.apply(this,arguments)}function tu(){return(tu=(0,F.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function el(){(0,se._registerComponent)(new re.wA("messaging",Ja,"PUBLIC")),(0,se._registerComponent)(new re.wA("messaging-internal",eu,"PRIVATE")),(0,se.registerVersion)(ca,"0.12.4"),(0,se.registerVersion)(ca,"0.12.4","esm2017")}();const Xo="analytics",Xl="firebase_id",Pd="origin",tl=6e4,Fd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Jl="https://www.googletagmanager.com/gtag/js",hi=new Ee.Yd("@firebase/analytics"),Vn=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Af(w){if(!w.startsWith(Jl)){const x=Vn.create("invalid-gtag-resource",{gtagURL:w});return hi.warn(x.message),""}return w}function Jo(w){return Promise.all(w.map(x=>x.catch(T=>T)))}function es(){return(es=(0,F.Z)(function*(w,x,T,U,K,ie){const le=U[K];try{if(le)yield x[le];else{const Ye=(yield Jo(T)).find(mt=>mt.measurementId===K);Ye&&(yield x[Ye.appId])}}catch(Ze){hi.error(Ze)}w("config",K,ie)})).apply(this,arguments)}function Ts(){return(Ts=(0,F.Z)(function*(w,x,T,U,K){try{let ie=[];if(K&&K.send_to){let le=K.send_to;Array.isArray(le)||(le=[le]);const Ze=yield Jo(T);for(const Ye of le){const mt=Ze.find(Vt=>Vt.measurementId===Ye),Lt=mt&&x[mt.appId];if(!Lt){ie=[];break}ie.push(Lt)}}0===ie.length&&(ie=Object.values(x)),yield Promise.all(ie),w("event",U,K||{})}catch(ie){hi.error(ie)}})).apply(this,arguments)}const tc=30,Rs=new class Nd{constructor(x={},T=1e3){this.throttleMetadata=x,this.intervalMillis=T}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,T){this.throttleMetadata[x]=T}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Rf(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function pn(){return(pn=(0,F.Z)(function*(w){var x;const{appId:T,apiKey:U}=w,K={method:"GET",headers:Rf(U)},ie=Fd.replace("{app-id}",T),le=yield fetch(ie,K);if(200!==le.status&&304!==le.status){let Ze="";try{const Ye=yield le.json();null!==(x=Ye.error)&&void 0!==x&&x.message&&(Ze=Ye.error.message)}catch{}throw Vn.create("config-fetch-failed",{httpStatus:le.status,responseMessage:Ze})}return le.json()})).apply(this,arguments)}function Vd(){return(Vd=(0,F.Z)(function*(w,x=Rs,T){const{appId:U,apiKey:K,measurementId:ie}=w.options;if(!U)throw Vn.create("no-app-id");if(!K){if(ie)return{measurementId:ie,appId:U};throw Vn.create("no-api-key")}const le=x.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ze=new uy;return setTimeout((0,F.Z)(function*(){Ze.abort()}),void 0!==T?T:tl),lu({appId:U,apiKey:K,measurementId:ie},le,Ze,x)})).apply(this,arguments)}function lu(w,x,T){return cu.apply(this,arguments)}function cu(){return cu=(0,F.Z)(function*(w,{throttleEndTimeMillis:x,backoffCount:T},U,K=Rs){var ie;const{appId:le,measurementId:Ze}=w;try{yield function kf(w,x){return new Promise((T,U)=>{const K=Math.max(x-Date.now(),0),ie=setTimeout(T,K);w.addEventListener(()=>{clearTimeout(ie),U(Vn.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(U,x)}catch(Ye){if(Ze)return hi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${Ye?.message}]`),{appId:le,measurementId:Ze};throw Ye}try{const Ye=yield function Ld(w){return pn.apply(this,arguments)}(w);return K.deleteThrottleMetadata(le),Ye}catch(Ye){const mt=Ye;if(!function cy(w){if(!(w instanceof ue.ZR&&w.customData))return!1;const x=Number(w.customData.httpStatus);return 429===x||500===x||503===x||504===x}(mt)){if(K.deleteThrottleMetadata(le),Ze)return hi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ze} provided in the "measurementId" field in the local Firebase config. [${mt?.message}]`),{appId:le,measurementId:Ze};throw Ye}const Lt=503===Number(null===(ie=mt?.customData)||void 0===ie?void 0:ie.httpStatus)?(0,ue.$s)(T,K.intervalMillis,tc):(0,ue.$s)(T,K.intervalMillis),Vt={throttleEndTimeMillis:Date.now()+Lt,backoffCount:T+1};return K.setThrottleMetadata(le,Vt),hi.debug(`Calling attemptFetch again in ${Lt} millis`),lu(w,Vt,U,K)}}),cu.apply(this,arguments)}class uy{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let ks,fa;function Of(){return(Of=(0,F.Z)(function*(w,x,T,U,K){if(K&&K.global)w("event",T,U);else{const ie=yield x;w("event",T,Object.assign(Object.assign({},U),{send_to:ie}))}})).apply(this,arguments)}function gn(){return(gn=(0,F.Z)(function*(){if(!(0,ue.hl)())return hi.warn(Vn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(w){return hi.warn(Vn.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function Qe(){return Qe=(0,F.Z)(function*(w,x,T,U,K,ie,le){var Ze;const Ye=function au(w){return Vd.apply(this,arguments)}(w);Ye.then(xn=>{T[xn.measurementId]=xn.appId,w.options.measurementId&&xn.measurementId!==w.options.measurementId&&hi.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xn=>hi.error(xn)),x.push(Ye);const mt=function Hr(){return gn.apply(this,arguments)}().then(xn=>{if(xn)return U.getId()}),[Lt,Vt]=yield Promise.all([Ye,mt]);(function Ms(w){const x=window.document.getElementsByTagName("script");for(const T of Object.values(x))if(T.src&&T.src.includes(Jl)&&T.src.includes(w))return T;return null})(ie)||function da(w,x){const T=function ec(w,x){let T;return window.trustedTypes&&(T=window.trustedTypes.createPolicy(w,x)),T}("firebase-js-sdk-policy",{createScriptURL:Af}),U=document.createElement("script"),K=`${Jl}?l=${w}&id=${x}`;U.src=T?T?.createScriptURL(K):K,U.async=!0,document.head.appendChild(U)}(ie,Lt.measurementId),fa&&(K("consent","default",fa),function rl(w){fa=w}(void 0)),K("js",new Date);const Bi=null!==(Ze=le?.config)&&void 0!==Ze?Ze:{};return Bi[Pd]="firebase",Bi.update=!0,null!=Vt&&(Bi[Xl]=Vt),K("config",Lt.measurementId,Bi),ks&&(K("set",ks),function rc(w){ks=w}(void 0)),Lt.measurementId}),Qe.apply(this,arguments)}class Gt{constructor(x){this.app=x}_delete(){return delete Fn[this.app.options.appId],Promise.resolve()}}let Fn={},Ud=[];const ol={};let Hd,jr,qn="dataLayer",hu="gtag",ns=!1;function pa(w,x,T){!function Os(){const w=[];if((0,ue.ru)()&&w.push("This is a browser extension environment."),(0,ue.zI)()||w.push("Cookies are not available."),w.length>0){const x=w.map((U,K)=>`(${K+1}) ${U}`).join(" "),T=Vn.create("invalid-analytics-context",{errorInfo:x});hi.warn(T.message)}}();const U=w.options.appId;if(!U)throw Vn.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw Vn.create("no-api-key");hi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fn[U])throw Vn.create("already-exists",{id:U});if(!ns){!function ru(w){let x=[];Array.isArray(window[w])?x=window[w]:window[w]=x}(qn);const{wrappedGtag:ie,gtagCore:le}=function As(w,x,T,U,K){let ie=function(...le){window[U].push(arguments)};return window[K]&&"function"==typeof window[K]&&(ie=window[K]),window[K]=function nl(w,x,T,U){function ie(){return ie=(0,F.Z)(function*(le,...Ze){try{if("event"===le){const[Ye,mt]=Ze;yield function Mf(w,x,T,U,K){return Ts.apply(this,arguments)}(w,x,T,Ye,mt)}else if("config"===le){const[Ye,mt]=Ze;yield function ou(w,x,T,U,K,ie){return es.apply(this,arguments)}(w,x,T,U,Ye,mt)}else if("consent"===le){const[Ye]=Ze;w("consent","update",Ye)}else if("get"===le){const[Ye,mt,Lt]=Ze;w("get",Ye,mt,Lt)}else if("set"===le){const[Ye]=Ze;w("set",Ye)}else w(le,...Ze)}catch(Ye){hi.error(Ye)}}),ie.apply(this,arguments)}return function K(le){return ie.apply(this,arguments)}}(ie,w,x,T),{gtagCore:ie,wrappedGtag:window[K]}}(Fn,Ud,ol,qn,hu);jr=ie,Hd=le,ns=!0}return Fn[U]=function Jr(w,x,T,U,K,ie,le){return Qe.apply(this,arguments)}(w,Ud,ol,x,Hd,qn,T),new Gt(w)}function jd(){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,F.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const is="@firebase/analytics";!function pu(){(0,se._registerComponent)(new re.wA(Xo,(x,{options:T})=>pa(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),T),"PUBLIC")),(0,se._registerComponent)(new re.wA("analytics-internal",function w(x){try{const T=x.getProvider(Xo).getImmediate();return{logEvent:(U,K,ie)=>function Pf(w,x,T,U){w=(0,ue.m9)(w),function dy(w,x,T,U,K){return Of.apply(this,arguments)}(jr,Fn[w.app.options.appId],x,T,U).catch(K=>hi.error(K))}(T,U,K,ie)}}catch(T){throw Vn.create("interop-component-reg-failed",{reason:T})}},"PRIVATE")),(0,se.registerVersion)(is,"0.10.0"),(0,se.registerVersion)(is,"0.10.0","esm2017")}();var zr=B(4408),mr=B(7565);const Mi=new class eo extends mr.v{}(class ma extends zr.o{constructor(x,T){super(x,T),this.scheduler=x,this.work=T}schedule(x,T=0){return T>0?super.schedule(x,T):(this.delay=T,this.state=x,this.scheduler.flush(this),this)}execute(x,T){return T>0||this.closed?super.execute(x,T):this._execute(x,T)}requestAsyncId(x,T,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(x,T,U):(x.flush(this),0)}});var zd=B(4986),Bn=B(8505),Wi=B(9468),go=B(5363);const pi=new l.GfV("7.5.0"),Yn="__angularfire_symbol__analyticsIsSupportedValue",dl="__angularfire_symbol__analyticsIsSupported",cc="__angularfire_symbol__remoteConfigIsSupportedValue",ga="__angularfire_symbol__remoteConfigIsSupported",to="__angularfire_symbol__messagingIsSupportedValue",Oo="__angularfire_symbol__messagingIsSupported";function dc(w,x,T){if(x){if(1===x.length)return x[0];const ie=x.filter(le=>le.app===T);if(1===ie.length)return ie[0]}return T.container.getProvider(w).getImmediate({optional:!0})}globalThis[dl]||(globalThis[dl]=jd().then(w=>globalThis[Yn]=w).catch(()=>globalThis[Yn]=!1)),globalThis[Oo]||(globalThis[Oo]=Tf().then(w=>globalThis[to]=w).catch(()=>globalThis[to]=!1)),globalThis[ga]||(globalThis[ga]=fd().then(w=>globalThis[cc]=w).catch(()=>globalThis[cc]=!1));const _a=(w,x)=>{const T=x?[x]:(0,$.C6)(),U=[];return T.forEach(K=>{K.container.getProvider(w).instances.forEach(le=>{U.includes(le)||U.push(le)})}),U};function Fs(){}class mu{constructor(x,T=Mi){this.zone=x,this.delegate=T}now(){return this.delegate.now()}schedule(x,T,U){const K=this.zone;return this.delegate.schedule(function(le){K.runGuarded(()=>{x.apply(this,[le])})},T,U)}}class ya{constructor(x){this.zone=x,this.task=null}call(x,T){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fs,{},Fs,Fs)),T.pipe((0,Bn.b)({next:U,complete:U,error:U})).subscribe(x).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let At=(()=>{class w{constructor(T){this.ngZone=T,this.outsideAngular=T.runOutsideAngular(()=>new mu(Zone.current)),this.insideAngular=T.run(()=>new mu(Zone.current,zd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(T){return new(T||w)(l.LFG(l.R0b))},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function gr(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function no(w){return gr(),function Gd(w){return function(T){return(T=T.lift(new ya(w.ngZone))).pipe((0,Wi.R)(w.outsideAngular),(0,go.Q)(w.insideAngular))}}(gr())(w)}},8502:(vt,Se,B)=>{B.d(Se,{$:()=>Nt,A:()=>q,D:()=>Ae,I:()=>Gn,J:()=>Vr,L:()=>ho,N:()=>Gi,P:()=>Jr,Q:()=>dd,R:()=>ic,U:()=>hd,V:()=>fd,W:()=>Vl,X:()=>To,Y:()=>Bl,Z:()=>Ef,_:()=>Ul,a:()=>rr,a0:()=>If,a1:()=>Gc,a2:()=>Lm,a3:()=>_d,a4:()=>Ur,a5:()=>yd,a6:()=>Zo,a7:()=>Vi,a8:()=>Ko,a9:()=>fo,aA:()=>ce,aB:()=>cc,aC:()=>Xn,aD:()=>tr,aE:()=>Wi,aF:()=>ll,aG:()=>al,aH:()=>yn,aL:()=>mo,aO:()=>Yo,aa:()=>bd,ab:()=>wd,ac:()=>Vm,ad:()=>Cd,ae:()=>Dd,af:()=>Wc,ai:()=>Ed,aj:()=>xd,ak:()=>Yi,an:()=>xf,ao:()=>Xc,aq:()=>Qa,ar:()=>ca,as:()=>Mt,at:()=>Tt,au:()=>Ce,av:()=>Te,aw:()=>Bi,ax:()=>ni,ay:()=>rn,az:()=>xe,b:()=>Ql,c:()=>jr,d:()=>pa,e:()=>oc,f:()=>is,g:()=>eo,h:()=>zr,i:()=>su,j:()=>zd,k:()=>Ri,l:()=>il,m:()=>Lf,p:()=>ye,r:()=>Bd,s:()=>ts,u:()=>Hr});var l=B(5861),$=B(2090),F=B(6881),se=B(655),ue=B(1877),re=B(4859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ke=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ct=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ke=new ue.Yd("@firebase/auth");function Ue(b,...p){ke.logLevel<=ue.in.ERROR&&ke.error(`Auth (${F.SDK_VERSION}): ${b}`,...p)}function Te(b,...p){throw Ne(b,...p)}function xe(b,...p){return Ne(b,...p)}function Oe(b,p,_){const C=Object.assign(Object.assign({},Ke()),{[p]:_});return new $.LL("auth","Firebase",C).create(p,{appName:b.name})}function je(b,p,_){if(!(p instanceof _))throw _.name!==p.constructor.name&&Te(b,"argument-error"),Oe(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(b,...p){if("string"!=typeof b){const _=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(_,...C)}return ct.create(b,...p)}function ce(b,p,..._){if(!b)throw Ne(p,..._)}function ot(b){const p="INTERNAL ASSERTION FAILED: "+b;throw Ue(p),new Error(p)}function Mt(b,p){b||ot(p)}function ut(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function sn(){return"http:"===ft()||"https:"===ft()}function ft(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Ie{constructor(p,_){this.shortDelay=p,this.longDelay=_,Mt(_>p,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function _e(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(sn()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Re(b,p){Mt(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return p?`${_}${p.startsWith("/")?p.slice(1):p}`:_}class We{static initialize(p,_,C){this.fetchImpl=p,_&&(this.headersImpl=_),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ot("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ot("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ot("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},gt=new Ie(3e4,6e4);function qe(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Ut(b,p,_,C){return xt.apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(b,p,_,C,R={}){return $t(b,R,(0,l.Z)(function*(){let P={},J={};C&&("GET"===p?J=C:P={body:JSON.stringify(C)});const de=(0,$.xO)(Object.assign({key:b.config.apiKey},J)).slice(1),Be=yield b._getAdditionalHeaders();return Be["Content-Type"]="application/json",b.languageCode&&(Be["X-Firebase-Locale"]=b.languageCode),We.fetch()(kn(b,b.config.apiHost,_,de),Object.assign({method:p,headers:Be,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function $t(b,p,_){return St.apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(b,p,_){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},Ge),p);try{const R=new zi(b),P=yield Promise.race([_(),R.promise]);R.clearNetworkTimeout();const J=yield P.json();if("needConfirmation"in J)throw si(b,"account-exists-with-different-credential",J);if(P.ok&&!("errorMessage"in J))return J;{const de=P.ok?J.errorMessage:J.error.message,[Be,Xe]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Be)throw si(b,"credential-already-in-use",J);if("EMAIL_EXISTS"===Be)throw si(b,"email-already-in-use",J);if("USER_DISABLED"===Be)throw si(b,"user-disabled",J);const Ct=C[Be]||Be.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw Oe(b,Ct,Xe);Te(b,Ct)}}catch(R){if(R instanceof $.ZR)throw R;Te(b,"network-request-failed",{message:String(R)})}})).apply(this,arguments)}function an(b,p,_,C){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(b,p,_,C,R={}){const P=yield Ut(b,p,_,C,R);return"mfaPendingCredential"in P&&Te(b,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function kn(b,p,_,C){const R=`${p}${_}?${C}`;return b.config.emulator?Re(b.config,R):`${b.config.apiScheme}://${R}`}class zi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((_,C)=>{this.timer=setTimeout(()=>C(xe(this.auth,"network-request-failed")),gt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function si(b,p,_){const C={appName:b.name};_.email&&(C.email=_.email),_.phoneNumber&&(C.phoneNumber=_.phoneNumber);const R=xe(b,p,C);return R.customData._tokenResponse=_,R}function cr(){return(cr=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Kr(){return(Kr=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Wn(){return(Wn=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function _t(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Zn(){return(Zn=(0,l.Z)(function*(b,p=!1){const _=(0,$.m9)(b),C=yield _.getIdToken(p),R=Ji(C);ce(R&&R.exp&&R.auth_time&&R.iat,_.auth,"internal-error");const P="object"==typeof R.firebase?R.firebase:void 0,J=P?.sign_in_provider;return{claims:R,token:C,authTime:_t($i(R.auth_time)),issuedAtTime:_t($i(R.iat)),expirationTime:_t($i(R.exp)),signInProvider:J||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function $i(b){return 1e3*Number(b)}function Ji(b){const[p,_,C]=b.split(".");if(void 0===p||void 0===_||void 0===C)return Ue("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,$.tV)(_);return R?JSON.parse(R):(Ue("Failed to decode base64 JWT payload"),null)}catch(R){return Ue("Caught error parsing JWT payload as JSON",R?.toString()),null}}function nn(b,p){return pt.apply(this,arguments)}function pt(){return(pt=(0,l.Z)(function*(b,p,_=!1){if(_)return p;try{return yield p}catch(C){throw C instanceof $.ZR&&function Ht({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}class Kn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var _;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const R=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(p=!1){var _=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),C)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_?.code&&p.schedule(!0))}p.schedule()})()}}class Pi{constructor(p,_){this.createdAt=p,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=_t(this.lastLoginAt),this.creationTime=_t(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zn(b){return dr.apply(this,arguments)}function dr(){return dr=(0,l.Z)(function*(b){var p;const _=b.auth,C=yield b.getIdToken(),R=yield nn(b,function ms(b,p){return Wn.apply(this,arguments)}(_,{idToken:C}));ce(R?.users.length,_,"internal-error");const P=R.users[0];b._notifyReloadListener(P);const J=null!==(p=P.providerUserInfo)&&void 0!==p&&p.length?function Lr(b){return b.map(p=>{var{providerId:_}=p,C=(0,se._T)(p,["providerId"]);return{providerId:_,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}(P.providerUserInfo):[],de=function ln(b,p){return[...b.filter(C=>!p.some(R=>R.providerId===C.providerId)),...p]}(b.providerData,J),Ct=!!b.isAnonymous&&!(b.email&&P.passwordHash||de?.length),en={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:de,metadata:new Pi(P.createdAt,P.lastLoginAt),isAnonymous:Ct};Object.assign(b,en)}),dr.apply(this,arguments)}function Di(){return(Di=(0,l.Z)(function*(b){const p=(0,$.m9)(b);yield zn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(b,p){const _=yield $t(b,{},(0,l.Z)(function*(){const C=(0,$.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:R,apiKey:P}=b.config,J=kn(b,R,"/v1/token",`key=${P}`),de=yield b._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",We.fetch()(J,{method:"POST",headers:de,body:C})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ce(p.idToken,"internal-error"),ce(typeof p.idToken<"u","internal-error"),ce(typeof p.refreshToken<"u","internal-error");const _="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function mn(b){const p=Ji(b);return ce(p,"internal-error"),ce(typeof p.exp<"u","internal-error"),ce(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,_)}getToken(p,_=!1){var C=this;return(0,l.Z)(function*(){return ce(!C.accessToken||C.refreshToken,p,"user-token-expired"),_||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,_){var C=this;return(0,l.Z)(function*(){const{accessToken:R,refreshToken:P,expiresIn:J}=yield function un(b,p){return hr.apply(this,arguments)}(p,_);C.updateTokensAndExpiration(R,P,Number(J))})()}updateTokensAndExpiration(p,_,C){this.refreshToken=_||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,_){const{refreshToken:C,accessToken:R,expirationTime:P}=_,J=new qt;return C&&(ce("string"==typeof C,"internal-error",{appName:p}),J.refreshToken=C),R&&(ce("string"==typeof R,"internal-error",{appName:p}),J.accessToken=R),P&&(ce("number"==typeof P,"internal-error",{appName:p}),J.expirationTime=P),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new qt,this.toJSON())}_performRefresh(){return ot("not implemented")}}function Qn(b,p){ce("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class Nn{constructor(p){var{uid:_,auth:C,stsTokenManager:R}=p,P=(0,se._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=C,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Pi(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var _=this;return(0,l.Z)(function*(){const C=yield nn(_,_.stsTokenManager.getToken(_.auth,p));return ce(C,_.auth,"internal-error"),_.accessToken!==C&&(_.accessToken=C,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),C})()}getIdTokenResult(p){return function uo(b){return Zn.apply(this,arguments)}(this,p)}reload(){return function $n(b){return Di.apply(this,arguments)}(this)}_assign(p){this!==p&&(ce(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(_=>Object.assign({},_)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const _=new Nn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return _.metadata._copy(this.metadata),_}_onReload(p){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,_=!1){var C=this;return(0,l.Z)(function*(){let R=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),R=!0),_&&(yield zn(C)),yield C.auth._persistUserIfCurrent(C),R&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,l.Z)(function*(){const _=yield p.getIdToken();return yield nn(p,function lr(b,p){return cr.apply(this,arguments)}(p.auth,{idToken:_})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,_){var C,R,P,J,de,Be,Xe,Ct;const en=null!==(C=_.displayName)&&void 0!==C?C:void 0,_r=null!==(R=_.email)&&void 0!==R?R:void 0,Ns=null!==(P=_.phoneNumber)&&void 0!==P?P:void 0,ba=null!==(J=_.photoURL)&&void 0!==J?J:void 0,gu=null!==(de=_.tenantId)&&void 0!==de?de:void 0,Fo=null!==(Be=_._redirectEventId)&&void 0!==Be?Be:void 0,jf=null!==(Xe=_.createdAt)&&void 0!==Xe?Xe:void 0,Zd=null!==(Ct=_.lastLoginAt)&&void 0!==Ct?Ct:void 0,{uid:_u,emailVerified:wa,isAnonymous:Kd,providerData:Qd,stsTokenManager:mc}=_;ce(_u&&mc,p,"internal-error");const Xd=qt.fromJSON(this.name,mc);ce("string"==typeof _u,p,"internal-error"),Qn(en,p.name),Qn(_r,p.name),ce("boolean"==typeof wa,p,"internal-error"),ce("boolean"==typeof Kd,p,"internal-error"),Qn(Ns,p.name),Qn(ba,p.name),Qn(gu,p.name),Qn(Fo,p.name),Qn(jf,p.name),Qn(Zd,p.name);const gc=new Nn({uid:_u,auth:p,email:_r,emailVerified:wa,displayName:en,isAnonymous:Kd,photoURL:ba,phoneNumber:Ns,tenantId:gu,stsTokenManager:Xd,createdAt:jf,lastLoginAt:Zd});return Qd&&Array.isArray(Qd)&&(gc.providerData=Qd.map(Ca=>Object.assign({},Ca))),Fo&&(gc._redirectEventId=Fo),gc}static _fromIdTokenResponse(p,_,C=!1){return(0,l.Z)(function*(){const R=new qt;R.updateFromServerResponse(_);const P=new Nn({uid:_.localId,auth:p,stsTokenManager:R,isAnonymous:C});return yield zn(P),P})()}}const Fi=new Map;function Xn(b){Mt(b instanceof Function,"Expected a class definition");let p=Fi.get(b);return p?(Mt(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,Fi.set(b,p),p)}const Gi=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,C){var R=this;return(0,l.Z)(function*(){R.storage[_]=C})()}_get(_){var C=this;return(0,l.Z)(function*(){const R=C.storage[_];return void 0===R?null:R})()}_remove(_){var C=this;return(0,l.Z)(function*(){delete C.storage[_]})()}_addListener(_,C){}_removeListener(_,C){}}return b.type="NONE",b})();function tr(b,p,_){return`firebase:${b}:${p}:${_}`}class G{constructor(p,_,C){this.persistence=p,this.auth=_,this.userKey=C;const{config:R,name:P}=this.auth;this.fullUserKey=tr(this.userKey,R.apiKey,P),this.fullPersistenceKey=tr("persistence",R.apiKey,P),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const _=yield p.persistence._get(p.fullUserKey);return _?Nn._fromJSON(p.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var _=this;return(0,l.Z)(function*(){if(_.persistence===p)return;const C=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=p,C?_.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,_,C="authUser"){return(0,l.Z)(function*(){if(!_.length)return new G(Xn(Gi),p,C);const R=(yield Promise.all(_.map(function(){var Xe=(0,l.Z)(function*(Ct){if(yield Ct._isAvailable())return Ct});return function(Ct){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let P=R[0]||Xn(Gi);const J=tr(C,p.config.apiKey,p.name);let de=null;for(const Xe of _)try{const Ct=yield Xe._get(J);if(Ct){const en=Nn._fromJSON(p,Ct);Xe!==P&&(de=en),P=Xe;break}}catch{}const Be=R.filter(Xe=>Xe._shouldAllowMigration);return P._shouldAllowMigration&&Be.length?(P=Be[0],de&&(yield P._set(J,de.toJSON())),yield Promise.all(_.map(function(){var Xe=(0,l.Z)(function*(Ct){if(Ct!==P)try{yield Ct._remove(J)}catch{}});return function(Ct){return Xe.apply(this,arguments)}}())),new G(P,p,C)):new G(P,p,C)})()}}function j(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Q(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(N(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(rt(p))return"Blackberry";if(Rt(p))return"Webos";if(L(p))return"Safari";if((p.includes("chrome/")||k(p))&&!p.includes("edge/"))return"Chrome";if(Ce(p))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function N(b=(0,$.z$)()){return/firefox\//i.test(b)}function L(b=(0,$.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function k(b=(0,$.z$)()){return/crios\//i.test(b)}function Q(b=(0,$.z$)()){return/iemobile/i.test(b)}function Ce(b=(0,$.z$)()){return/android/i.test(b)}function rt(b=(0,$.z$)()){return/blackberry/i.test(b)}function Rt(b=(0,$.z$)()){return/webos/i.test(b)}function Tt(b=(0,$.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function rn(b=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function Yt(b=(0,$.z$)()){return Tt(b)||Ce(b)||Rt(b)||rt(b)||/windows phone/i.test(b)||Q(b)}function Io(b,p=[]){let _;switch(b){case"Browser":_=j((0,$.z$)());break;case"Worker":_=`${j((0,$.z$)())}-${b}`;break;default:_=b}const C=p.length?p.join(","):"FirebaseCore-web";return`${_}/JsCore/${F.SDK_VERSION}/${C}`}function oe(){return(oe=(0,l.Z)(function*(b){return(yield Ut(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Le(b,p){return yt.apply(this,arguments)}function yt(){return(yt=(0,l.Z)(function*(b,p){return Ut(b,"GET","/v2/recaptchaConfig",qe(b,p))})).apply(this,arguments)}function kt(b){return void 0!==b&&void 0!==b.getResponse}function cn(b){return void 0!==b&&void 0!==b.enterprise}class bt{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(_=>"EMAIL_PASSWORD_PROVIDER"===_.provider&&"OFF"!==_.enforcementState)}}function fn(b){return new Promise((p,_)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=p,C.onerror=R=>{const P=xe("internal-error");P.customData=R,_(P)},C.type="text/javascript",C.charset="UTF-8",function _n(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(C)})}function qi(b){return`__${b}${Math.floor(1e6*Math.random())}`}const yf="NO_RECAPTCHA";class gs{constructor(p){this.type="recaptcha-enterprise",this.auth=yn(p)}verify(p="verify",_=!1){var C=this;return(0,l.Z)(function*(){function P(){return P=(0,l.Z)(function*(de){if(!_){if(null==de.tenantId&&null!=de._agentRecaptchaConfig)return de._agentRecaptchaConfig.siteKey;if(null!=de.tenantId&&void 0!==de._tenantRecaptchaConfigs[de.tenantId])return de._tenantRecaptchaConfigs[de.tenantId].siteKey}return new Promise(function(){var Be=(0,l.Z)(function*(Xe,Ct){Le(de,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(en=>{if(void 0!==en.recaptchaKey){const _r=new bt(en);return null==de.tenantId?de._agentRecaptchaConfig=_r:de._tenantRecaptchaConfigs[de.tenantId]=_r,Xe(_r.siteKey)}Ct(new Error("recaptcha Enterprise site key undefined"))}).catch(en=>{Ct(en)})});return function(Xe,Ct){return Be.apply(this,arguments)}}())}),P.apply(this,arguments)}function J(de,Be,Xe){const Ct=window.grecaptcha;cn(Ct)?Ct.enterprise.ready(()=>{Ct.enterprise.execute(de,{action:p}).then(en=>{Be(en)}).catch(()=>{Be(yf)})}):Xe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((de,Be)=>{(function R(de){return P.apply(this,arguments)})(C.auth).then(Xe=>{if(!_&&cn(window.grecaptcha))J(Xe,de,Be);else{if(typeof window>"u")return void Be(new Error("RecaptchaVerifier is only supported in browser"));fn("https://www.google.com/recaptcha/enterprise.js?render="+Xe).then(()=>{J(Xe,de,Be)}).catch(Ct=>{Be(Ct)})}}).catch(Xe=>{Be(Xe)})})})()}}function Ii(b,p,_){return nt.apply(this,arguments)}function nt(){return(nt=(0,l.Z)(function*(b,p,_,C=!1){const R=new gs(b);let P;try{P=yield R.verify(_)}catch{P=yield R.verify(_,!0)}const J=Object.assign({},p);return Object.assign(J,C?{captchaResp:P}:{captchaResponse:P}),Object.assign(J,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(J,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),J})).apply(this,arguments)}class on{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,_){const C=P=>new Promise((J,de)=>{try{J(p(P))}catch(Be){de(Be)}});C.onAbort=_,this.queue.push(C);const R=this.queue.length-1;return()=>{this.queue[R]=()=>Promise.resolve()}}runMiddleware(p){var _=this;return(0,l.Z)(function*(){if(_.auth.currentUser===p)return;const C=[];try{for(const R of _.queue)yield R(p),R.onAbort&&C.push(R.onAbort)}catch(R){C.reverse();for(const P of C)try{P()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:R?.message})}})()}}class On{constructor(p,_,C,R){this.app=p,this.heartbeatServiceProvider=_,this.appCheckServiceProvider=C,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jo(this),this.idTokenSubscription=new jo(this),this.beforeStateQueue=new on(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(p,_){var C=this;return _&&(this._popupRedirectResolver=Xn(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var R,P;if(!C._deleted&&(C.persistenceManager=yield G.create(C,p),!C._deleted)){if(null!==(R=C._popupRedirectResolver)&&void 0!==R&&R._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(_),C.lastNotifiedUid=(null===(P=C.currentUser)||void 0===P?void 0:P.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const _=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||_){if(p.currentUser&&_&&p.currentUser.uid===_.uid)return p._currentUser._assign(_),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(_,!0)}})()}initializeCurrentUser(p){var _=this;return(0,l.Z)(function*(){var C;const R=yield _.assertedPersistence.getCurrentUser();let P=R,J=!1;if(p&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const de=null===(C=_.redirectUser)||void 0===C?void 0:C._redirectEventId,Be=P?._redirectEventId,Xe=yield _.tryRedirectSignIn(p);(!de||de===Be)&&Xe?.user&&(P=Xe.user,J=!0)}if(!P)return _.directlySetCurrentUser(null);if(!P._redirectEventId){if(J)try{yield _.beforeStateQueue.runMiddleware(P)}catch(de){P=R,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(de))}return P?_.reloadAndSetCurrentUserOrClear(P):_.directlySetCurrentUser(null)}return ce(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===P._redirectEventId?_.directlySetCurrentUser(P):_.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(p){var _=this;return(0,l.Z)(function*(){let C=null;try{C=yield _._popupRedirectResolver._completeRedirectFn(_,p,!0)}catch{yield _._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var _=this;return(0,l.Z)(function*(){try{yield zn(p)}catch(C){if("auth/network-request-failed"!==C?.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ge(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var _=this;return(0,l.Z)(function*(){const C=p?(0,$.m9)(p):null;return C&&ce(C.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(C&&C._clone(_))})()}_updateCurrentUser(p,_=!1){var C=this;return(0,l.Z)(function*(){if(!C._deleted)return p&&ce(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),_||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,l.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(Xn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,l.Z)(function*(){const _=yield Le(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),C=new bt(_);null==p.tenantId?p._agentRecaptchaConfig=C:p._tenantRecaptchaConfigs[p.tenantId]=C,C.emailPasswordEnabled&&new gs(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new $.LL("auth","Firebase",p())}onAuthStateChanged(p,_,C){return this.registerStateListener(this.authStateSubscription,p,_,C)}beforeAuthStateChanged(p,_){return this.beforeStateQueue.pushCallback(p,_)}onIdTokenChanged(p,_,C){return this.registerStateListener(this.idTokenSubscription,p,_,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,_){var C=this;return(0,l.Z)(function*(){const R=yield C.getOrInitRedirectPersistenceManager(_);return null===p?R.removeCurrentUser():R.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const C=p&&Xn(p)||_._popupRedirectResolver;ce(C,_,"argument-error"),_.redirectPersistenceManager=yield G.create(_,[Xn(C._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(p){var _=this;return(0,l.Z)(function*(){var C,R;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(C=_._currentUser)||void 0===C?void 0:C._redirectEventId)===p?_._currentUser:(null===(R=_.redirectUser)||void 0===R?void 0:R._redirectEventId)===p?_.redirectUser:null})()}_persistUserIfCurrent(p){var _=this;return(0,l.Z)(function*(){if(p===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(_=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,_,C,R){if(this._deleted)return()=>{};const P="function"==typeof _?_:_.next.bind(_),J=this._isInitialized?Promise.resolve():this._initializationPromise;return ce(J,this,"internal-error"),J.then(()=>P(this.currentUser)),"function"==typeof _?p.addObserver(_,C,R):p.addObserver(_)}directlySetCurrentUser(p){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==p&&_._currentUser._stopProactiveRefresh(),p&&_.isProactiveRefreshEnabled&&p._startProactiveRefresh(),_.currentUser=p,p?yield _.assertedPersistence.setCurrentUser(p):yield _.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Io(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var _;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const R=yield null===(_=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();R&&(C["X-Firebase-Client"]=R);const P=yield p._getAppCheckToken();return P&&(C["X-Firebase-AppCheck"]=P),C})()}_getAppCheckToken(){var p=this;return(0,l.Z)(function*(){var _;const C=yield null===(_=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getToken();return C?.error&&function Fe(b,...p){ke.logLevel<=ue.in.WARN&&ke.warn(`Auth (${F.SDK_VERSION}): ${b}`,...p)}(`Error while retrieving App Check token: ${C.error}`),C?.token})()}}function yn(b){return(0,$.m9)(b)}class jo{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,$.ne)(_=>this.observer=_)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Gn(b,p,_){const C=yn(b);ce(C._canInitEmulator,C,"emulator-config-failed"),ce(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const R=!!_?.disableWarnings,P=Ua(p),{host:J,port:de}=function Qr(b){const p=Ua(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!_)return{host:"",port:null};const C=_[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(C);if(R){const P=R[1];return{host:P,port:Xt(C.substr(P.length+1))}}{const[P,J]=C.split(":");return{host:P,port:Xt(J)}}}(p);C.config.emulator={url:`${P}//${J}${null===de?"":`:${de}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:J,port:de,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:R})}),R||function Nl(){function b(){const p=document.createElement("p"),_=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function Ua(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function Xt(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class Vr{constructor(p,_){this.providerId=p,this.signInMethod=_}toJSON(){return ot("not implemented")}_getIdTokenResponse(p){return ot("not implemented")}_linkToIdToken(p,_){return ot("not implemented")}_getReauthenticationResolver(p){return ot("not implemented")}}function Ks(b,p){return So.apply(this,arguments)}function So(){return(So=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:resetPassword",qe(b,p))})).apply(this,arguments)}function ui(b,p){return _s.apply(this,arguments)}function _s(){return(_s=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Tr(){return(Tr=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:update",qe(b,p))})).apply(this,arguments)}function vs(b,p){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,l.Z)(function*(b,p){return an(b,"POST","/v1/accounts:signInWithPassword",qe(b,p))})).apply(this,arguments)}function En(b,p){return Br.apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:sendOobCode",qe(b,p))})).apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(b,p){return En(b,p)})).apply(this,arguments)}function Qs(b,p){return zo.apply(this,arguments)}function zo(){return(zo=(0,l.Z)(function*(b,p){return En(b,p)})).apply(this,arguments)}function bs(b,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,l.Z)(function*(b,p){return En(b,p)})).apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(b,p){return En(b,p)})).apply(this,arguments)}function ws(){return(ws=(0,l.Z)(function*(b,p){return an(b,"POST","/v1/accounts:signInWithEmailLink",qe(b,p))})).apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(b,p){return an(b,"POST","/v1/accounts:signInWithEmailLink",qe(b,p))})).apply(this,arguments)}class fr extends Vr{constructor(p,_,C,R=null){super("password",C),this._email=p,this._password=_,this._tenantId=R}static _fromEmailAndPassword(p,_){return new fr(p,_,"password")}static _fromEmailAndCode(p,_,C=null){return new fr(p,_,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(p){var _=this;return(0,l.Z)(function*(){var C;switch(_.signInMethod){case"password":const R={returnSecureToken:!0,email:_._email,password:_._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=p._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const P=yield Ii(p,R,"signInWithPassword");return vs(p,P)}return vs(p,R).catch(function(){var P=(0,l.Z)(function*(J){if("auth/missing-recaptcha-token"===J.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const de=yield Ii(p,R,"signInWithPassword");return vs(p,de)}return Promise.reject(J)});return function(J){return P.apply(this,arguments)}}());case"emailLink":return function Xr(b,p){return ws.apply(this,arguments)}(p,{email:_._email,oobCode:_._password});default:Te(p,"internal-error")}})()}_linkToIdToken(p,_){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return ui(p,{idToken:_,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Ll(b,p){return ja.apply(this,arguments)}(p,{idToken:_,email:C._email,oobCode:C._password});default:Te(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function $o(b,p){return za.apply(this,arguments)}function za(){return(za=(0,l.Z)(function*(b,p){return an(b,"POST","/v1/accounts:signInWithIdp",qe(b,p))})).apply(this,arguments)}class ho extends Vr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const _=new ho(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(_.idToken=p.idToken),p.accessToken&&(_.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(_.nonce=p.nonce),p.pendingToken&&(_.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(_.accessToken=p.oauthToken,_.secret=p.oauthTokenSecret):Te("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:R}=_,P=(0,se._T)(_,["providerId","signInMethod"]);if(!C||!R)return null;const J=new ho(C,R);return J.idToken=P.idToken||void 0,J.accessToken=P.accessToken||void 0,J.secret=P.secret,J.nonce=P.nonce,J.pendingToken=P.pendingToken||null,J}_getIdTokenResponse(p){return $o(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,$o(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,$o(p,_)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),p.postBody=(0,$.xO)(_)}return p}}function sd(){return(sd=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:sendVerificationCode",qe(b,p))})).apply(this,arguments)}function ad(){return(ad=(0,l.Z)(function*(b,p){return an(b,"POST","/v1/accounts:signInWithPhoneNumber",qe(b,p))})).apply(this,arguments)}function ld(){return(ld=(0,l.Z)(function*(b,p){const _=yield an(b,"POST","/v1/accounts:signInWithPhoneNumber",qe(b,p));if(_.temporaryProof)throw si(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const cd={USER_NOT_FOUND:"user-not-found"};function bf(){return(bf=(0,l.Z)(function*(b,p){return an(b,"POST","/v1/accounts:signInWithPhoneNumber",qe(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),cd)})).apply(this,arguments)}class Go extends Vr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,_){return new Go({verificationId:p,verificationCode:_})}static _fromTokenResponse(p,_){return new Go({phoneNumber:p,temporaryProof:_})}_getIdTokenResponse(p){return function vf(b,p){return ad.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,_){return function Nm(b,p){return ld.apply(this,arguments)}(p,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function ud(b,p){return bf.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:_,verificationId:C,verificationCode:R}=this.params;return p&&_?{temporaryProof:p,phoneNumber:_}:{sessionInfo:C,code:R}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:_,verificationCode:C,phoneNumber:R,temporaryProof:P}=p;return C||_||R||P?new Go({verificationId:_,verificationCode:C,phoneNumber:R,temporaryProof:P}):null}}class Xs{constructor(p){var _,C,R,P,J,de;const Be=(0,$.zd)((0,$.pd)(p)),Xe=null!==(_=Be.apiKey)&&void 0!==_?_:null,Ct=null!==(C=Be.oobCode)&&void 0!==C?C:null,en=function Ar(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=Be.mode)&&void 0!==R?R:null);ce(Xe&&Ct&&en,"argument-error"),this.apiKey=Xe,this.operation=en,this.code=Ct,this.continueUrl=null!==(P=Be.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(J=Be.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(de=Be.tenantId)&&void 0!==de?de:null}static parseLink(p){const _=function wf(b){const p=(0,$.zd)((0,$.pd)(b)).link,_=p?(0,$.zd)((0,$.pd)(p)).deep_link_id:null,C=(0,$.zd)((0,$.pd)(b)).deep_link_id;return(C?(0,$.zd)((0,$.pd)(C)).link:null)||C||_||p||b}(p);try{return new Xs(_)}catch{return null}}}let dd=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,C){return fr._fromEmailAndPassword(_,C)}static credentialWithLink(_,C){const R=Xs.parseLink(C);return ce(R,"argument-error"),fr._fromEmailAndCode(_,R.code,R.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class qo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Js extends qo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class To extends Js{static credentialFromJSON(p){const _="string"==typeof p?JSON.parse(p):p;return ce("providerId"in _&&"signInMethod"in _,"argument-error"),ho._fromParams(_)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ce(p.idToken||p.accessToken,"argument-error"),ho._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return To.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return To.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:C,oauthTokenSecret:R,pendingToken:P,nonce:J,providerId:de}=p;if(!C&&!R&&!_&&!P||!de)return null;try{return new To(de)._credential({idToken:_,accessToken:C,nonce:J,pendingToken:P})}catch{return null}}}let hd=(()=>{class b extends Js{constructor(){super("facebook.com")}static credential(_){return ho._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),fd=(()=>{class b extends Js{constructor(){super("google.com"),this.addScope("profile")}static credential(_,C){return ho._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:C,oauthAccessToken:R}=_;if(!C&&!R)return null;try{return b.credential(C,R)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Vl=(()=>{class b extends Js{constructor(){super("github.com")}static credential(_){return ho._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Yo extends Vr{constructor(p,_){super(p,p),this.pendingToken=_}_getIdTokenResponse(p){return $o(p,this.buildRequest())}_linkToIdToken(p,_){const C=this.buildRequest();return C.idToken=_,$o(p,C)}_getReauthenticationResolver(p){const _=this.buildRequest();return _.autoCreate=!1,$o(p,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const _="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:R,pendingToken:P}=_;return C&&R&&P&&C===R?new Yo(C,P):null}static _create(p,_){return new Yo(p,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Bl extends qo{constructor(p){ce(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Bl.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Bl.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const _=Yo.fromJSON(p);return ce(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:_,providerId:C}=p;if(!_||!C)return null;try{return Yo._create(C,_)}catch{return null}}}let Ef=(()=>{class b extends Js{constructor(){super("twitter.com")}static credential(_,C){return ho._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:C})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:C,oauthTokenSecret:R}=_;if(!C||!R)return null;try{return b.credential(C,R)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ea(b,p){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,l.Z)(function*(b,p){return an(b,"POST","/v1/accounts:signUp",qe(b,p))})).apply(this,arguments)}class Ln{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,_,C,R=!1){return(0,l.Z)(function*(){const P=yield Nn._fromIdTokenResponse(p,C,R),J=$a(C);return new Ln({user:P,providerId:J,_tokenResponse:C,operationType:_})})()}static _forOperation(p,_,C){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const R=$a(C);return new Ln({user:p,providerId:R,_tokenResponse:C,operationType:_})})()}}function $a(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Ul(b){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(b){var p;const _=yn(b);if(yield _._initializationPromise,null!==(p=_.currentUser)&&void 0!==p&&p.isAnonymous)return new Ln({user:_.currentUser,providerId:null,operationType:"signIn"});const C=yield ea(_,{returnSecureToken:!0}),R=yield Ln._fromIdTokenResponse(_,"signIn",C,!0);return yield _._updateCurrentUser(R.user),R})).apply(this,arguments)}class Ds extends $.ZR{constructor(p,_,C,R){var P;super(_.code,_.message),this.operationType=C,this.user=R,Object.setPrototypeOf(this,Ds.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:_.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,_,C,R){return new Ds(p,_,C,R)}}function Es(b,p,_,C){return("reauthenticate"===p?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Ds._fromErrorAndOperation(b,P,p,C):P})}function Li(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function xf(b,p){return Hl.apply(this,arguments)}function Hl(){return Hl=(0,l.Z)(function*(b,p){const _=(0,$.m9)(b);yield Ga(!0,_,p);const{providerUserInfo:C}=yield function ur(b,p){return Kr.apply(this,arguments)}(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[p]}),R=Li(C||[]);return _.providerData=_.providerData.filter(P=>R.has(P.providerId)),R.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_}),Hl.apply(this,arguments)}function ir(b,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,l.Z)(function*(b,p,_=!1){const C=yield nn(b,p._linkToIdToken(b.auth,yield b.getIdToken()),_);return Ln._forOperation(b,"link",C)})).apply(this,arguments)}function Ga(b,p,_){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(b,p,_){yield zn(p);const R=!1===b?"provider-already-linked":"no-such-provider";ce(Li(p.providerData).has(_)===b,p.auth,R)})).apply(this,arguments)}function pd(b,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(b,p,_=!1){const{auth:C}=b,R="reauthenticate";try{const P=yield nn(b,Es(C,R,p,b),_);ce(P.idToken,C,"internal-error");const J=Ji(P.idToken);ce(J,C,"internal-error");const{sub:de}=J;return ce(b.uid===de,C,"user-mismatch"),Ln._forOperation(b,R,P)}catch(P){throw"auth/user-not-found"===P?.code&&Te(C,"user-mismatch"),P}})).apply(this,arguments)}function qa(b,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(b,p,_=!1){const C="signIn",R=yield Es(b,C,p),P=yield Ln._fromIdTokenResponse(b,C,R);return _||(yield b._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Nt(b,p){return jl.apply(this,arguments)}function jl(){return(jl=(0,l.Z)(function*(b,p){return qa(yn(b),p)})).apply(this,arguments)}function If(b,p){return $c.apply(this,arguments)}function $c(){return($c=(0,l.Z)(function*(b,p){const _=(0,$.m9)(b);return yield Ga(!1,_,p.providerId),ir(_,p)})).apply(this,arguments)}function Gc(b,p){return qc.apply(this,arguments)}function qc(){return(qc=(0,l.Z)(function*(b,p){return pd((0,$.m9)(b),p)})).apply(this,arguments)}function gd(){return(gd=(0,l.Z)(function*(b,p){return an(b,"POST","/v1/accounts:signInWithCustomToken",qe(b,p))})).apply(this,arguments)}function Lm(b,p){return me.apply(this,arguments)}function me(){return me=(0,l.Z)(function*(b,p){const _=yn(b),C=yield function md(b,p){return gd.apply(this,arguments)}(_,{token:p,returnSecureToken:!0}),R=yield Ln._fromIdTokenResponse(_,"signIn",C);return yield _._updateCurrentUser(R.user),R}),me.apply(this,arguments)}class jt{constructor(p,_){this.factorId=p,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(p,_){return"phoneInfo"in _?Yc._fromServerResponse(p,_):"totpInfo"in _?Ya._fromServerResponse(p,_):Te(p,"internal-error")}}class Yc extends jt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,_){return new Yc(_)}}class Ya extends jt{constructor(p){super("totp",p)}static _fromServerResponse(p,_){return new Ya(_)}}function Jn(b,p,_){var C;ce((null===(C=_.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),ce(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=_.url,p.dynamicLinkDomain=_.dynamicLinkDomain,p.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ce(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=_.iOS.bundleId),_.android&&(ce(_.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=_.android.installApp,p.androidMinimumVersionCode=_.android.minimumVersion,p.androidPackageName=_.android.packageName)}function _d(b,p,_){return na.apply(this,arguments)}function na(){return na=(0,l.Z)(function*(b,p,_){var C;const R=yn(b),P={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(C=R._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const J=yield Ii(R,P,"getOobCode",!0);_&&Jn(R,J,_),yield Qs(R,J)}else _&&Jn(R,P,_),yield Qs(R,P).catch(function(){var J=(0,l.Z)(function*(de){if("auth/missing-recaptcha-token"!==de.code)return Promise.reject(de);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Be=yield Ii(R,P,"getOobCode",!0);_&&Jn(R,Be,_),yield Qs(R,Be)}});return function(de){return J.apply(this,arguments)}}())}),na.apply(this,arguments)}function Ur(b,p,_){return zl.apply(this,arguments)}function zl(){return(zl=(0,l.Z)(function*(b,p,_){yield Ks((0,$.m9)(b),{oobCode:p,newPassword:_})})).apply(this,arguments)}function yd(b,p){return vd.apply(this,arguments)}function vd(){return vd=(0,l.Z)(function*(b,p){yield function ys(b,p){return Tr.apply(this,arguments)}((0,$.m9)(b),{oobCode:p})}),vd.apply(this,arguments)}function Zo(b,p){return ia.apply(this,arguments)}function ia(){return(ia=(0,l.Z)(function*(b,p){const _=(0,$.m9)(b),C=yield Ks(_,{oobCode:p}),R=C.requestType;switch(ce(R,_,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(C.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(C.mfaInfo,_,"internal-error");default:ce(C.email,_,"internal-error")}let P=null;return C.mfaInfo&&(P=jt._fromServerResponse(yn(_),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:P},operation:R}})).apply(this,arguments)}function Vi(b,p){return pr.apply(this,arguments)}function pr(){return(pr=(0,l.Z)(function*(b,p){const{data:_}=yield Zo((0,$.m9)(b),p);return _.email})).apply(this,arguments)}function Ko(b,p,_){return Mo.apply(this,arguments)}function Mo(){return Mo=(0,l.Z)(function*(b,p,_){var C;const R=yn(b),P={returnSecureToken:!0,email:p,password:_,clientType:"CLIENT_TYPE_WEB"};let J;if(null!==(C=R._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const Xe=yield Ii(R,P,"signUpPassword");J=ea(R,Xe)}else J=ea(R,P).catch(function(){var Xe=(0,l.Z)(function*(Ct){if("auth/missing-recaptcha-token"===Ct.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const en=yield Ii(R,P,"signUpPassword");return ea(R,en)}return Promise.reject(Ct)});return function(Ct){return Xe.apply(this,arguments)}}());const de=yield J.catch(Xe=>Promise.reject(Xe)),Be=yield Ln._fromIdTokenResponse(R,"signIn",de);return yield R._updateCurrentUser(Be.user),Be}),Mo.apply(this,arguments)}function fo(b,p,_){return Nt((0,$.m9)(b),dd.credential(p,_))}function bd(b,p,_){return xs.apply(this,arguments)}function xs(){return xs=(0,l.Z)(function*(b,p,_){var C;const R=yn(b),P={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function J(de,Be){ce(Be.handleCodeInApp,R,"argument-error"),Be&&Jn(R,de,Be)}if(null!==(C=R._getRecaptchaConfig())&&void 0!==C&&C.emailPasswordEnabled){const de=yield Ii(R,P,"getOobCode",!0);J(de,_),yield bs(R,de)}else J(P,_),yield bs(R,P).catch(function(){var de=(0,l.Z)(function*(Be){if("auth/missing-recaptcha-token"!==Be.code)return Promise.reject(Be);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Xe=yield Ii(R,P,"getOobCode",!0);J(Xe,_),yield bs(R,Xe)}});return function(Be){return de.apply(this,arguments)}}())}),xs.apply(this,arguments)}function wd(b,p){return"EMAIL_SIGNIN"===Xs.parseLink(p)?.operation}function Vm(b,p,_){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(b,p,_){const C=(0,$.m9)(b),R=dd.credentialWithLink(p,_||ut());return ce(R._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Nt(C,R)})).apply(this,arguments)}function Wa(){return(Wa=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:createAuthUri",qe(b,p))})).apply(this,arguments)}function Cd(b,p){return Gl.apply(this,arguments)}function Gl(){return Gl=(0,l.Z)(function*(b,p){const C={identifier:p,continueUri:sn()?ut():"http://localhost"},{signinMethods:R}=yield function $l(b,p){return Wa.apply(this,arguments)}((0,$.m9)(b),C);return R||[]}),Gl.apply(this,arguments)}function Dd(b,p){return ra.apply(this,arguments)}function ra(){return ra=(0,l.Z)(function*(b,p){const _=(0,$.m9)(b),R={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Jn(_.auth,R,p);const{email:P}=yield function jc(b,p){return Ha.apply(this,arguments)}(_.auth,R);P!==b.email&&(yield b.reload())}),ra.apply(this,arguments)}function Wc(b,p,_){return Za.apply(this,arguments)}function Za(){return Za=(0,l.Z)(function*(b,p,_){const C=(0,$.m9)(b),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};_&&Jn(C.auth,P,_);const{email:J}=yield function od(b,p){return nr.apply(this,arguments)}(C.auth,P);J!==b.email&&(yield b.reload())}),Za.apply(this,arguments)}function ql(){return(ql=(0,l.Z)(function*(b,p){return Ut(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ed(b,p){return Kc.apply(this,arguments)}function Kc(){return Kc=(0,l.Z)(function*(b,{displayName:p,photoURL:_}){if(void 0===p&&void 0===_)return;const C=(0,$.m9)(b),P={idToken:yield C.getIdToken(),displayName:p,photoUrl:_,returnSecureToken:!0},J=yield nn(C,function Zc(b,p){return ql.apply(this,arguments)}(C.auth,P));C.displayName=J.displayName||null,C.photoURL=J.photoUrl||null;const de=C.providerData.find(({providerId:Be})=>"password"===Be);de&&(de.displayName=C.displayName,de.photoURL=C.photoURL),yield C._updateTokensIfNecessary(J)}),Kc.apply(this,arguments)}function xd(b,p){return po((0,$.m9)(b),p,null)}function Yi(b,p){return po((0,$.m9)(b),null,p)}function po(b,p,_){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,l.Z)(function*(b,p,_){const{auth:C}=b,P={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(P.email=p),_&&(P.password=_);const J=yield nn(b,ui(C,P));yield b._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class oa{constructor(p,_,C={}){this.isNewUser=p,this.providerId=_,this.profile=C}}class Qc extends oa{constructor(p,_,C,R){super(p,_,C),this.username=R}}class Bm extends oa{constructor(p,_){super(p,"facebook.com",_)}}class Sd extends Qc{constructor(p,_){super(p,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class Um extends oa{constructor(p,_){super(p,"google.com",_)}}class Yl extends Qc{constructor(p,_,C){super(p,"twitter.com",_,C)}}function Xc(b){const{user:p,_tokenResponse:_}=b;return p.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function Id(b){var p,_;if(!b)return null;const{providerId:C}=b,R=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},P=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const J=null===(_=null===(p=Ji(b.idToken))||void 0===p?void 0:p.firebase)||void 0===_?void 0:_.sign_in_provider;if(J)return new oa(P,"anonymous"!==J&&"custom"!==J?J:null)}if(!C)return null;switch(C){case"facebook.com":return new Bm(P,R);case"github.com":return new Sd(P,R);case"google.com":return new Um(P,R);case"twitter.com":return new Yl(P,R,b.screenName||null);case"custom":case"anonymous":return new oa(P,null);default:return new oa(P,C,R)}}(_)}class ko{constructor(p,_,C){this.type=p,this.credential=_,this.auth=C}static _fromIdtoken(p,_){return new ko("enroll",p,_)}static _fromMfaPendingCredential(p){return new ko("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var _,C;if(p?.multiFactorSession){if(null!==(_=p.multiFactorSession)&&void 0!==_&&_.pendingCredential)return ko._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return ko._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Jc{constructor(p,_,C){this.session=p,this.hints=_,this.signInResolver=C}static _fromError(p,_){const C=yn(p),R=_.customData._serverResponse,P=(R.mfaInfo||[]).map(de=>jt._fromServerResponse(C,de));ce(R.mfaPendingCredential,C,"internal-error");const J=ko._fromMfaPendingCredential(R.mfaPendingCredential);return new Jc(J,P,function(){var de=(0,l.Z)(function*(Be){const Xe=yield Be._process(C,J);delete R.mfaInfo,delete R.mfaPendingCredential;const Ct=Object.assign(Object.assign({},R),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(_.operationType){case"signIn":const en=yield Ln._fromIdTokenResponse(C,_.operationType,Ct);return yield C._updateCurrentUser(en.user),en;case"reauthenticate":return ce(_.user,C,"internal-error"),Ln._forOperation(_.user,_.operationType,Ct);default:Te(C,"internal-error")}});return function(Be){return de.apply(this,arguments)}}())}resolveSignIn(p){var _=this;return(0,l.Z)(function*(){return _.signInResolver(p)})()}}function Qa(b,p){var _;const C=(0,$.m9)(b),R=p;return ce(p.customData.operationType,C,"argument-error"),ce(null===(_=R.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,C,"argument-error"),Jc._fromError(C,R)}class la{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(C=>jt._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new la(p)}getSession(){var p=this;return(0,l.Z)(function*(){return ko._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,_){var C=this;return(0,l.Z)(function*(){const R=p,P=yield C.getSession(),J=yield nn(C.user,R._process(C.user.auth,P,_));return yield C.user._updateTokensIfNecessary(J),C.user.reload()})()}unenroll(p){var _=this;return(0,l.Z)(function*(){const C="string"==typeof p?p:p.uid,R=yield _.user.getIdToken();try{const P=yield nn(_.user,function Is(b,p){return Ut(b,"POST","/v2/accounts/mfaEnrollment:withdraw",qe(b,p))}(_.user.auth,{idToken:R,mfaEnrollmentId:C}));_.enrolledFactors=_.enrolledFactors.filter(({uid:J})=>J!==C),yield _.user._updateTokensIfNecessary(P),yield _.user.reload()}catch(P){throw P}})()}}const Ss=new WeakMap;function ca(b){const p=(0,$.m9)(b);return Ss.has(p)||Ss.set(p,la._fromUser(p)),Ss.get(p)}const Xa="__sak";class Ja{constructor(p,_){this.storageRetriever=p,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Xa,"1"),this.storage.removeItem(Xa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,_){return this.storage.setItem(p,JSON.stringify(_)),Promise.resolve()}_get(p){const _=this.storage.getItem(p);return Promise.resolve(_?JSON.parse(_):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ql=(()=>{class b extends Ja{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,C)=>this.onStorageEvent(_,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function eu(){const b=(0,$.z$)();return L(b)||Tt(b)}()&&function Ei(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Yt(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const C of Object.keys(this.listeners)){const R=this.storage.getItem(C),P=this.localCache[C];R!==P&&_(C,P,R)}}onStorageEvent(_,C=!1){if(!_.key)return void this.forAllChangedKeys((de,Be,Xe)=>{this.notifyListeners(de,Xe)});const R=_.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(R);if(_.newValue!==de)null!==_.newValue?this.storage.setItem(R,_.newValue):this.storage.removeItem(R);else if(this.localCache[R]===_.newValue&&!C)return}const P=()=>{const de=this.storage.getItem(R);!C&&this.localCache[R]===de||this.notifyListeners(R,de)},J=this.storage.getItem(R);!function Sn(){return(0,$.w1)()&&10===document.documentMode}()||J===_.newValue||_.newValue===_.oldValue?P():setTimeout(P,10)}notifyListeners(_,C){this.localCache[_]=C;const R=this.listeners[_];if(R)for(const P of Array.from(R))P(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,C,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:C,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,C){var R=()=>super._set,P=this;return(0,l.Z)(function*(){yield R().call(P,_,C),P.localCache[_]=JSON.stringify(C)})()}_get(_){var C=()=>super._get,R=this;return(0,l.Z)(function*(){const P=yield C().call(R,_);return R.localCache[_]=JSON.stringify(P),P})()}_remove(_){var C=()=>super._remove,R=this;return(0,l.Z)(function*(){yield C().call(R,_),delete R.localCache[_]})()}}return b.type="LOCAL",b})(),rr=(()=>{class b extends Ja{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,C){}_removeListener(_,C){}}return b.type="SESSION",b})();let iu=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const C=this.receivers.find(P=>P.isListeningto(_));if(C)return C;const R=new b(_);return this.receivers.push(R),R}isListeningto(_){return this.eventTarget===_}handleEvent(_){var C=this;return(0,l.Z)(function*(){const R=_,{eventId:P,eventType:J,data:de}=R.data,Be=C.handlersMap[J];if(!Be?.size)return;R.ports[0].postMessage({status:"ack",eventId:P,eventType:J});const Xe=Array.from(Be).map(function(){var en=(0,l.Z)(function*(_r){return _r(R.origin,de)});return function(_r){return en.apply(this,arguments)}}()),Ct=yield function kd(b){return Promise.all(b.map(function(){var p=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(C){return{fulfilled:!1,reason:C}}});return function(_){return p.apply(this,arguments)}}()))}(Xe);R.ports[0].postMessage({status:"done",eventId:P,eventType:J,response:Ct})})()}_subscribe(_,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(C)}_unsubscribe(_,C){this.handlersMap[_]&&C&&this.handlersMap[_].delete(C),(!C||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function mo(b="",p=10){let _="";for(let C=0;C<p;C++)_+=Math.floor(10*Math.random());return b+_}class Od{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,_,C=50){var R=this;return(0,l.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let J,de;return new Promise((Be,Xe)=>{const Ct=mo("",20);P.port1.start();const en=setTimeout(()=>{Xe(new Error("unsupported_event"))},C);de={messageChannel:P,onMessage(_r){const Ns=_r;if(Ns.data.eventId===Ct)switch(Ns.data.status){case"ack":clearTimeout(en),J=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),Be(Ns.data.response);break;default:clearTimeout(en),clearTimeout(J),Xe(new Error("invalid_response"))}}},R.handlers.add(de),P.port1.addEventListener("message",de.onMessage),R.target.postMessage({eventType:p,eventId:Ct,data:_},[P.port2])}).finally(()=>{de&&R.removeMessageHandler(de)})})()}}function ti(){return window}function Xl(){return typeof ti().WorkerGlobalScope<"u"&&"function"==typeof ti().importScripts}function tl(){return(tl=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const hi="firebaseLocalStorageDb",ua=1,Vn="firebaseLocalStorage",Af="fbase_key";class Jo{constructor(p){this.request=p}toPromise(){return new Promise((p,_)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function ec(b,p){return b.transaction([Vn],p?"readwrite":"readonly").objectStore(Vn)}function ru(){const b=indexedDB.open(hi,ua);return new Promise((p,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(Vn,{keyPath:Af})}catch(R){_(R)}}),b.addEventListener("success",(0,l.Z)(function*(){const C=b.result;C.objectStoreNames.contains(Vn)?p(C):(C.close(),yield function da(){const b=indexedDB.deleteDatabase(hi);return new Jo(b).toPromise()}(),p(yield ru()))}))})}function ou(b,p,_){return es.apply(this,arguments)}function es(){return(es=(0,l.Z)(function*(b,p,_){const C=ec(b,!0).put({[Af]:p,value:_});return new Jo(C).toPromise()})).apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(b,p){const _=ec(b,!1).get(p),C=yield new Jo(_).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function nl(b,p){const _=ec(b,!0).delete(p);return new Jo(_).toPromise()}const su=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield ru()),_.db})()}_withRetries(_){var C=this;return(0,l.Z)(function*(){let R=0;for(;;)try{const P=yield C._openDb();return yield _(P)}catch(P){if(R++>3)throw P;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Xl()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=iu._getInstance(function Jl(){return Xl()?self:null}()),_.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(R,P){return{keyProcessed:(yield _._poll()).includes(P.key)}});return function(R,P){return C.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(R,P){return["keyChanged"]});return function(R,P){return C.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var C,R;if(_.activeServiceWorker=yield function Pd(){return tl.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Od(_.activeServiceWorker);const P=yield _.sender._send("ping",{},800);P&&null!==(C=P[0])&&void 0!==C&&C.fulfilled&&null!==(R=P[0])&&void 0!==R&&R.value.includes("keyChanged")&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Fd(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:_},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ru();return yield ou(_,Xa,"1"),yield nl(_,Xa),!0}catch{}return!1})()}_withPendingWrite(_){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield _()}finally{C.pendingWrites--}})()}_set(_,C){var R=this;return(0,l.Z)(function*(){return R._withPendingWrite((0,l.Z)(function*(){return yield R._withRetries(P=>ou(P,_,C)),R.localCache[_]=C,R.notifyServiceWorker(_)}))})()}_get(_){var C=this;return(0,l.Z)(function*(){const R=yield C._withRetries(P=>function Mf(b,p){return Ts.apply(this,arguments)}(P,_));return C.localCache[_]=R,R})()}_remove(_){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(R=>nl(R,_)),delete C.localCache[_],C.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const C=yield _._withRetries(J=>{const de=ec(J,!1).getAll();return new Jo(de).toPromise()});if(!C)return[];if(0!==_.pendingWrites)return[];const R=[],P=new Set;for(const{fbase_key:J,value:de}of C)P.add(J),JSON.stringify(_.localCache[J])!==JSON.stringify(de)&&(_.notifyListeners(J,de),R.push(J));for(const J of Object.keys(_.localCache))_.localCache[J]&&!P.has(J)&&(_.notifyListeners(J,null),R.push(J));return R})()}notifyListeners(_,C){this.localCache[_]=C;const R=this.listeners[_];if(R)for(const P of Array.from(R))P(C)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(C)}_removeListener(_,C){this.listeners[_]&&(this.listeners[_].delete(C),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})(),au=1e12;class Vd{constructor(p){this.auth=p,this.counter=au,this._widgets=new Map}render(p,_){const C=this.counter;return this._widgets.set(C,new lu(p,this.auth.name,_||{})),this.counter++,C}reset(p){var _;const C=p||au;null===(_=this._widgets.get(C))||void 0===_||_.delete(),this._widgets.delete(C)}getResponse(p){var _;return(null===(_=this._widgets.get(p||au))||void 0===_?void 0:_.getResponse())||""}execute(p){var _=this;return(0,l.Z)(function*(){var C;return null===(C=_._widgets.get(p||au))||void 0===C||C.execute(),""})()}}class lu{constructor(p,_,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof p?document.getElementById(p):p;ce(R,"argument-error",{appName:_}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function cu(b){const p=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)p.push(_.charAt(Math.floor(Math.random()*_.length)));return p.join("")}(50);const{callback:p,"expired-callback":_}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const kf=qi("rcb"),cy=new Ie(3e4,6e4);class ks{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=ti().grecaptcha)||void 0===p||!p.render)}load(p,_=""){return ce(function dy(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),p,"argument-error"),this.shouldResolveImmediately(_)&&kt(ti().grecaptcha)?Promise.resolve(ti().grecaptcha):new Promise((C,R)=>{const P=ti().setTimeout(()=>{R(xe(p,"network-request-failed"))},cy.get());ti()[kf]=()=>{ti().clearTimeout(P),delete ti()[kf];const de=ti().grecaptcha;if(!de||!kt(de))return void R(xe(p,"internal-error"));const Be=de.render;de.render=(Xe,Ct)=>{const en=Be(Xe,Ct);return this.counter++,en},this.hostLanguage=_,C(de)},fn(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:kf,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(P),R(xe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var _;return!(null===(_=ti().grecaptcha)||void 0===_||!_.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Of{load(p){return(0,l.Z)(function*(){return new Vd(p)})()}clearedOneInstance(){}}const fi="recaptcha",nc={theme:"light",type:"image"};class ic{constructor(p,_=Object.assign({},nc),C){this.parameters=_,this.type=fi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(C),this.isInvisible="invisible"===this.parameters.size,ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof p?document.getElementById(p):p;ce(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Of:new ks,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const _=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(_)||new Promise(P=>{const J=de=>{de&&(p.tokenChangeListeners.delete(J),P(de))};p.tokenChangeListeners.add(J),p.isInvisible&&C.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return _=>{if(this.tokenChangeListeners.forEach(C=>C(_)),"function"==typeof p)p(_);else if("string"==typeof p){const C=ti()[p];"function"==typeof C&&C(_)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let _=p.container;if(!p.isInvisible){const C=document.createElement("div");_.appendChild(C),_=C}p.widgetId=p.getAssertedRecaptcha().render(_,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){ce(sn()&&!Xl(),p.auth,"internal-error"),yield function uu(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const _=yield function pe(b){return oe.apply(this,arguments)}(p.auth);ce(_,p.auth,"internal-error"),p.parameters.sitekey=_})()}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Mr{constructor(p,_){this.verificationId=p,this.onConfirmation=_}confirm(p){const _=Go._fromVerification(this.verificationId,p);return this.onConfirmation(_)}}function ts(b,p,_){return du.apply(this,arguments)}function du(){return(du=(0,l.Z)(function*(b,p,_){const C=yn(b),R=yield rl(C,p,(0,$.m9)(_));return new Mr(R,P=>Nt(C,P))})).apply(this,arguments)}function il(b,p,_){return ha.apply(this,arguments)}function ha(){return(ha=(0,l.Z)(function*(b,p,_){const C=(0,$.m9)(b);yield Ga(!1,C,"phone");const R=yield rl(C.auth,p,(0,$.m9)(_));return new Mr(R,P=>If(C,P))})).apply(this,arguments)}function Bd(b,p,_){return fa.apply(this,arguments)}function fa(){return(fa=(0,l.Z)(function*(b,p,_){const C=(0,$.m9)(b),R=yield rl(C.auth,p,(0,$.m9)(_));return new Mr(R,P=>Gc(C,P))})).apply(this,arguments)}function rl(b,p,_){return rc.apply(this,arguments)}function rc(){return rc=(0,l.Z)(function*(b,p,_){var C;const R=yield _.verify();try{let P;if(ce("string"==typeof R,b,"argument-error"),ce(_.type===fi,b,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const J=P.session;if("phoneNumber"in P)return ce("enroll"===J.type,b,"internal-error"),(yield function Kl(b,p){return Ut(b,"POST","/v2/accounts/mfaEnrollment:start",qe(b,p))}(b,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{ce("signin"===J.type,b,"internal-error");const de=(null===(C=P.multiFactorHint)||void 0===C?void 0:C.uid)||P.multiFactorUid;return ce(de,b,"missing-multi-factor-info"),(yield function Nd(b,p){return Ut(b,"POST","/v2/accounts/mfaSignIn:start",qe(b,p))}(b,{mfaPendingCredential:J.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield function Fm(b,p){return sd.apply(this,arguments)}(b,{phoneNumber:P.phoneNumber,recaptchaToken:R});return J}}finally{_._reset()}}),rc.apply(this,arguments)}function Hr(b,p){return gn.apply(this,arguments)}function gn(){return(gn=(0,l.Z)(function*(b,p){yield ir((0,$.m9)(b),p)})).apply(this,arguments)}let Jr=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=yn(_)}verifyPhoneNumber(_,C){return rl(this.auth,_,(0,$.m9)(C))}static credential(_,C){return Go._fromVerification(_,C)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:C,temporaryProof:R}=_;return C&&R?Go._fromTokenResponse(C,R):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Qe(b,p){return p?Xn(p):(ce(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Gt extends Vr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return $o(p,this._buildIdpRequest())}_linkToIdToken(p,_){return $o(p,this._buildIdpRequest(_))}_getReauthenticationResolver(p){return $o(p,this._buildIdpRequest())}_buildIdpRequest(p){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(_.idToken=p),_}}function Fn(b){return qa(b.auth,new Gt(b),b.bypassAuthState)}function Ud(b){const{auth:p,user:_}=b;return ce(_,p,"internal-error"),pd(_,new Gt(b),b.bypassAuthState)}function ol(b){return qn.apply(this,arguments)}function qn(){return(qn=(0,l.Z)(function*(b){const{auth:p,user:_}=b;return ce(_,p,"internal-error"),ir(_,new Gt(b),b.bypassAuthState)})).apply(this,arguments)}class hu{constructor(p,_,C,R,P=!1){this.auth=p,this.resolver=C,this.user=R,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var p=this;return new Promise(function(){var _=(0,l.Z)(function*(C,R){p.pendingPromise={resolve:C,reject:R};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(C,R){return _.apply(this,arguments)}}())}onAuthEvent(p){var _=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:R,postBody:P,tenantId:J,error:de,type:Be}=p;if(de)return void _.reject(de);const Xe={auth:_.auth,requestUri:C,sessionId:R,tenantId:J||void 0,postBody:P||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Be)(Xe))}catch(Ct){_.reject(Ct)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Fn;case"linkViaPopup":case"linkViaRedirect":return ol;case"reauthViaPopup":case"reauthViaRedirect":return Ud;default:Te(this.auth,"internal-error")}}resolve(p){Mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hd=new Ie(2e3,1e4);function jr(b,p,_){return ns.apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(b,p,_){const C=yn(b);je(b,p,qo);const R=Qe(C,_);return new fu(C,"signInViaPopup",p,R).executeNotNull()})).apply(this,arguments)}function oc(b,p,_){return Os.apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(b,p,_){const C=(0,$.m9)(b);je(C.auth,p,qo);const R=Qe(C.auth,_);return new fu(C.auth,"reauthViaPopup",p,R,C).executeNotNull()})).apply(this,arguments)}function pa(b,p,_){return dt.apply(this,arguments)}function dt(){return(dt=(0,l.Z)(function*(b,p,_){const C=(0,$.m9)(b);je(C.auth,p,qo);const R=Qe(C.auth,_);return new fu(C.auth,"linkViaPopup",p,R,C).executeNotNull()})).apply(this,arguments)}let fu=(()=>{class b extends hu{constructor(_,C,R,P,J){super(_,C,P,J),this.provider=R,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const C=yield _.execute();return ce(C,_.auth,"internal-error"),C})()}onExecution(){var _=this;return(0,l.Z)(function*(){Mt(1===_.filter.length,"Popup operations only handle one event");const C=mo();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],C),_.authWindow.associatedEvent=C,_.resolver._originValidation(_.auth).catch(R=>{_.reject(R)}),_.resolver._isIframeWebStorageSupported(_.auth,R=>{R||_.reject(xe(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var C,R;this.pollId=null!==(R=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==R&&R.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(_,Hd.get())};_()}}return b.currentPopupAction=null,b})();const jd="pendingRedirect",Rr=new Map;class sc extends hu{constructor(p,_,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,_=this;return(0,l.Z)(function*(){let C=Rr.get(_.auth._key());if(!C){try{const P=(yield function ai(b,p){return sl.apply(this,arguments)}(_.resolver,_.auth))?yield p().call(_):null;C=()=>Promise.resolve(P)}catch(R){C=()=>Promise.reject(R)}Rr.set(_.auth._key(),C)}return _.bypassAuthState||Rr.set(_.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var _=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return _().call(C,p);if("unknown"!==p.type){if(p.eventId){const R=yield C.auth._redirectUserForId(p.eventId);if(R)return C.user=R,_().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function sl(){return(sl=(0,l.Z)(function*(b,p){const _=cl(p),C=Pf(b);if(!(yield C._isAvailable()))return!1;const R="true"===(yield C._get(_));return yield C._remove(_),R})).apply(this,arguments)}function ac(b,p){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,l.Z)(function*(b,p){return Pf(b)._set(cl(p),"true")})).apply(this,arguments)}function al(){Rr.clear()}function ll(b,p){Rr.set(b._key(),p)}function Pf(b){return Xn(b._redirectPersistence)}function cl(b){return tr(jd,b.config.apiKey,b.name)}function is(b,p,_){return function lc(b,p,_){return pu.apply(this,arguments)}(b,p,_)}function pu(){return(pu=(0,l.Z)(function*(b,p,_){const C=yn(b);je(b,p,qo),yield C._initializationPromise;const R=Qe(C,_);return yield ac(R,C),R._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function zr(b,p,_){return function ma(b,p,_){return mr.apply(this,arguments)}(b,p,_)}function mr(){return(mr=(0,l.Z)(function*(b,p,_){const C=(0,$.m9)(b);je(C.auth,p,qo),yield C.auth._initializationPromise;const R=Qe(C.auth,_);yield ac(R,C.auth);const P=yield pi(C);return R._openRedirect(C.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function eo(b,p,_){return function Mi(b,p,_){return ul.apply(this,arguments)}(b,p,_)}function ul(){return(ul=(0,l.Z)(function*(b,p,_){const C=(0,$.m9)(b);je(C.auth,p,qo),yield C.auth._initializationPromise;const R=Qe(C.auth,_);yield Ga(!1,C,p.providerId),yield ac(R,C.auth);const P=yield pi(C);return R._openRedirect(C.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function zd(b,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,l.Z)(function*(b,p){return yield yn(b)._initializationPromise,Wi(b,p,!1)})).apply(this,arguments)}function Wi(b,p){return go.apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(b,p,_=!1){const C=yn(b),R=Qe(C,p),J=yield new sc(C,R,_).execute();return J&&!_&&(delete J.user._redirectEventId,yield C._persistUserIfCurrent(J.user),yield C._setRedirectUser(null,p)),J})).apply(this,arguments)}function pi(b){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,l.Z)(function*(b){const p=mo(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class cc{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let _=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(_=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Oo(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return to(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=p,_=!0)),_}sendToConsumer(p,_){var C;if(p.error&&!to(p)){const R=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";_.onError(xe(this.auth,R))}else _.onAuthEvent(p)}isEventForConsumer(p,_){const C=null===_.eventId||!!p.eventId&&p.eventId===_.eventId;return _.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ga(p))}saveEventToCache(p){this.cachedEventUids.add(ga(p)),this.lastProcessedEventTime=Date.now()}}function ga(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function to({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function ni(b){return Po.apply(this,arguments)}function Po(){return(Po=(0,l.Z)(function*(b,p={}){return Ut(b,"GET","/v1/projects",p)})).apply(this,arguments)}const hy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uc=/^https?/;function _a(){return(_a=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield ni(b);for(const _ of p)try{if(Fs(_))return}catch{}Te(b,"unauthorized-domain")})).apply(this,arguments)}function Fs(b){const p=ut(),{protocol:_,hostname:C}=new URL(p);if(b.startsWith("chrome-extension://")){const J=new URL(b);return""===J.hostname&&""===C?"chrome-extension:"===_&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===_&&J.hostname===C}if(!uc.test(_))return!1;if(hy.test(b))return C===b;const R=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(C)}const mu=new Ie(3e4,6e4);function ya(){const b=ti().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let gr=null;const $r=new Ie(5e3,15e3),Nf="__/auth/iframe",$d="emulator/auth/iframe",no={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qd(b){const p=b.config;ce(p.authDomain,b,"auth-domain-config-required");const _=p.emulator?Re(p,$d):`https://${b.config.authDomain}/${Nf}`,C={apiKey:p.apiKey,appName:b.name,v:F.SDK_VERSION},R=Gd.get(b.config.apiHost);R&&(C.eid=R);const P=b._getFrameworks();return P.length&&(C.fw=P.join(",")),`${_}?${(0,$.xO)(C).slice(1)}`}function w(){return w=(0,l.Z)(function*(b){const p=yield function Ff(b){return gr=gr||function At(b){return new Promise((p,_)=>{var C,R,P;function J(){ya(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{ya(),_(xe(b,"network-request-failed"))},timeout:mu.get()})}if(null!==(R=null===(C=ti().gapi)||void 0===C?void 0:C.iframes)&&void 0!==R&&R.Iframe)p(gapi.iframes.getContext());else{if(null===(P=ti().gapi)||void 0===P||!P.load){const de=qi("iframefcb");return ti()[de]=()=>{gapi.load?J():_(xe(b,"network-request-failed"))},fn(`https://apis.google.com/js/api.js?onload=${de}`).catch(Be=>_(Be))}J()}}).catch(p=>{throw gr=null,p})}(b),gr}(b),_=ti().gapi;return ce(_,b,"internal-error"),p.open({where:document.body,url:qd(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:no,dontclear:!0},C=>new Promise(function(){var R=(0,l.Z)(function*(P,J){yield C.restyle({setHideOnLeave:!1});const de=xe(b,"network-request-failed"),Be=ti().setTimeout(()=>{J(de)},$r.get());function Xe(){ti().clearTimeout(Be),P(C)}C.ping(Xe).then(Xe,()=>{J(de)})});return function(P,J){return R.apply(this,arguments)}}()))}),w.apply(this,arguments)}const x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T=500,U=600,K="_blank",ie="http://localhost";class le{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const mt="__/auth/handler",Lt="emulator/auth/handler",Vt=encodeURIComponent("fac");function Bi(b,p,_,C,R,P){return xn.apply(this,arguments)}function xn(){return(xn=(0,l.Z)(function*(b,p,_,C,R,P){ce(b.config.authDomain,b,"auth-domain-config-required"),ce(b.config.apiKey,b,"invalid-api-key");const J={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:C,v:F.SDK_VERSION,eventId:R};if(p instanceof qo){p.setDefaultLanguage(b.languageCode),J.providerId=p.providerId||"",(0,$.xb)(p.getCustomParameters())||(J.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ct,en]of Object.entries(P||{}))J[Ct]=en}if(p instanceof Js){const Ct=p.getScopes().filter(en=>""!==en);Ct.length>0&&(J.scopes=Ct.join(","))}b.tenantId&&(J.tid=b.tenantId);const de=J;for(const Ct of Object.keys(de))void 0===de[Ct]&&delete de[Ct];const Be=yield b._getAppCheckToken(),Xe=Be?`#${Vt}=${encodeURIComponent(Be)}`:"";return`${function Jt({config:b}){return b.emulator?Re(b,Lt):`https://${b.authDomain}/${mt}`}(b)}?${(0,$.xO)(de).slice(1)}${Xe}`})).apply(this,arguments)}const _o="webStorageSupport",Ri=class hl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rr,this._completeRedirectFn=Wi,this._overrideRedirectResult=ll}_openPopup(p,_,C,R){var P=this;return(0,l.Z)(function*(){var J;Mt(null===(J=P.eventManagers[p._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const de=yield Bi(p,_,C,ut(),R);return function Ze(b,p,_,C=T,R=U){const P=Math.max((window.screen.availHeight-R)/2,0).toString(),J=Math.max((window.screen.availWidth-C)/2,0).toString();let de="";const Be=Object.assign(Object.assign({},x),{width:C.toString(),height:R.toString(),top:P,left:J}),Xe=(0,$.z$)().toLowerCase();_&&(de=k(Xe)?K:_),N(Xe)&&(p=p||ie,Be.scrollbars="yes");const Ct=Object.entries(Be).reduce((_r,[Ns,ba])=>`${_r}${Ns}=${ba},`,"");if(function Ot(b=(0,$.z$)()){var p;return Tt(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Xe)&&"_self"!==de)return function Ye(b,p){const _=document.createElement("a");_.href=b,_.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(C)}(p||"",de),new le(null);const en=window.open(p||"",de,Ct);ce(en,b,"popup-blocked");try{en.focus()}catch{}return new le(en)}(p,de,mo())})()}_openRedirect(p,_,C,R){var P=this;return(0,l.Z)(function*(){return yield P._originValidation(p),function Xo(b){ti().location.href=b}(yield Bi(p,_,C,ut(),R)),new Promise(()=>{})})()}_initialize(p){const _=p._key();if(this.eventManagers[_]){const{manager:R,promise:P}=this.eventManagers[_];return R?Promise.resolve(R):(Mt(P,"If manager is not set, promise should be"),P)}const C=this.initAndGetManager(p);return this.eventManagers[_]={promise:C},C.catch(()=>{delete this.eventManagers[_]}),C}initAndGetManager(p){var _=this;return(0,l.Z)(function*(){const C=yield function Yd(b){return w.apply(this,arguments)}(p),R=new cc(p);return C.register("authEvent",P=>(ce(P?.authEvent,p,"invalid-auth-event"),{status:R.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[p._key()]={manager:R},_.iframes[p._key()]=C,R})()}_isIframeWebStorageSupported(p,_){this.iframes[p._key()].send(_o,{type:_o},R=>{var P;const J=null===(P=R?.[0])||void 0===P?void 0:P[_o];void 0!==J&&_(!!J),Te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const _=p._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function dc(b){return _a.apply(this,arguments)}(p)),this.originValidationPromises[_]}get _shouldInitProactively(){return Yt()||L()||Tt()}};class yo{constructor(p){this.factorId=p}_process(p,_,C){switch(_.type){case"enroll":return this._finalizeEnroll(p,_.credential,C);case"signin":return this._finalizeSignIn(p,_.credential);default:return ot("unexpected MultiFactorSessionType")}}}class vo extends yo{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new vo(p)}_finalizeEnroll(p,_,C){return function aa(b,p){return Ut(b,"POST","/v2/accounts/mfaEnrollment:finalize",qe(b,p))}(p,{idToken:_,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,_){return function Rs(b,p){return Ut(b,"POST","/v2/accounts/mfaSignIn:finalize",qe(b,p))}(p,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Lf=(()=>{class b{constructor(){}static assertion(_){return vo._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var pl="@firebase/auth";class va{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const _=this.auth.onIdTokenChanged(C=>{p(C?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,_),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const _=this.internalListeners.get(p);_&&(this.internalListeners.delete(p),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,$.Pz)("authIdTokenMaxAge"),function Bf(b){(0,F._registerComponent)(new re.wA("auth",(p,{options:_})=>{const C=p.getProvider("app").getImmediate(),R=p.getProvider("heartbeat"),P=p.getProvider("app-check-internal"),{apiKey:J,authDomain:de}=C.options;ce(J&&!J.includes(":"),"invalid-api-key",{appName:C.name}),ce(!de?.includes(":"),"argument-error",{appName:C.name});const Be={apiKey:J,authDomain:de,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Io(b)},Xe=new On(C,R,P,Be);return function Ba(b,p){const _=p?.persistence||[],C=(Array.isArray(_)?_:[_]).map(Xn);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(C,p?.popupRedirectResolver)}(Xe,_),Xe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,_,C)=>{p.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new re.wA("auth-internal",p=>{const _=yn(p.getProvider("auth").getImmediate());return new va(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(pl,"0.23.1",function pc(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,F.registerVersion)(pl,"0.23.1","esm2017")}("Browser")},2090:(vt,Se,B)=>{B.d(Se,{$s:()=>Xn,BH:()=>Oe,G6:()=>Re,L:()=>be,LL:()=>xt,Pz:()=>xe,Sg:()=>je,UG:()=>ot,US:()=>re,ZB:()=>te,ZR:()=>Ut,aH:()=>Te,b$:()=>sn,eu:()=>Ge,hl:()=>We,jU:()=>Mt,m9:()=>tr,ne:()=>nn,pd:()=>Ji,r3:()=>ur,ru:()=>ut,tV:()=>W,uI:()=>ce,vZ:()=>_t,w1:()=>_e,xO:()=>Zn,xb:()=>ms,z$:()=>Ne,zI:()=>gt,zd:()=>$i});const se=function(G){const j=[];let N=0;for(let L=0;L<G.length;L++){let k=G.charCodeAt(L);k<128?j[N++]=k:k<2048?(j[N++]=k>>6|192,j[N++]=63&k|128):55296==(64512&k)&&L+1<G.length&&56320==(64512&G.charCodeAt(L+1))?(k=65536+((1023&k)<<10)+(1023&G.charCodeAt(++L)),j[N++]=k>>18|240,j[N++]=k>>12&63|128,j[N++]=k>>6&63|128,j[N++]=63&k|128):(j[N++]=k>>12|224,j[N++]=k>>6&63|128,j[N++]=63&k|128)}return j},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,j){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,L=[];for(let k=0;k<G.length;k+=3){const Q=G[k],Ce=k+1<G.length,rt=Ce?G[k+1]:0,Rt=k+2<G.length,Tt=Rt?G[k+2]:0;let Sn=(15&rt)<<2|Tt>>6,Yt=63&Tt;Rt||(Yt=64,Ce||(Sn=64)),L.push(N[Q>>2],N[(3&Q)<<4|rt>>4],N[Sn],N[Yt])}return L.join("")},encodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa(G):this.encodeByteArray(se(G),j)},decodeString(G,j){return this.HAS_NATIVE_SUPPORT&&!j?atob(G):function(G){const j=[];let N=0,L=0;for(;N<G.length;){const k=G[N++];if(k<128)j[L++]=String.fromCharCode(k);else if(k>191&&k<224){const Q=G[N++];j[L++]=String.fromCharCode((31&k)<<6|63&Q)}else if(k>239&&k<365){const Rt=((7&k)<<18|(63&G[N++])<<12|(63&G[N++])<<6|63&G[N++])-65536;j[L++]=String.fromCharCode(55296+(Rt>>10)),j[L++]=String.fromCharCode(56320+(1023&Rt))}else{const Q=G[N++],Ce=G[N++];j[L++]=String.fromCharCode((15&k)<<12|(63&Q)<<6|63&Ce)}}return j.join("")}(this.decodeStringToByteArray(G,j))},decodeStringToByteArray(G,j){this.init_();const N=j?this.charToByteMapWebSafe_:this.charToByteMap_,L=[];for(let k=0;k<G.length;){const Q=N[G.charAt(k++)],rt=k<G.length?N[G.charAt(k)]:0;++k;const Tt=k<G.length?N[G.charAt(k)]:64;++k;const Ot=k<G.length?N[G.charAt(k)]:64;if(++k,null==Q||null==rt||null==Tt||null==Ot)throw new Ee;L.push(Q<<2|rt>>4),64!==Tt&&(L.push(rt<<4&240|Tt>>2),64!==Ot&&L.push(Tt<<6&192|Ot))}return L},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class Ee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const be=function(G){return function(G){const j=se(G);return re.encodeByteArray(j,!0)}(G).replace(/\./g,"")},W=function(G){try{return re.decodeString(G,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function te(G,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return j}for(const N in j)!j.hasOwnProperty(N)||!He(N)||(G[N]=te(G[N],j[N]));return G}function He(G){return"__proto__"!==G}const ke=()=>{try{return function Ae(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=G&&W(G[1]);return j&&JSON.parse(j)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},Te=()=>{var G;return null===(G=ke())||void 0===G?void 0:G.config},xe=G=>{var j;return null===(j=ke())||void 0===j?void 0:j[`_${G}`]};class Oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,N)=>{this.resolve=j,this.reject=N})}wrapCallback(j){return(N,L)=>{N?this.reject(N):this.resolve(L),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(N):j(N,L))}}}function je(G,j){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const L=j||"demo-project",k=G.iat||0,Q=G.sub||G.user_id;if(!Q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ce=Object.assign({iss:`https://securetoken.google.com/${L}`,aud:L,iat:k,exp:k+3600,auth_time:k,sub:Q,user_id:Q,firebase:{sign_in_provider:"custom",identities:{}}},G);return[be(JSON.stringify({alg:"none",type:"JWT"})),be(JSON.stringify(Ce)),""].join(".")}function Ne(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function ot(){var G;const j=null===(G=ke())||void 0===G?void 0:G.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Mt(){return"object"==typeof self&&self.self===self}function ut(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function sn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){const G=Ne();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Re(){return!ot()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function We(){try{return"object"==typeof indexedDB}catch{return!1}}function Ge(){return new Promise((G,j)=>{try{let N=!0;const L="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(L);k.onsuccess=()=>{k.result.close(),N||self.indexedDB.deleteDatabase(L),G(!0)},k.onupgradeneeded=()=>{N=!1},k.onerror=()=>{var Q;j((null===(Q=k.error)||void 0===Q?void 0:Q.message)||"")}}catch(N){j(N)}})}function gt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ut extends Error{constructor(j,N,L){super(N),this.code=j,this.customData=L,this.name="FirebaseError",Object.setPrototypeOf(this,Ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(j,N,L){this.service=j,this.serviceName=N,this.errors=L}create(j,...N){const L=N[0]||{},k=`${this.service}/${j}`,Q=this.errors[j],Ce=Q?function $t(G,j){return G.replace(St,(N,L)=>{const k=j[L];return null!=k?String(k):`<${L}?>`})}(Q,L):"Error";return new Ut(k,`${this.serviceName}: ${Ce} (${k}).`,L)}}const St=/\{\$([^}]+)}/g;function ur(G,j){return Object.prototype.hasOwnProperty.call(G,j)}function ms(G){for(const j in G)if(Object.prototype.hasOwnProperty.call(G,j))return!1;return!0}function _t(G,j){if(G===j)return!0;const N=Object.keys(G),L=Object.keys(j);for(const k of N){if(!L.includes(k))return!1;const Q=G[k],Ce=j[k];if(jn(Q)&&jn(Ce)){if(!_t(Q,Ce))return!1}else if(Q!==Ce)return!1}for(const k of L)if(!N.includes(k))return!1;return!0}function jn(G){return null!==G&&"object"==typeof G}function Zn(G){const j=[];for(const[N,L]of Object.entries(G))Array.isArray(L)?L.forEach(k=>{j.push(encodeURIComponent(N)+"="+encodeURIComponent(k))}):j.push(encodeURIComponent(N)+"="+encodeURIComponent(L));return j.length?"&"+j.join("&"):""}function $i(G){const j={};return G.replace(/^\?/,"").split("&").forEach(L=>{if(L){const[k,Q]=L.split("=");j[decodeURIComponent(k)]=decodeURIComponent(Q)}}),j}function Ji(G){const j=G.indexOf("?");if(!j)return"";const N=G.indexOf("#",j);return G.substring(j,N>0?N:void 0)}function nn(G,j){const N=new pt(G,j);return N.subscribe.bind(N)}class pt{constructor(j,N){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=N,this.task.then(()=>{j(this)}).catch(L=>{this.error(L)})}next(j){this.forEachObserver(N=>{N.next(j)})}error(j){this.forEachObserver(N=>{N.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,N,L){let k;if(void 0===j&&void 0===N&&void 0===L)throw new Error("Missing Observer.");k=function Kn(G,j){if("object"!=typeof G||null===G)return!1;for(const N of j)if(N in G&&"function"==typeof G[N])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:N,complete:L},void 0===k.next&&(k.next=Pi),void 0===k.error&&(k.error=Pi),void 0===k.complete&&(k.complete=Pi);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),Q}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let N=0;N<this.observers.length;N++)this.sendOne(N,j)}sendOne(j,N){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{N(this.observers[j])}catch(L){typeof console<"u"&&console.error&&console.error(L)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pi(){}const qt=1e3,Qn=2,Nn=144e5,Fi=.5;function Xn(G,j=qt,N=Qn){const L=j*Math.pow(N,G),k=Math.round(Fi*L*(Math.random()-.5)*2);return Math.min(Nn,L+k)}function tr(G){return G&&G._delegate?G._delegate:G}},136:(vt,Se,B)=>{var l=B(4650);let $=null;function F(){return $}class ue{}const re=new l.OlP("DocumentToken");let Ee=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ye(){return(0,l.LFG)(W)}()},providedIn:"platform"}),n})();const be=new l.OlP("Location Initialized");let W=(()=>{class n extends Ee{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){q()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){q()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function te(){return new W((0,l.LFG)(re))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function He(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ae(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ke(n){return n&&"?"!==n[0]?"?"+n:n}let ct=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(ke)},providedIn:"root"}),n})();const ve=new l.OlP("appBaseHref");let ke=(()=>{class n extends ct{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return He(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ke(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+Ke(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+Ke(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ee),l.LFG(ve,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fe=(()=>{class n extends ct{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=He(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+Ke(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+Ke(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ee),l.LFG(ve,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(e){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function je(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Ae(Oe(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ke(i))}normalize(e){return n.stripTrailingSlash(function xe(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Oe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ke(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ke(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ke,n.joinWithSlash=He,n.stripTrailingSlash=Ae,n.\u0275fac=function(e){return new(e||n)(l.LFG(ct))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Te(){return new Ue((0,l.LFG)(ct))}()},providedIn:"root"}),n})();function Oe(n){return n.replace(/\/index.html$/,"")}let Qr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Xt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Nl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Nl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Xt{constructor(){this.$implicit=null,this.ngIf=null}}function Nl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class Vr{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ks=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews.length>0&&e!==this._defaultUsed){this._defaultUsed=e;for(const i of this._defaultViews)i.enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),So=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Vr(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Ks,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ti=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:u}=this;this._viewRef=i.createEmbeddedView(r,o,u?{injector:u}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})(),Ar=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const wf="browser",Xs="server";function Js(n){return n===Xs}let Vl=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Df((0,l.LFG)(re),window)}),n})();class Df{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function zc(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Yo(this.window.history)||Yo(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Yo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ad extends ue{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Wl extends Ad{static makeCurrent(){!function se(n){$||($=n)}(new Wl)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Ka(){return sa=sa||document.querySelector("base"),sa?sa.getAttribute("href"):null}();return null==e?null:function Hm(n){Ro=Ro||document.createElement("a"),Ro.setAttribute("href",n);const t=Ro.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){sa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function gs(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let Ro,sa=null;const Sf=new l.OlP("TRANSITION_ID"),Md=[{provide:l.ip1,useFactory:function Zl(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const i=F(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Sf,re,l.zs3],multi:!0}];let Jc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Qa=new l.OlP("EventManagerPlugins");let Kl=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Qa),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class aa{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=F().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Rd=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let o=r.get(e)??0;return o+=i,o>0?r.set(e,o):r.delete(e),o}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Qo=(()=>{class n extends Rd{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(o=>o.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Is={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},la=/%COMP%/g,el=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Ql(n,t){return t.flat(100).map(e=>e.replace(la,n))}function nu(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let rr=(()=>{class n{constructor(e,i,r,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new kd(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof Xl?r.applyToHost(e):r instanceof Xo&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const u=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestory;switch(i.encapsulation){case l.ifc.Emulated:o=new Xl(u,h,i,this.appId,g);break;case l.ifc.ShadowDom:return new ti(u,h,e,i);default:o=new Xo(u,h,i,g)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Kl),l.LFG(Qo),l.LFG(l.AFp),l.LFG(el))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class kd{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Is[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Od(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Od(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Is[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Is[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,i,r&l.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,nu(i)):this.eventManager.addEventListener(t,e,nu(i))}}function Od(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ti extends kd{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ql(r.id,r.styles);for(const u of o){const h=document.createElement("style");h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Xo extends kd{constructor(t,e,i,r,o=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=Ql(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Xl extends Xo{constructor(t,e,i,r,o){const u=r+"-"+i.id;super(t,e,i,o,u),this.contentAttr=function Tf(n){return"_ngcontent-%COMP%".replace(la,n)}(u),this.hostAttr=function tu(n){return"_nghost-%COMP%".replace(la,n)}(u)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Pd=(()=>{class n extends aa{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const tl=["alt","control","meta","shift"],Fd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jl={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let hi=(()=>{class n extends aa{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),u="code."),tl.forEach(v=>{const E=i.indexOf(v);E>-1&&(i.splice(E,1),u+=v+".")}),u+=o,0!=i.length||0===o.length)return null;const g={};return g.domEventName=r,g.fullKey=u,g}static matchEventFullKeyCode(e,i){let r=Fd[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),tl.forEach(u=>{u!==r&&(0,Jl[u])(e)&&(o+=u+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Mf=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:wf},{provide:l.g9A,useValue:function da(){Wl.makeCurrent()},multi:!0},{provide:re,useFactory:function ou(){return(0,l.RDi)(document),document},deps:[]}]),Ts=new l.OlP(""),nl=[{provide:l.rWj,useClass:class ko{addToWindow(t){l.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(g){u=u||g,o--,0==o&&i(u)};r.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?F().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],As=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function ru(){return new l.qLn},deps:[]},{provide:Qa,useClass:Pd,multi:!0,deps:[re,l.R0b,l.Lbi]},{provide:Qa,useClass:hi,multi:!0,deps:[re]},{provide:rr,useClass:rr,deps:[Kl,Qo,l.AFp,el]},{provide:l.FYo,useExisting:rr},{provide:Rd,useExisting:Qo},{provide:Qo,useClass:Qo,deps:[re]},{provide:Kl,useClass:Kl,deps:[Qa,l.R0b]},{provide:class Ef{},useClass:Jc,deps:[]},[]];let Ms=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:Sf,useExisting:l.AFp},Md]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ts,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...As,...nl],imports:[Ar,l.hGG]}),n})(),Rf=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Rs(){return new Rf((0,l.LFG)(re))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let fa=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):l.LFG(rc),i},providedIn:"root"}),n})(),rc=(()=>{class n extends fa{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${l.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${l.JZr})`)}}bypassSecurityTrustHtml(e){return(0,l.JVY)(e)}bypassSecurityTrustStyle(e){return(0,l.L6k)(e)}bypassSecurityTrustScript(e){return(0,l.eBb)(e)}bypassSecurityTrustUrl(e){return(0,l.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function rl(n){return new rc(n.get(re))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var gn=B(8996),Jr=B(3269);function Qe(...n){const t=(0,Jr.yG)(n);return(0,gn.D)(n,t)}var Gt=B(7579);class Fn extends Gt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const ol=(0,B(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var qn=B(9751);const{isArray:hu}=Array,{getPrototypeOf:Hd,prototype:jr,keys:ns}=Object;function oc(n){if(1===n.length){const t=n[0];if(hu(t))return{args:t,keys:null};if(function Os(n){return n&&"object"==typeof n&&Hd(n)===jr}(t)){const e=ns(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var pa=B(4671),dt=B(4004);const{isArray:fu}=Array;function Rr(n){return(0,dt.U)(t=>function jd(n,t){return fu(t)?n(...t):n(t)}(n,t))}function sc(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var ai=B(5403),sl=B(9672);function ac(...n){const t=(0,Jr.yG)(n),e=(0,Jr.jO)(n),{args:i,keys:r}=oc(n);if(0===i.length)return(0,gn.D)([],t);const o=new qn.y(function Ps(n,t,e=pa.y){return i=>{al(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let g=0;g<r;g++)al(t,()=>{const v=(0,gn.D)(n[g],t);let E=!1;v.subscribe((0,ai.x)(i,S=>{o[g]=S,E||(E=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>sc(r,u):pa.y));return e?o.pipe(Rr(e)):o}function al(n,t,e){n?(0,sl.f)(e,n,t):t()}var ll=B(8189);function cl(...n){return function Pf(){return(0,ll.J)(1)}()((0,gn.D)(n,(0,Jr.yG)(n)))}var is=B(8421);function lc(n){return new qn.y(t=>{(0,is.Xf)(n()).subscribe(t)})}var pu=B(9635),zr=B(576);function ma(n,t){const e=(0,zr.m)(n)?n:()=>n,i=r=>r.error(e());return new qn.y(t?r=>t.schedule(i,0,r):i)}var mr=B(515),eo=B(727),Mi=B(4482);function ul(){return(0,Mi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,ai.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class zd extends qn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Mi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new eo.w0;const e=this.getSubject();t.add(this.source.subscribe((0,ai.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=eo.w0.EMPTY)}return t}refCount(){return ul()(this)}}function Bn(n,t){return(0,Mi.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,ai.x)(i,g=>{r?.unsubscribe();let v=0;const E=o++;(0,is.Xf)(n(g,E)).subscribe(r=(0,ai.x)(i,S=>i.next(t?t(g,S,E,v++):S),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function Wi(n){return n<=0?()=>mr.E:(0,Mi.e)((t,e)=>{let i=0;t.subscribe((0,ai.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function go(...n){const t=(0,Jr.yG)(n);return(0,Mi.e)((e,i)=>{(t?cl(n,e,t):cl(n,e)).subscribe(i)})}function pi(n,t){return(0,Mi.e)((e,i)=>{let r=0;e.subscribe((0,ai.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var Yn=B(5577);function dl(n){return(0,Mi.e)((t,e)=>{let i=!1;t.subscribe((0,ai.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function cc(n=ga){return(0,Mi.e)((t,e)=>{let i=!1;t.subscribe((0,ai.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function ga(){return new ol}function to(n,t){const e=arguments.length>=2;return i=>i.pipe(n?pi((r,o)=>n(r,o,i)):pa.y,Wi(1),e?dl(t):cc(()=>new ol))}function Oo(n,t){return(0,zr.m)(t)?(0,Yn.z)(n,t,1):(0,Yn.z)(n,1)}var ni=B(8505);function Po(n){return(0,Mi.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,ai.x)(e,void 0,void 0,u=>{o=(0,is.Xf)(n(u,Po(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function uc(n,t){return(0,Mi.e)(function hy(n,t,e,i,r){return(o,u)=>{let h=e,g=t,v=0;o.subscribe((0,ai.x)(u,E=>{const S=v++;g=h?n(g,E,S):(h=!0,E),i&&u.next(g)},r&&(()=>{h&&u.next(g),u.complete()})))}}(n,t,arguments.length>=2,!0))}function dc(n){return n<=0?()=>mr.E:(0,Mi.e)((t,e)=>{let i=[];t.subscribe((0,ai.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function _a(n,t){const e=arguments.length>=2;return i=>i.pipe(n?pi((r,o)=>n(r,o,i)):pa.y,dc(1),e?dl(t):cc(()=>new ol))}function ya(n){return(0,Mi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const At="primary",gr=Symbol("RouteTitle");class Ff{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function $r(n){return new Ff(n)}function Nf(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function no(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Gd(n[r],t[r]))return!1;return!0}function Gd(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function qd(n){return Array.prototype.concat.apply([],n)}function Yd(n){return n.length>0?n[n.length-1]:null}function x(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function T(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,gn.D)(Promise.resolve(n)):Qe(n)}const U=!1,K={exact:function Ye(n,t,e){if(!Ri(n.segments,t.segments)||!Bi(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Ye(n.children[i],t.children[i],e))return!1;return!0},subset:Lt},ie={exact:function Ze(n,t){return no(n,t)},subset:function mt(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Gd(n[e],t[e]))},ignored:()=>!0};function le(n,t,e){return K[e.paths](n.root,t.root,e.matrixParams)&&ie[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Lt(n,t,e){return Vt(n,t,t.segments,e)}function Vt(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Ri(r,e)||t.hasChildren()||!Bi(r,e,i))}if(n.segments.length===e.length){if(!Ri(n.segments,e)||!Bi(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Lt(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Ri(n.segments,r)&&Bi(n.segments,r,i)&&n.children[At])&&Vt(n.children[At],t,o,i)}}function Bi(n,t,e){return t.every((i,r)=>ie[e](n[r].parameters,i.parameters))}class xn{constructor(t=new Jt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$r(this.queryParams)),this._queryParamMap}toString(){return Wd.serialize(this)}}class Jt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,x(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hc(this)}}class _o{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=$r(this.parameters)),this._parameterMap}toString(){return jm(this)}}function Ri(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let vo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Lf},providedIn:"root"}),n})();class Lf{parse(t){const e=new R(t);return new xn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${fc(t.root,!0)}`,i=function zm(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${pl(e)}=${pl(r)}`).join("&"):`${pl(e)}=${pl(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Vf(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Wd=new Lf;function hc(n){return n.segments.map(t=>jm(t)).join("/")}function fc(n,t){if(!n.hasChildren())return hc(n);if(t){const e=n.children[At]?fc(n.children[At],!1):"",i=[];return x(n.children,(r,o)=>{o!==At&&i.push(`${o}:${fc(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function yo(n,t){let e=[];return x(n.children,(i,r)=>{r===At&&(e=e.concat(t(i,r)))}),x(n.children,(i,r)=>{r!==At&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===At?[fc(n.children[At],!1)]:[`${r}:${fc(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[At]?`${hc(n)}/${e[0]}`:`${hc(n)}/(${e.join("//")})`}}function fl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pl(n){return fl(n).replace(/%3B/gi,";")}function va(n){return fl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pc(n){return decodeURIComponent(n)}function Bf(n){return pc(n.replace(/\+/g,"%20"))}function jm(n){return`${va(n.path)}${function Uf(n){return Object.keys(n).map(t=>`;${va(t)}=${va(n[t])}`).join("")}(n.parameters)}`}const fy=/^[^\/()?;=#]+/;function Hf(n){const t=n.match(fy);return t?t[0]:""}const b=/^[^=?&#]+/,_=/^[^&#]+/;class R{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[At]=new Jt(t,e)),i}parseSegment(){const t=Hf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.vHH(4009,U);return this.capture(t),new _o(pc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Hf(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Hf(this.remaining);r&&(i=r,this.capture(i))}t[pc(e)]=pc(i)}parseQueryParam(t){const e=function p(n){const t=n.match(b);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function C(n){const t=n.match(_);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=Bf(e),o=Bf(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Hf(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,U);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=At);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[At]:new Jt([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.vHH(4011,U)}}function P(n){return n.segments.length>0?new Jt([],{[At]:n}):n}function J(n){const t={};for(const i of Object.keys(n.children)){const o=J(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function de(n){if(1===n.numberOfChildren&&n.children[At]){const t=n.children[At];return new Jt(n.segments.concat(t.segments),t.children)}return n}(new Jt(n.segments,t))}function Be(n){return n instanceof xn}const Xe=!1;function Ns(n,t,e,i,r){if(0===e.length)return Fo(t.root,t.root,t.root,i,r);const o=function _u(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Zd(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return x(o.outlets,(g,v)=>{h[v]="string"==typeof g?g.split("/"):g}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new Zd(e,t,i)}(e);return o.toRoot()?Fo(t.root,t.root,new Jt([],{}),i,r):function u(g){const v=function Qd(n,t,e,i){if(n.isAbsolute)return new wa(t.root,!0,0);if(-1===i)return new wa(e,e===t.root,0);return function mc(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new l.vHH(4005,Xe&&"Invalid number of '../'");r=i.segments.length}return new wa(i,!1,r-o)}(e,i+(ba(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,g),E=v.processChildren?Ca(v.segmentGroup,v.index,o.commands):gc(v.segmentGroup,v.index,o.commands);return Fo(t.root,v.segmentGroup,E,i,r)}(n.snapshot?._lastPathIndex)}function ba(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function gu(n){return"object"==typeof n&&null!=n&&n.outlets}function Fo(n,t,e,i,r){let u,o={};i&&x(i,(g,v)=>{o[v]=Array.isArray(g)?g.map(E=>`${E}`):`${g}`}),u=n===t?e:jf(n,t,e);const h=P(J(u));return new xn(h,o,r)}function jf(n,t,e){const i={};return x(n.children,(r,o)=>{i[o]=r===t?e:jf(r,t,e)}),new Jt(n.segments,i)}class Zd{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&ba(i[0]))throw new l.vHH(4003,Xe&&"Root segment cannot have matrix parameters");const r=i.find(gu);if(r&&r!==Yd(i))throw new l.vHH(4004,Xe&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wa{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function gc(n,t,e){if(n||(n=new Jt([],{})),0===n.segments.length&&n.hasChildren())return Ca(n,t,e);const i=function py(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(gu(h))break;const g=`${h}`,v=i<e.length-1?e[i+1]:null;if(r>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!my(g,v,u))return o;i+=2}else{if(!my(g,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Jt(n.segments.slice(0,i.pathIndex),{});return o.children[At]=new Jt(n.segments.slice(i.pathIndex),n.children),Ca(o,0,r)}return i.match&&0===r.length?new Jt(n.segments,{}):i.match&&!n.hasChildren()?zf(n,t,e):i.match?Ca(n,0,r):zf(n,t,e)}function Ca(n,t,e){if(0===e.length)return new Jt(n.segments,{});{const i=function Xd(n){return gu(n[0])?n[0].outlets:{[At]:n}}(e),r={};if(!i[At]&&n.children[At]&&1===n.numberOfChildren&&0===n.children[At].segments.length){const o=Ca(n.children[At],t,e);return new Jt(n.segments,o.children)}return x(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=gc(n.children[u],t,o))}),x(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new Jt(n.segments,r)}}function zf(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(gu(o)){const g=$f(o.outlets);return new Jt(i,g)}if(0===r&&ba(e[0])){i.push(new _o(n.segments[t].path,mw(e[0]))),r++;continue}const u=gu(o)?o.outlets[At]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&ba(h)?(i.push(new _o(u,mw(h))),r+=2):(i.push(new _o(u,{})),r++)}return new Jt(i,{})}function $f(n){const t={};return x(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=zf(new Jt([],{}),0,e))}),t}function mw(n){const t={};return x(n,(e,i)=>t[i]=`${e}`),t}function my(n,t,e){return n==e.path&&no(t,e.parameters)}const Gf="imperative";class Da{constructor(t,e){this.id=t,this.url=e}}class gy extends Da{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _c extends Da{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qf extends Da{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yu extends Da{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class Yf extends Da{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Jd extends Da{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _I extends Da{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yI extends Da{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Yk extends Da{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vI extends Da{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _y{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bI{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gw{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $m{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yy{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _w{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vy{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let wI=(()=>{class n{createUrlTree(e,i,r,o,u,h){return Ns(e||i.root,r,o,u,h)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),DI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){return wI.\u0275fac(t)},providedIn:"root"}),n})();class vw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=by(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=by(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ls(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ls(t,this._root).map(e=>e.value)}}function by(n,t){if(n===t.value)return t;for(const e of t.children){const i=by(n,e);if(i)return i}return null}function Ls(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Ls(n,e);if(i.length)return i.unshift(t),i}return[]}class bo{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function eh(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class bw extends vw{constructor(t,e){super(t),this.snapshot=e,wy(this,t)}toString(){return this.snapshot.toString()}}function ww(n,t){const e=function EI(n,t){const u=new Gm([],{},{},"",{},At,t,null,n.root,-1,{});return new Ew("",new bo(u,[]))}(n,t),i=new Fn([new _o("",{})]),r=new Fn({}),o=new Fn({}),u=new Fn({}),h=new Fn(""),g=new th(i,r,u,h,o,At,t,e.root);return g.snapshot=e.root,new bw(new bo(g,[]),e)}class th{constructor(t,e,i,r,o,u,h,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,dt.U)(v=>v[gr]))??Qe(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dt.U)(t=>$r(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dt.U)(t=>$r(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cw(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Dw(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Gm{get title(){return this.data?.[gr]}constructor(t,e,i,r,o,u,h,g,v,E,S){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=E,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$r(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$r(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ew extends vw{constructor(t,e){super(e),this.url=t,wy(this,e)}toString(){return xw(this._root)}}function wy(n,t){t.value._routerState=n,t.children.forEach(e=>wy(n,e))}function xw(n){const t=n.children.length>0?` { ${n.children.map(xw).join(", ")} } `:"";return`${n.value}${t}`}function nh(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,no(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),no(t.params,e.params)||n.params.next(e.params),function $d(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!no(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),no(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Vs(n,t){const e=no(n.params,t.params)&&function hl(n,t){return Ri(n,t)&&n.every((e,i)=>no(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Vs(n.parent,t.parent))}function ih(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Iw(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ih(n,i,r);return ih(n,i)})}(n,t,e);return new bo(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>ih(n,h)),u}}const i=function Sw(n){return new th(new Fn(n.url),new Fn(n.params),new Fn(n.queryParams),new Fn(n.fragment),new Fn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>ih(n,o));return new bo(i,r)}}const Tw="ngNavigationCancelingError";function xI(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Be(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=II(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function II(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Tw]=!0,i.cancellationCode=t,e&&(i.url=e),i}function qm(n){return Ym(n)&&Be(n.url)}function Ym(n){return n&&n[Tw]}class Wk{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Wm,this.attachRef=null}}let Wm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Wk,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zf=!1;let Cy=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=At,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(Wm),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Zf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Zf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Zf);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l.vHH(4013,Zf);this._activatedRoute=e;const r=this.location,u=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new SI(e,h,r.injector);if(i&&function TI(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(u);this.activated=r.createComponent(v,r.length,g)}else this.activated=r.createComponent(u,{index:r.length,injector:g,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class SI{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===th?this.route:t===Wm?this.childContexts:this.parent.get(t,e)}}let Dy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},dependencies:[Cy],encapsulation:2}),n})();function Ey(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Zm(n){const t=n.children&&n.children.map(Zm),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==At&&(e.component=Dy),e}function rs(n){return n.outlet||At}function Rw(n,t){const e=n.filter(i=>rs(i)===t);return e.push(...n.filter(i=>rs(i)!==t)),e}function Kf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class kw{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),nh(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=eh(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),x(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=eh(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=eh(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=eh(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new _w(o.value.snapshot))}),t.children.length&&this.forwardEvent(new $m(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(nh(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),nh(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=Kf(r.snapshot),g=h?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=g,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class OI{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Iy{constructor(t,e){this.component=t,this.route=e}}function Qf(n,t,e){const i=n._root;return rh(i,t?t._root:null,e,[i.value])}function bu(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,l.Z0I)(n)?t.get(n):n:i}function rh(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=eh(t);return n.children.forEach(u=>{(function Ow(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const g=function Kk(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ri(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ri(n.url,t.url)||!no(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vs(n,t)||!no(n.queryParams,t.queryParams);default:return!Vs(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);g?r.canActivateChecks.push(new OI(i)):(o.data=u.data,o._resolvedData=u._resolvedData),rh(n,t,o.component?h?h.children:null:e,i,r),g&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Iy(h.outlet.component,u))}else u&&Xf(t,h,r),r.canActivateChecks.push(new OI(i)),rh(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),x(o,(u,h)=>Xf(u,e.getContext(h),r)),r}function Xf(n,t,e){const i=eh(n),r=n.value;x(i,(o,u)=>{Xf(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Iy(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function oh(n){return"function"==typeof n}function ml(n){return n instanceof ol||"EmptyError"===n?.name}const Km=Symbol("INITIAL_VALUE");function yc(){return Bn(n=>ac(n.map(t=>t.pipe(Wi(1),go(Km)))).pipe((0,dt.U)(t=>{for(const e of t)if(!0!==e){if(e===Km)return Km;if(!1===e||e instanceof xn)return e}return!0}),pi(t=>t!==Km),Wi(1)))}function Oy(n){return(0,pu.z)((0,ni.b)(t=>{if(Be(t))throw xI(0,t)}),(0,dt.U)(t=>!0===t))}const Py={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lw(n,t,e,i,r){const o=Fy(n,t,e);return o.matched?function sh(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Qe(r.map(u=>{const h=bu(u,n);return T(function My(n){return n&&oh(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(yc(),Oy()):Qe(!0)}(i=Ey(t,i),t,e).pipe((0,dt.U)(u=>!0===u?o:{...Py})):Qe(o)}function Fy(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Py}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Nf)(e,n,t);if(!r)return{...Py};const o={};x(r.posParams,(h,g)=>{o[g]=h.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function ah(n,t,e,i){if(e.length>0&&function UI(n,t,e){return e.some(i=>Ny(n,t,i)&&rs(i)!==At)}(n,e,i)){const o=new Jt(t,function Vw(n,t,e,i){const r={};r[At]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&rs(o)!==At){const u=new Jt([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[rs(o)]=u}return r}(n,t,i,new Jt(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function Bw(n,t,e){return e.some(i=>Ny(n,t,i))}(n,e,i)){const o=new Jt(n.segments,function BI(n,t,e,i,r){const o={};for(const u of i)if(Ny(n,e,u)&&!r[rs(u)]){const h=new Jt([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[rs(u)]=h}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new Jt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function Ny(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Uw(n,t,e,i){return!!(rs(n)===i||i!==At&&Ny(t,e,n))&&("**"===n.path||Fy(t,n,e).matched)}function lh(n,t,e){return 0===t.length&&!n.children[e]}const Jm=!1;class gl{constructor(t){this.segmentGroup=t||null}}class ch{constructor(t){this.urlTree=t}}function Jf(n){return ma(new gl(n))}function Ly(n){return ma(new ch(n))}class Hw{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=ah(this.urlTree.root,[],[],this.config).segmentGroup,e=new Jt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,At).pipe((0,dt.U)(o=>this.createUrlTree(J(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Po(o=>{if(o instanceof ch)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof gl?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,At).pipe((0,dt.U)(r=>this.createUrlTree(J(r),t.queryParams,t.fragment))).pipe(Po(r=>{throw r instanceof gl?this.noMatchError(r):r}))}noMatchError(t){return new l.vHH(4002,Jm)}createUrlTree(t,e,i){const r=P(t);return new xn(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,dt.U)(o=>new Jt([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,gn.D)(r).pipe(Oo(o=>{const u=i.children[o],h=Rw(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,dt.U)(g=>({segment:g,outlet:o})))}),uc((o,u)=>(o[u.outlet]=u.segment,o),{}),_a())}expandSegment(t,e,i,r,o,u){return(0,gn.D)(i).pipe(Oo(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(Po(v=>{if(v instanceof gl)return Qe(null);throw v}))),to(h=>!!h),Po((h,g)=>{if(ml(h))return lh(e,r,o)?Qe(new Jt([],{})):Jf(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return Uw(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):Jf(e):Jf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Ly(o):this.lineralizeSegments(i,o).pipe((0,Yn.z)(u=>{const h=new Jt(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:g,remainingSegments:v,positionalParamSegments:E}=Fy(e,r,o);if(!h)return Jf(e);const S=this.applyRedirectCommands(g,r.redirectTo,E);return r.redirectTo.startsWith("/")?Ly(S):this.lineralizeSegments(r,S).pipe((0,Yn.z)(V=>this.expandSegment(t,e,i,V.concat(v),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=Ey(i,t),i.loadChildren?(i._loadedRoutes?Qe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,dt.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Jt(r,{})))):Qe(new Jt(r,{}))):Lw(e,i,r,t).pipe(Bn(({matched:u,consumedSegments:h,remainingSegments:g})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Yn.z)(E=>{const S=E.injector??t,V=E.routes,{segmentGroup:z,slicedSegments:X}=ah(e,h,g,V),ne=new Jt(z.segments,z.children);if(0===X.length&&ne.hasChildren())return this.expandChildren(S,V,ne).pipe((0,dt.U)(it=>new Jt(h,it)));if(0===V.length&&0===X.length)return Qe(new Jt(h,{}));const he=rs(i)===o;return this.expandSegment(S,ne,V,X,he?At:o,!0).pipe((0,dt.U)(at=>new Jt(h.concat(at.segments),at.children)))})):Jf(e)))}getChildConfig(t,e,i){return e.children?Qe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Qe({routes:e._loadedRoutes,injector:e._loadedInjector}):function VI(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Qe(!0):Qe(r.map(u=>{const h=bu(u,n);return T(function Ty(n){return n&&oh(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(yc(),Oy())}(t,e,i).pipe((0,Yn.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,ni.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function jI(n){return ma(II(Jm,3))}())):Qe({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Qe(i);if(r.numberOfChildren>1||!r.children[At])return t.redirectTo,ma(new l.vHH(4e3,Jm));r=r.children[At]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new xn(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return x(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return x(e.children,(h,g)=>{u[g]=this.createSegmentGroup(t,h,i,r)}),new Jt(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new l.vHH(4001,Jm);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class Vy{}class ep{constructor(t,e,i,r,o,u,h){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.urlSerializer=h}recognize(){const t=ah(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,At).pipe((0,dt.U)(e=>{if(null===e)return null;const i=new Gm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},At,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new bo(i,e),o=new Ew(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=Cw(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,gn.D)(Object.keys(i.children)).pipe(Oo(r=>{const o=i.children[r],u=Rw(e,r);return this.processSegmentGroup(t,u,o,r)}),uc((r,o)=>r&&o?(r.push(...o),r):null),function Fs(n,t=!1){return(0,Mi.e)((e,i)=>{let r=0;e.subscribe((0,ai.x)(i,o=>{const u=n(o,r++);(u||t)&&i.next(o),!u&&i.complete()}))})}(r=>null!==r),dl(null),_a(),(0,dt.U)(r=>{if(null===r)return null;const o=zw(r);return function GI(n){n.sort((t,e)=>t.value.outlet===At?-1:e.value.outlet===At?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,gn.D)(e).pipe(Oo(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,o)),to(u=>!!u),Po(u=>{if(ml(u))return lh(i,r,o)?Qe([]):Qe(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!Uw(e,i,r,o))return Qe(null);let u;if("**"===e.path){const h=r.length>0?Yd(r).parameters:{},g=Gw(i)+r.length;u=Qe({snapshot:new Gm(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ea(e),rs(e),e.component??e._loadedComponent??null,e,$w(i),g,qw(e)),consumedSegments:[],remainingSegments:[]})}else u=Lw(i,e,r,t).pipe((0,dt.U)(({matched:h,consumedSegments:g,remainingSegments:v,parameters:E})=>{if(!h)return null;const S=Gw(i)+g.length;return{snapshot:new Gm(g,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ea(e),rs(e),e.component??e._loadedComponent??null,e,$w(i),S,qw(e)),consumedSegments:g,remainingSegments:v}}));return u.pipe(Bn(h=>{if(null===h)return Qe(null);const{snapshot:g,consumedSegments:v,remainingSegments:E}=h;t=e._injector??t;const S=e._loadedInjector??t,V=function qI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:z,slicedSegments:X}=ah(i,v,E,V.filter(he=>void 0===he.redirectTo));if(0===X.length&&z.hasChildren())return this.processChildren(S,V,z).pipe((0,dt.U)(he=>null===he?null:[new bo(g,he)]));if(0===V.length&&0===X.length)return Qe([new bo(g,[])]);const ne=rs(e)===o;return this.processSegment(S,V,z,X,ne?At:o).pipe((0,dt.U)(he=>null===he?null:[new bo(g,he)]))}))}}function YI(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function zw(n){const t=[],e=new Set;for(const i of n){if(!YI(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=zw(i.children);t.push(new bo(i.value,r))}return t.filter(i=>!e.has(i))}function $w(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Gw(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Ea(n){return n.data||{}}function qw(n){return n.resolve||{}}function Uy(n){return"string"==typeof n.title||null===n.title}function Hy(n){return Bn(t=>{const e=n(t);return e?(0,gn.D)(e).pipe((0,dt.U)(()=>t)):Qe(t)})}const uh=new l.OlP("ROUTES");let zy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Qe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=T(e.loadComponent()).pipe((0,dt.U)(Zw),(0,ni.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),ya(()=>{this.componentLoaders.delete(e)})),r=new zd(i,()=>new Gt.x).pipe(ul());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Qe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,dt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,v,E=!1;Array.isArray(h)?v=h:(g=h.create(e).injector,v=qd(g.get(uh,[],l.XFs.Self|l.XFs.Optional)));return{routes:v.map(Zm),injector:g}}),ya(()=>{this.childrenLoaders.delete(i)})),u=new zd(o,()=>new Gt.x).pipe(ul());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return T(e()).pipe((0,dt.U)(Zw),(0,Yn.z)(i=>i instanceof l.YKP||Array.isArray(i)?Qe(i):(0,gn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zw(n){return function Bs(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let tg=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Gt.x,this.configLoader=(0,l.f3M)(zy),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(vo),this.rootContexts=(0,l.f3M)(Wm),this.navigationId=0,this.afterPreactivation=()=>Qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new bI(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new _y(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Fn({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Gf,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pi(i=>0!==i.id),(0,dt.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Bn(i=>{let r=!1,o=!1;return Qe(i).pipe((0,ni.b)(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Bn(u=>{const h=e.browserUrlTree.toString(),g=!e.navigated||u.extractedUrl.toString()!==h||h!==e.currentUrlTree.toString();if(!g&&"reload"!==(u.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const E="";return this.events.next(new yu(u.id,e.serializeUrl(i.rawUrl),E,0)),e.rawUrlTree=u.rawUrl,u.resolve(null),mr.E}if(e.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return Kw(u.source)&&(e.browserUrlTree=u.extractedUrl),Qe(u).pipe(Bn(E=>{const S=this.transitions?.getValue();return this.events.next(new gy(E.id,this.urlSerializer.serialize(E.extractedUrl),E.source,E.restoredState)),S!==this.transitions?.getValue()?mr.E:Promise.resolve(E)}),function jw(n,t,e,i){return Bn(r=>function zI(n,t,e,i,r){return new Hw(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,dt.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,ni.b)(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects},i.urlAfterRedirects=E.urlAfterRedirects}),function ZI(n,t,e,i,r){return(0,Yn.z)(o=>function By(n,t,e,i,r,o,u="emptyOnly"){return new ep(n,t,e,i,r,u,o).recognize().pipe(Bn(h=>null===h?function $I(n){return new qn.y(t=>t.error(n))}(new Vy):Qe(h)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,dt.U)(u=>({...o,targetSnapshot:u}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,ni.b)(E=>{if(i.targetSnapshot=E.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!E.extras.skipLocationChange){const V=e.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);e.setBrowserUrl(V,E)}e.browserUrlTree=E.urlAfterRedirects}const S=new Jd(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(S)}));if(g&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:E,extractedUrl:S,source:V,restoredState:z,extras:X}=u,ne=new gy(E,this.urlSerializer.serialize(S),V,z);this.events.next(ne);const he=ww(S,this.rootComponentType).snapshot;return Qe(i={...u,targetSnapshot:he,urlAfterRedirects:S,extras:{...X,skipLocationChange:!1,replaceUrl:!1}})}{const E="";return this.events.next(new yu(u.id,e.serializeUrl(i.extractedUrl),E,1)),e.rawUrlTree=u.rawUrl,u.resolve(null),mr.E}}),(0,ni.b)(u=>{const h=new _I(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),(0,dt.U)(u=>i={...u,guards:Qf(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),function Qm(n,t){return(0,Yn.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?Qe({...e,guardsResult:!0}):function NI(n,t,e,i){return(0,gn.D)(n).pipe((0,Yn.z)(r=>function LI(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Qe(o.map(h=>{const g=Kf(t)??r,v=bu(h,g);return T(function PI(n){return n&&oh(n.canDeactivate)}(v)?v.canDeactivate(n,t,e,i):g.runInContext(()=>v(n,t,e,i))).pipe(to())})).pipe(yc()):Qe(!0)}(r.component,r.route,e,t,i)),to(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Yn.z)(h=>h&&function Pw(n){return"boolean"==typeof n}(h)?function Ry(n,t,e,i){return(0,gn.D)(t).pipe(Oo(r=>cl(function wu(n,t){return null!==n&&t&&t(new gw(n)),Qe(!0)}(r.route.parent,i),function Xm(n,t){return null!==n&&t&&t(new yy(n)),Qe(!0)}(r.route,i),function ky(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function Sy(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>lc(()=>Qe(u.guards.map(g=>{const v=Kf(u.node)??e,E=bu(g,v);return T(function Ay(n){return n&&oh(n.canActivateChild)}(E)?E.canActivateChild(i,n):v.runInContext(()=>E(i,n))).pipe(to())})).pipe(yc())));return Qe(o).pipe(yc())}(n,r.path,e),function Nw(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Qe(!0);const r=i.map(o=>lc(()=>{const u=Kf(t)??e,h=bu(o,u);return T(function Qk(n){return n&&oh(n.canActivate)}(h)?h.canActivate(t,n):u.runInContext(()=>h(t,n))).pipe(to())}));return Qe(r).pipe(yc())}(n,r.route,e))),to(r=>!0!==r,!0))}(i,o,n,t):Qe(h)),(0,dt.U)(h=>({...e,guardsResult:h})))})}(this.environmentInjector,u=>this.events.next(u)),(0,ni.b)(u=>{if(i.guardsResult=u.guardsResult,Be(u.guardsResult))throw xI(0,u.guardsResult);const h=new yI(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),pi(u=>!!u.guardsResult||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",3),!1)),Hy(u=>{if(u.guards.canActivateChecks.length)return Qe(u).pipe((0,ni.b)(h=>{const g=new Yk(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}),Bn(h=>{let g=!1;return Qe(h).pipe(function Xk(n,t){return(0,Yn.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Qe(e);let o=0;return(0,gn.D)(r).pipe(Oo(u=>function Jk(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!Uy(r)&&(o[gr]=r.title),function Yw(n,t,e,i){const r=function e1(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Qe({});const o={};return(0,gn.D)(r).pipe((0,Yn.z)(u=>function Ww(n,t,e,i){const r=Kf(t)??i,o=bu(n,r);return T(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[u],t,e,i).pipe(to(),(0,ni.b)(h=>{o[u]=h}))),dc(1),function mu(n){return(0,dt.U)(()=>n)}(o),Po(u=>ml(u)?mr.E:ma(u)))}(o,n,t,i).pipe((0,dt.U)(u=>(n._resolvedData=u,n.data=Cw(n,e).resolve,r&&Uy(r)&&(n.data[gr]=r.title),null)))}(u.route,i,n,t)),(0,ni.b)(()=>o++),dc(1),(0,Yn.z)(u=>o===r.length?Qe(e):mr.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,ni.b)({next:()=>g=!0,complete:()=>{g||(e.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,ni.b)(h=>{const g=new vI(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}))}),Hy(u=>{const h=g=>{const v=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(g.routeConfig).pipe((0,ni.b)(E=>{g.component=E}),(0,dt.U)(()=>{})));for(const E of g.children)v.push(...h(E));return v};return ac(h(u.targetSnapshot.root)).pipe(dl(),Wi(1))}),Hy(()=>this.afterPreactivation()),(0,dt.U)(u=>{const h=function Wf(n,t,e){const i=ih(n,t._root,e?e._root:void 0);return new bw(i,t)}(e.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return i={...u,targetRouterState:h}}),(0,ni.b)(u=>{e.currentUrlTree=u.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(u.urlAfterRedirects,u.rawUrl),e.routerState=u.targetRouterState,"deferred"===e.urlUpdateStrategy&&(u.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,u),e.browserUrlTree=u.urlAfterRedirects)}),((n,t,e)=>(0,dt.U)(i=>(new kw(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,u=>this.events.next(u)),Wi(1),(0,ni.b)({next:u=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new _c(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{r=!0}}),ya(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Po(u=>{if(o=!0,Ym(u)){qm(u)||(e.navigated=!0,e.restoreHistory(i,!0));const h=new qf(i.id,this.urlSerializer.serialize(i.extractedUrl),u.message,u.cancellationCode);if(this.events.next(h),qm(u)){const g=e.urlHandlingStrategy.merge(u.url,e.rawUrlTree),v={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Kw(i.source)};e.scheduleNavigation(g,Gf,null,v,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const h=new Yf(i.id,this.urlSerializer.serialize(i.extractedUrl),u,i.targetSnapshot??void 0);this.events.next(h);try{i.resolve(e.errorHandler(u))}catch(g){i.reject(g)}}return mr.E}))}))}cancelNavigationTransition(e,i,r){const o=new qf(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kw(n){return n!==Gf}let Qw=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===At);return i}getResolvedTitleForRoute(e){return e.data[gr]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(KI)},providedIn:"root"}),n})(),KI=(()=>{class n extends Qw{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Rf))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(XI)},providedIn:"root"}),n})();class QI{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let XI=(()=>{class n extends QI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wt=new l.OlP("",{providedIn:"root",factory:()=>({})});let Jw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(eC)},providedIn:"root"}),n})(),eC=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eS(n){throw n}function tS(n,t,e){return t.parse("/")}const tC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},nS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(Wt,{optional:!0})||{},this.errorHandler=this.options.errorHandler||eS,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||tS,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(Jw),this.routeReuseStrategy=(0,l.f3M)(Xw),this.urlCreationStrategy=(0,l.f3M)(DI),this.titleStrategy=(0,l.f3M)(Qw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=qd((0,l.f3M)(uh,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(tg),this.urlSerializer=(0,l.f3M)(vo),this.location=(0,l.f3M)(Ue),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new xn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ww(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Gf,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},u=r?.navigationId?r:null;if(r){const g={...r};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const h=this.parseUrl(e);this.scheduleNavigation(h,i,u,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Zm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:g}=i,v=g?this.currentUrlTree.fragment:u;let E=null;switch(h){case"merge":E={...this.currentUrlTree.queryParams,...o};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=o||null}return null!==E&&(E=this.removeEmptyProps(E)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,E,v??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Be(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Gf,null,i)}navigate(e,i={skipLocationChange:!1}){return function iS(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new l.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...tC}:!1===i?{...nS}:i,Be(e))return le(this.currentUrlTree,e,r);const o=this.parseUrl(e);return le(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let h,g,v,E;return u?(h=u.resolve,g=u.reject,v=u.promise):v=new Promise((S,V)=>{h=S,g=V}),E="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:E,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:h,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(S=>Promise.reject(S))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",u)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ig=(()=>{class n{constructor(e,i,r,o,u,h){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Gt.x;const g=u.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===g||"area"===g,this.isAnchorElement?this.subscription=e.events.subscribe(v=>{v instanceof _c&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,l.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,l.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,l.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,u){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Zi),l.Y36(th),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(ct))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&l.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&l.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class $y{}let Gy=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(pi(e=>e instanceof _c),Oo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,l.MMx)(o.providers,e,`Route: ${o.path}`));const u=o._injector??e,h=o._loadedInjector??u;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(u,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,gn.D)(r).pipe((0,ll.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Qe(null);const o=r.pipe((0,Yn.z)(u=>null===u?Qe(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,gn.D)([o,u]).pipe((0,ll.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Zi),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG($y),l.LFG(zy))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ip=new l.OlP("");let iC=(()=>{class n{constructor(e,i,r,o,u={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof gy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof _c&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof vy&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new vy(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var os=(()=>((os=os||{})[os.COMPLETE=0]="COMPLETE",os[os.FAILED=1]="FAILED",os[os.REDIRECTING=2]="REDIRECTING",os))();const rp=!1;function Cu(n,t){return{\u0275kind:n,\u0275providers:t}}const Yy=new l.OlP("",{providedIn:"root",factory:()=>!1});function op(){const n=(0,l.f3M)(l.zs3);return t=>{const e=n.get(l.z2F);if(t!==e.components[0])return;const i=n.get(Zi),r=n.get(rC);1===n.get(rg)&&i.initialNavigation(),n.get(oC,null,l.XFs.Optional)?.setUpPreloading(),n.get(ip,null,l.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const rC=new l.OlP(rp?"bootstrap done indicator":"",{factory:()=>new Gt.x}),rg=new l.OlP(rp?"initial navigation":"",{providedIn:"root",factory:()=>1});function aS(){let n=[];return n=rp?[{provide:l.Xts,multi:!0,useFactory:()=>{const t=(0,l.f3M)(Zi);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function yw(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],Cu(1,n)}const oC=new l.OlP(rp?"router preloader":"");function lS(n){return Cu(0,[{provide:oC,useExisting:Gy},{provide:$y,useExisting:n}])}const fh=!1,dS=new l.OlP(fh?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Wy=[Ue,{provide:vo,useClass:Lf},Zi,Wm,{provide:th,useFactory:function qy(n){return n.routerState.root},deps:[Zi]},zy,fh?{provide:Yy,useValue:!0}:[]];function hS(){return new l.PXZ("Router",Zi)}let fS=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Wy,fh&&i?.enableTracing?aS().\u0275providers:[],{provide:uh,multi:!0,useValue:e},{provide:dS,useFactory:lC,deps:[[Zi,new l.FiY,new l.tp0]]},{provide:Wt,useValue:i||{}},i?.useHash?{provide:ct,useClass:Fe}:{provide:ct,useClass:ke},{provide:ip,useFactory:()=>{const n=(0,l.f3M)(Vl),t=(0,l.f3M)(l.R0b),e=(0,l.f3M)(Wt),i=(0,l.f3M)(tg),r=(0,l.f3M)(vo);return e.scrollOffset&&n.setOffset(e.scrollOffset),new iC(r,i,n,t,e)}},i?.preloadingStrategy?lS(i.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:hS},i?.initialNavigation?mS(i):[],[{provide:cC,useFactory:op},{provide:l.tb,multi:!0,useExisting:cC}]]}}static forChild(e){return{ngModule:n,providers:[{provide:uh,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(dS,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Dy]}),n})();function lC(n){if(fh&&n)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function mS(n){return["disabled"===n.initialNavigation?Cu(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const t=(0,l.f3M)(Zi);return()=>{t.setUpLocationChangeListener()}}},{provide:rg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Cu(2,[{provide:rg,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:t=>{const e=t.get(be,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Zi),o=t.get(rC);(function r1(n,t){n.events.pipe(pi(e=>e instanceof _c||e instanceof qf||e instanceof Yf||e instanceof yu),(0,dt.U)(e=>e instanceof _c||e instanceof yu?os.COMPLETE:e instanceof qf&&(0===e.code||1===e.code)?os.REDIRECTING:os.FAILED),pi(e=>e!==os.REDIRECTING),Wi(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(tg).afterPreactivation=()=>(i(!0),o.closed?Qe(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const cC=new l.OlP(fh?"Router Initializer":"");var we=B(5861),ap=B(8502),wn=B(2090),xa=B(6881),_l=B(1877),mh=B(4859),gh=B(6451),_h=B(5363),uC=B(6063);class Zy extends Gt.x{constructor(t=1/0,e=1/0,i=uC.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let g=1;g<i.length&&i[g]<=u;g+=2)h=g;h&&i.splice(0,h+1)}}}var dC=B(3099);function hC(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,dC.B)({connector:()=>new Zy(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Ky(n,t){return(0,zr.m)(t)?Bn(()=>n,t):Bn(()=>n)}var Qy=B(9468),yr=B(4976),ss=B(2011);B(259);const Xy=new Map,_C={activated:!1,tokenObservers:[]},Ia={initialized:!1,enabled:!1};function li(n){return Xy.get(n)||Object.assign({},_C)}function ag(){return Ia}const lg="https://content-firebaseappcheck.googleapis.com/v1",ES="exchangeDebugToken",cg={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class IS{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,we.Z)(function*(){e.stop();try{e.pending=new wn.BH,yield function ug(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new wn.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ki=new wn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function up(n,t){return hg.apply(this,arguments)}function hg(){return(hg=(0,we.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const o={method:"POST",body:JSON.stringify(t),headers:i};let u,h;try{u=yield fetch(n,o)}catch(S){throw Ki.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==u.status)throw Ki.create("fetch-status-error",{httpStatus:u.status});try{h=yield u.json()}catch(S){throw Ki.create("fetch-parse-error",{originalErrorMessage:S?.message})}const g=h.ttl.match(/^([\d.]+)(s)$/);if(!g||!g[2]||isNaN(Number(g[1])))throw Ki.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(g[1]),E=Date.now();return{token:h.token,expireTimeMillis:E+v,issuedAtTimeMillis:E}})).apply(this,arguments)}const fg="firebase-app-check-database",pg=1,yl="firebase-app-check-store";let dp=null;function MS(n,t){return nv.apply(this,arguments)}function nv(){return(nv=(0,we.Z)(function*(n,t){const i=(yield function tv(){return dp||(dp=new Promise((n,t)=>{try{const e=indexedDB.open(fg,pg);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Ki.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(yl,{keyPath:"compositeKey"})}}catch(e){t(Ki.create("storage-open",{originalErrorMessage:e?.message}))}}),dp)}()).transaction(yl,"readwrite"),o=i.objectStore(yl).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=g=>{u()},i.onerror=g=>{var v;h(Ki.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const fp=new _l.Yd("@firebase/app-check");function mg(n,t){return(0,wn.hl)()?function TS(n,t){return MS(function CC(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{fp.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function av(){return lv.apply(this,arguments)}function lv(){return(lv=(0,we.Z)(function*(){const n=ag();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const OS={error:"UNKNOWN_ERROR"};function PS(n){return wn.US.encodeString(JSON.stringify(n),!1)}function gg(n){return cv.apply(this,arguments)}function cv(){return(cv=(0,we.Z)(function*(n,t=!1){const e=n.app;!function lp(n){if(!li(n).activated)throw Ki.create("use-before-activation",{appName:n.name})}(e);const i=li(e);let o,r=i.token;if(r&&!yh(r)&&(i.token=void 0,r=void 0),!r){const g=yield i.cachedTokenPromise;g&&(yh(g)?r=g:yield mg(e,void 0))}if(!t&&r&&yh(r))return{token:r.token};let h,u=!1;if(function pp(){return ag().enabled}()){i.exchangeTokenPromise||(i.exchangeTokenPromise=up(function Sa(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${lg}/projects/${e}/apps/${i}:${ES}?key=${r}`,body:{debug_token:t}}}(e,yield av()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),u=!0);const g=yield i.exchangeTokenPromise;return yield mg(e,g),i.token=g,{token:g.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),u=!0),r=yield li(e).exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?fp.warn(g.message):fp.error(g),o=g}return r?o?h=yh(r)?{token:r.token,internalError:o}:xC(o):(h={token:r.token},i.token=r,yield mg(e,r)):h=xC(o),u&&function mp(n,t){const e=li(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,h),h})).apply(this,arguments)}function EC(n,t){const e=li(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function dv(n){const{app:t}=n,e=li(t);let i=e.tokenRefresher;i||(i=function m1(n){const{app:t}=n;return new IS((0,we.Z)(function*(){let i;if(i=li(t).token?yield gg(n,!0):yield gg(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=li(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},cg.RETRIAL_MIN_WAIT,cg.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function yh(n){return n.expireTimeMillis-Date.now()>0}function xC(n){return{token:PS(OS),error:n}}class hv{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=li(this.app);for(const e of t)EC(this.app,e.next);return Promise.resolve()}}const _v="app-check-internal";!function HS(){(0,xa._registerComponent)(new mh.wA("app-check",n=>function FS(n,t){return new hv(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(_v).initialize()})),(0,xa._registerComponent)(new mh.wA(_v,n=>function Ta(n){return{getToken:t=>gg(n,t),addTokenListener:t=>function uv(n,t,e,i){const{app:r}=n,o=li(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&yh(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),dv(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>dv(n))}(n,"INTERNAL",t),removeTokenListener:t=>EC(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,xa.registerVersion)("@firebase/app-check","0.7.0")}();class yp{constructor(){return(0,yr.vb)("app-check")}}typeof window<"u"&&window;var AC=B(9260);const Cv=new l.OlP("angularfire2.auth.use-emulator"),Dv=new l.OlP("angularfire2.auth.settings"),RC=new l.OlP("angularfire2.auth.tenant-id"),Ev=new l.OlP("angularfire2.auth.langugage-code"),xv=new l.OlP("angularfire2.auth.use-device-language"),Iv=new l.OlP("angularfire.auth.persistence"),Cg=(n,t,e,i,r,o,u,h)=>(0,ss.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=t.runOutsideAngular(()=>n.auth());if(e&&g.useEmulator(...e),i&&(g.tenantId=i),g.languageCode=r,o&&g.useDeviceLanguage(),u)for(const[v,E]of Object.entries(u))g.settings[v]=E;return h&&g.setPersistence(h),g},[e,i,r,o,u,h]);let vp=(()=>{class n{constructor(e,i,r,o,u,h,g,v,E,S,V,z){const X=new Gt.x,ne=Qe(void 0).pipe((0,_h.Q)(u.outsideAngular),Bn(()=>o.runOutsideAngular(()=>Promise.resolve().then(B.bind(B,9568)))),(0,dt.U)(()=>(0,ss.on)(e,o,i)),(0,dt.U)(he=>Cg(he,o,h,v,E,S,g,V)),hC({bufferSize:1,refCount:!1}));if(Js(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qe(null);else{ne.pipe(to()).subscribe();const $e=ne.pipe(Bn(wt=>wt.getRedirectResult().then(zt=>zt,()=>null)),yr.iC,hC({bufferSize:1,refCount:!1})),at=ne.pipe(Bn(wt=>new qn.y(zt=>({unsubscribe:o.runOutsideAngular(()=>wt.onAuthStateChanged(dn=>zt.next(dn),dn=>zt.error(dn),()=>zt.complete()))})))),it=ne.pipe(Bn(wt=>new qn.y(zt=>({unsubscribe:o.runOutsideAngular(()=>wt.onIdTokenChanged(dn=>zt.next(dn),dn=>zt.error(dn),()=>zt.complete()))}))));this.authState=$e.pipe(Ky(at),(0,Qy.R)(u.outsideAngular),(0,_h.Q)(u.insideAngular)),this.user=$e.pipe(Ky(it),(0,Qy.R)(u.outsideAngular),(0,_h.Q)(u.insideAngular)),this.idToken=this.user.pipe(Bn(wt=>wt?(0,gn.D)(wt.getIdToken()):Qe(null))),this.idTokenResult=this.user.pipe(Bn(wt=>wt?(0,gn.D)(wt.getIdTokenResult()):Qe(null))),this.credential=(0,gh.T)($e,X,this.authState.pipe(pi(wt=>!wt))).pipe((0,dt.U)(wt=>wt?.user?wt:null),(0,Qy.R)(u.outsideAngular),(0,_h.Q)(u.insideAngular))}return(0,ss.pX)(this,ne,o,{spy:{apply:(he,$e,at)=>{(he.startsWith("signIn")||he.startsWith("createUser"))&&at.then(it=>X.next(it))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ss.Dh),l.LFG(ss.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(yr.HU),l.LFG(Cv,8),l.LFG(Dv,8),l.LFG(RC,8),l.LFG(Ev,8),l.LFG(xv,8),l.LFG(Iv,8),l.LFG(yp,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kC=(()=>{class n{constructor(){AC.Z.registerVersion("angularfire",yr.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[vp]}),n})(),Dg=(()=>{class n{constructor(){this.userSource=new Fn(null),this.currentUser=this.userSource.asObservable(),this.currentUser$=new Fn(null)}setUser(e){this.userSource.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Us=(()=>{class n{constructor(e,i,r){this.afAuth=e,this.router=i,this.userService=r,this.isLoggedInLocal=!1}isLoggedIn(){return this.isLoggedInLocal}SignUp(e,i){var r=this;return(0,we.Z)(function*(){try{const o=yield r.afAuth.createUserWithEmailAndPassword(e,i);window.alert("You have been successfully registered!"),console.log(o.user),r.isLoggedInLocal=!0,r.userService.currentUser$.next(o.user),r.router.navigate(["/home"])}catch(o){window.alert(o.message)}})()}SignIn(e,i){var r=this;return(0,we.Z)(function*(){try{const o=yield r.afAuth.signInWithEmailAndPassword(e,i);window.alert("You have been successfully logged in!"),console.log(o),r.isLoggedInLocal=!0,r.userService.setUser(o.user),r.userService.currentUser$.next(o.user),r.router.navigate(["/home"])}catch(o){window.alert(o.message)}})()}GoogleAuth(){return this.AuthLogin(new ap.V)}AuthLogin(e){return this.afAuth.signInWithPopup(e).then(i=>{console.log("You have been successfully logged in!"),this.isLoggedInLocal=!0,this.userService.setUser(i.user),this.userService.currentUser$.next(i.user),this.router.navigate(["/home"])}).catch(i=>{console.log(i)})}Logout(){this.router.navigate(["/login"]),this.isLoggedInLocal=!1}getCurrentUser(){return(0,gn.D)(this.afAuth.currentUser)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(vp),l.LFG(Zi),l.LFG(Dg))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var bp=B(4986);function Eg(){return(0,Mi.e)((n,t)=>{let e,i=!1;n.subscribe((0,ai.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}function Sv(n,t=pa.y){return n=n??OC,(0,Mi.e)((e,i)=>{let r,o=!0;e.subscribe((0,ai.x)(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}function OC(n,t){return n===t}B(9568);var st,bc=B(3942),qS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hs={},bl=bl||{},Zt=qS||self;function xg(){}function Dh(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Ig(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Av="closure_uid_"+(1e9*Math.random()>>>0),YS=0;function PC(n,t,e){return n.call.apply(n.bind,arguments)}function WS(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Cn(n,t,e){return(Cn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?PC:WS).apply(null,arguments)}function wp(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function vr(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function wc(){this.s=this.s,this.o=this.o}wc.prototype.s=!1,wc.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function b1(n){Object.prototype.hasOwnProperty.call(n,Av)&&n[Av]||(n[Av]=++YS)}(this)},wc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NC=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function Sg(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function Mv(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(Dh(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let u=0;u<o;u++)n[r+u]=i[u]}else n.push(i)}}function Ui(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Ui.prototype.h=function(){this.defaultPrevented=!0};var ZS=function(){if(!Zt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Zt.addEventListener("test",xg,t),Zt.removeEventListener("test",xg,t)}catch{}return n}();function Tg(n){return/^[\s\xa0]*$/.test(n)}var Rv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function kv(n,t){return n<t?-1:n>t?1:0}function Cp(){var n=Zt.navigator;return n&&(n=n.userAgent)?n:""}function wl(n){return-1!=Cp().indexOf(n)}function Dp(n){return Dp[" "](n),n}function Ag(n,t,e){return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Dp[" "]=xg;var Ep,n,Aa=wl("Opera"),Eh=wl("Trident")||wl("MSIE"),LC=wl("Edge"),ls=LC||Eh,cs=wl("Gecko")&&!(-1!=Cp().toLowerCase().indexOf("webkit")&&!wl("Edge"))&&!(wl("Trident")||wl("MSIE"))&&!wl("Edge"),js=-1!=Cp().toLowerCase().indexOf("webkit")&&!wl("Edge");function Ov(){var n=Zt.document;return n?n.documentMode:void 0}e:{var Pv="",Fv=(n=Cp(),cs?/rv:([^\);]+)(\)|;)/.exec(n):LC?/Edge\/([\d\.]+)/.exec(n):Eh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):js?/WebKit\/(\S+)/.exec(n):Aa?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Fv&&(Pv=Fv?Fv[1]:""),Eh){var Nv=Ov();if(null!=Nv&&Nv>parseFloat(Pv)){Ep=String(Nv);break e}}Ep=Pv}var KS={},BC=Zt.document&&Eh&&(Ov()||parseInt(Ep,10))||void 0;function xp(n,t){if(Ui.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(cs){e:{try{Dp(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:QS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&xp.$.h.call(this)}}vr(xp,Ui);var QS={2:"touch",3:"pen",4:"mouse"};xp.prototype.h=function(){xp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var xh="closure_listenable_"+(1e6*Math.random()|0),UC=0;function Mg(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++UC,this.fa=this.ia=!1}function Rg(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function kg(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function Vv(n){const t={};for(const e in n)t[e]=n[e];return t}const Og="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ip(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<Og.length;o++)e=Og[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function Sp(n){this.src=n,this.g={},this.h=0}function Pg(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=NC(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(Rg(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function Fg(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}Sp.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=Fg(n,t,i,r);return-1<u?(t=n[u],e||(t.ia=!1)):((t=new Mg(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var Ng="closure_lm_"+(1e6*Math.random()|0),Lg={};function Bv(n,t,e,i,r){if(i&&i.once)return jC(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)Bv(n,t[o],e,i,r);return null}return e=$v(e),n&&n[xh]?n.O(t,e,Ig(i)?!!i.capture:!!i,r):Uv(n,t,e,!1,i,r)}function Uv(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=Ig(r)?!!r.capture:!!r,h=jv(n);if(h||(n[Ng]=h=new Sp(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function HC(){const t=XS;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)ZS||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent($C(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function jC(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)jC(n,t[o],e,i,r);return null}return e=$v(e),n&&n[xh]?n.P(t,e,Ig(i)?!!i.capture:!!i,r):Uv(n,t,e,!0,i,r)}function zC(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)zC(n,t[o],e,i,r);else i=Ig(i)?!!i.capture:!!i,e=$v(e),n&&n[xh]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=Fg(o=n.g[t],e,i,r))&&(Rg(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=jv(n))&&(t=n.g[t.toString()],n=-1,t&&(n=Fg(t,e,i,r)),(e=-1<n?t[n]:null)&&Hv(e))}function Hv(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[xh])Pg(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent($C(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=jv(t))?(Pg(e,n),0==e.h&&(e.src=null,t[Ng]=null)):Rg(n)}}}function $C(n){return n in Lg?Lg[n]:Lg[n]="on"+n}function XS(n,t){if(n.fa)n=!0;else{t=new xp(t,this);var e=n.listener,i=n.la||n.src;n.ia&&Hv(n),n=e.call(i,t)}return n}function jv(n){return(n=n[Ng])instanceof Sp?n:null}var zv="__closure_events_fn_"+(1e9*Math.random()>>>0);function $v(n){return"function"==typeof n?n:(n[zv]||(n[zv]=function(t){return n.handleEvent(t)}),n[zv])}function br(){wc.call(this),this.i=new Sp(this),this.S=this,this.J=null}function kr(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Ui(t,n);else if(t instanceof Ui)t.target=t.target||n;else{var r=t;Ip(t=new Ui(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=Vg(u,i,!0,t)&&r}if(r=Vg(u=t.g=n,i,!0,t)&&r,r=Vg(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Vg(u=t.g=e[o],i,!1,t)&&r}function Vg(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.fa&&u.capture==e){var h=u.listener,g=u.la||u.src;u.ia&&Pg(n.i,u),r=!1!==h.call(g,i)&&r}}return r&&!i.defaultPrevented}vr(br,wc),br.prototype[xh]=!0,br.prototype.removeEventListener=function(n,t,e,i){zC(this,n,t,e,i)},br.prototype.N=function(){if(br.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)Rg(e[i]);delete n.g[t],n.h--}}this.J=null},br.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},br.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Gv=Zt.JSON.stringify;function JS(){var n=qv;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var Bg,GC=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new tT,n=>n.reset());class tT{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function nT(n){Zt.setTimeout(()=>{throw n},0)}function qC(n,t){Bg||function YC(){var n=Zt.Promise.resolve(void 0);Bg=function(){n.then(WC)}}(),Ug||(Bg(),Ug=!0),qv.add(n,t)}var Ug=!1,qv=new class eT{constructor(){this.h=this.g=null}add(t,e){const i=GC.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function WC(){for(var n;n=JS();){try{n.h.call(n.g)}catch(e){nT(e)}var t=GC;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Ug=!1}function Tp(n,t){br.call(this),this.h=n||1,this.g=t||Zt,this.j=Cn(this.qb,this),this.l=Date.now()}function Hg(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function jg(n,t,e){if("function"==typeof n)e&&(n=Cn(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Cn(n.handleEvent,n)}return 2147483647<Number(t)?-1:Zt.setTimeout(n,t||0)}function Yv(n){n.g=jg(()=>{n.g=null,n.i&&(n.i=!1,Yv(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}vr(Tp,br),(st=Tp.prototype).ga=!1,st.T=null,st.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),kr(this,"tick"),this.ga&&(Hg(this),this.start()))}},st.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.N=function(){Tp.$.N.call(this),Hg(this),delete this.g};class Wv extends wc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Yv(this)}N(){super.N(),this.g&&(Zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ih(n){wc.call(this),this.h=n,this.g={}}vr(Ih,wc);var Cc=[];function ZC(n,t,e,i){Array.isArray(e)||(e&&(Cc[0]=e.toString()),e=Cc);for(var r=0;r<e.length;r++){var o=Bv(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function KC(n){kg(n.g,function(t,e){this.g.hasOwnProperty(e)&&Hv(t)},n),n.g={}}function Cl(){this.g=!0}function Ap(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function XC(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return Gv(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Ih.prototype.N=function(){Ih.$.N.call(this),KC(this)},Ih.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cl.prototype.Ea=function(){this.g=!1},Cl.prototype.info=function(){};var Sh={},Pt=null;function zg(){return Pt=Pt||new br}function JC(n){Ui.call(this,Sh.Ta,n)}function Mp(n){const t=zg();kr(t,new JC(t))}function Au(n,t){Ui.call(this,Sh.STAT_EVENT,n),this.stat=t}function io(n){const t=zg();kr(t,new Au(t,n))}function Rp(n,t){Ui.call(this,Sh.Ua,n),this.size=t}function Dc(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Zt.setTimeout(function(){n()},t)}Sh.Ta="serverreachability",vr(JC,Ui),Sh.STAT_EVENT="statevent",vr(Au,Ui),Sh.Ua="timingevent",vr(Rp,Ui);var ii={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},iT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $g(){}function eD(){}$g.prototype.h=null;var Yg,Th={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gg(){Ui.call(this,"d")}function qg(){Ui.call(this,"c")}function Wg(){}function kp(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Ih(this),this.P=Op,this.V=new Tp(n=ls?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new tD}function tD(){this.i=null,this.g="",this.h=!1}vr(Gg,Ui),vr(qg,Ui),vr(Wg,$g),Wg.prototype.g=function(){return new XMLHttpRequest},Wg.prototype.i=function(){return{}},Yg=new Wg;var Op=45e3,Qv={},Zg={};function Xv(n,t,e){n.L=1,n.v=Lp(Dl(t)),n.s=e,n.S=!0,Pp(n,null)}function Pp(n,t){n.G=Date.now(),Fp(n),n.A=Dl(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),lD(e.i,"t",i),n.C=0,e=n.l.I,n.h=new tD,n.g=mb(n.l,e?t:null,!n.s),0<n.O&&(n.M=new Wv(Cn(n.Pa,n,n.g),n.O)),ZC(n.U,n.g,"readystatechange",n.nb),t=n.I?Vv(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Mp(),function w1(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),g=0;g<h.length;g++){var v=h[g].split("=");if(1<v.length){var E=v[0];v=v[1];var S=E.split("_");u=2<=S.length&&"type"==S[1]?u+(E+"=")+v+"&":u+(E+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Jv(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function eb(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=nD(n,e),r==Zg){4==t&&(n.o=4,io(14),i=!1),Ap(n.j,n.m,null,"[Incomplete Response]");break}if(r==Qv){n.o=4,io(15),Ap(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Ap(n.j,n.m,r,null),tb(n,r)}Jv(n)&&r!=Zg&&r!=Qv&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,io(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ca&&(n.ca=!0,(t=n.l).g==n&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),qp(t),t.L=!0,io(11))):(Ap(n.j,n.m,e,"[Invalid Chunked Response]"),Mu(n),Np(n))}function nD(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Zg:(e=Number(t.substring(e,i)),isNaN(e)?Qv:(i+=1)+e>t.length?Zg:(t=t.substr(i,e),n.C=i+e,t))}function Fp(n){n.Y=Date.now()+n.P,Ah(n,n.P)}function Ah(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Dc(Cn(n.lb,n),t)}function Ec(n){n.B&&(Zt.clearTimeout(n.B),n.B=null)}function Np(n){0==n.l.H||n.J||CD(n.l,n)}function Mu(n){Ec(n);var t=n.M;t&&"function"==typeof t.ra&&t.ra(),n.M=null,Hg(n.V),KC(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.ra())}function tb(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||Kg(e.h,n)))if(!n.K&&Kg(e.h,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;Oh(e),r_(e)}a_(e),io(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.M&&0==e.A&&!e.v&&(e.v=Dc(Cn(e.ib,e),6e3));if(1>=cD(e.h)&&e.na){try{e.na()}catch{}e.na=void 0}}else xl(e,11)}else if((n.K||e.g==n)&&Oh(e),!Tg(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let v=r[t];if(e.V=v[0],v=v[1],2==e.H)if("c"==v[0]){e.J=v[1],e.oa=v[2];const E=v[3];null!=E&&(e.qa=E,e.j.info("VER="+e.qa));const S=v[4];null!=S&&(e.Ga=S,e.j.info("SVER="+e.Ga));const V=v[5];null!=V&&"number"==typeof V&&0<V&&(e.K=i=1.5*V,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const z=n.g;if(z){const X=z.g?z.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(X){var o=i.h;o.g||-1==X.indexOf("spdy")&&-1==X.indexOf("quic")&&-1==X.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(cb(o,o.h),o.h=null))}if(i.F){const ne=z.g?z.g.getResponseHeader("X-HTTP-Session-Id"):null;ne&&(i.Da=ne,gi(i.G,i.F,ne))}}e.H=3,e.l&&e.l.Ba(),e.ca&&(e.S=Date.now()-n.G,e.j.info("Handshake RTT: "+e.S+"ms"));var u=n;if((i=e).wa=pb(i,i.I?i.oa:null,i.Y),u.K){Qg(i.h,u);var h=u,g=i.K;g&&h.setTimeout(g),h.B&&(Ec(h),Fp(h)),i.g=u}else gT(i);0<e.i.length&&s_(e)}else"stop"!=v[0]&&"close"!=v[0]||xl(e,7);else 3==e.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?xl(e,7):db(e):"noop"!=v[0]&&e.l&&e.l.Aa(v),e.A=0)}Mp()}catch{}}function nb(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(Dh(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function rD(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Dh(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function iD(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Dh(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(st=kp.prototype).setTimeout=function(n){this.P=n},st.nb=function(n){n=n.target;const t=this.M;t&&3==El(n)?t.l():this.Pa(n)},st.Pa=function(n){try{if(n==this.g)e:{const E=El(this.g);var t=this.g.Ia();if(this.g.da(),!(3>E)&&(3!=E||ls||this.g&&(this.h.h||this.g.ja()||yD(this.g)))){this.J||4!=E||7==t||Mp(),Ec(this);var e=this.g.da();this.aa=e;t:if(Jv(this)){var i=yD(this.g);n="";var r=i.length,o=4==El(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Mu(this),Np(this);var u="";break t}this.h.i=new Zt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==e,function Zv(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.W,E,e),this.i){if(this.ba&&!this.K){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tg(h)){var v=h;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,io(12),Mu(this),Np(this);break e}Ap(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tb(this,e)}this.S?(eb(this,E,u),ls&&this.i&&3==E&&(ZC(this.U,this.V,"tick",this.mb),this.V.start())):(Ap(this.j,this.m,u,null),tb(this,u)),4==E&&Mu(this),this.i&&!this.J&&(4==E?CD(this.l,this):(this.i=!1,Fp(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,io(12)):(this.o=0,io(13)),Mu(this),Np(this)}}}catch{}},st.mb=function(){if(this.g){var n=El(this.g),t=this.g.ja();this.C<t.length&&(Ec(this),eb(this,n,t),this.i&&4!=n&&Fp(this))}},st.cancel=function(){this.J=!0,Mu(this)},st.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function QC(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Mp(),io(17)),Mu(this),this.o=2,Np(this)):Ah(this,this.Y-n)};var oD=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ru(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ru){this.h=void 0!==t?t:n.h,ib(this,n.j),this.s=n.s,this.g=n.g,rb(this,n.m),this.l=n.l,t=n.i;var e=new Up;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),rT(this,e),this.o=n.o}else n&&(e=String(n).match(oD))?(this.h=!!t,ib(this,e[1]||"",!0),this.s=xc(e[2]||""),this.g=xc(e[3]||"",!0),rb(this,e[4]),this.l=xc(e[5]||"",!0),rT(this,e[6]||"",!0),this.o=xc(e[7]||"")):(this.h=!!t,this.i=new Up(null,this.h))}function Dl(n){return new Ru(n)}function ib(n,t,e){n.j=e?xc(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function rb(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function rT(n,t,e){t instanceof Up?(n.i=t,function Hp(n,t){t&&!n.j&&(ku(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(aD(this,i),lD(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Vp(t,aT)),n.i=new Up(t,n.h))}function gi(n,t,e){n.i.set(t,e)}function Lp(n){return gi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function xc(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vp(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,oT),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function oT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ru.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Vp(t,ob,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Vp(t,ob,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Vp(e,"/"==e.charAt(0)?sT:Bp,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Vp(e,lT)),n.join("")};var ob=/[#\/\?@]/g,Bp=/[#\?:]/g,sT=/[#\?]/g,aT=/[#\?@]/g,lT=/#/g;function Up(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function ku(n){n.g||(n.g=new Map,n.h=0,n.i&&function sD(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function aD(n,t){ku(n),t=Mh(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function sb(n,t){return ku(n),t=Mh(n,t),n.g.has(t)}function lD(n,t,e){aD(n,t),0<e.length&&(n.i=null,n.g.set(Mh(n,t),Sg(e)),n.h+=e.length)}function Mh(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function ab(n){this.l=n||uT,n=Zt.PerformanceNavigationTiming?0<(n=Zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Zt.g&&Zt.g.Ka&&Zt.g.Ka()&&Zt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=Up.prototype).add=function(n,t){ku(this),this.i=null,n=Mh(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},st.forEach=function(n,t){ku(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},st.sa=function(){ku(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},st.Z=function(n){ku(this);let t=[];if("string"==typeof n)sb(this,n)&&(t=t.concat(this.g.get(Mh(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},st.set=function(n,t){return ku(this),this.i=null,sb(this,n=Mh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},st.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),u=this.Z(i);for(i=0;i<u.length;i++){var r=o;""!==u[i]&&(r+="="+encodeURIComponent(String(u[i]))),n.push(r)}}return this.i=n.join("&")};var uT=10;function lb(n){return!!n.h||!!n.g&&n.g.size>=n.j}function cD(n){return n.h?1:n.g?n.g.size:0}function Kg(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function cb(n,t){n.g?n.g.add(t):n.h=t}function Qg(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function uD(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return Sg(n.i)}function Xg(){}function dD(){this.g=new Xg}function dT(n,t,e){const i=e||"";try{nb(n,function(r,o){let u=r;Ig(r)&&(u=Gv(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Jg(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Ou(n){this.l=n.fc||null,this.j=n.ob||!1}function e_(n,t){br.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=t_,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ab.prototype.cancel=function(){if(this.i=uD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Xg.prototype.stringify=function(n){return Zt.JSON.stringify(n,void 0)},Xg.prototype.parse=function(n){return Zt.JSON.parse(n,void 0)},vr(Ou,$g),Ou.prototype.g=function(){return new e_(this.l,this.j)},Ou.prototype.i=function(n){return function(){return n}}({}),vr(e_,br);var t_=0;function hD(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function jp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zp(n)}function zp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(st=e_.prototype).open=function(n,t){if(this.readyState!=t_)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,zp(this)},st.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Zt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jp(this)),this.readyState=t_},st.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zp(this)),this.g&&(this.readyState=3,zp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hD(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},st.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?jp(this):zp(this),3==this.readyState&&hD(this)}},st.Za=function(n){this.g&&(this.response=this.responseText=n,jp(this))},st.Ya=function(n){this.g&&(this.response=n,jp(this))},st.ka=function(){this.g&&jp(this)},st.setRequestHeader=function(n,t){this.v.append(n,t)},st.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(e_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var fT=Zt.JSON.parse;function ki(n){br.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fD,this.L=this.M=!1}vr(ki,br);var fD="",pT=/^https?$/i,mT=["POST","PUT"];function ub(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,mD(n),$p(n)}function mD(n){n.F||(n.F=!0,kr(n,"complete"),kr(n,"error"))}function gD(n){if(n.h&&typeof bl<"u"&&(!n.C[1]||4!=El(n)||2!=n.da()))if(n.v&&4==El(n))jg(n.La,0,n);else if(kr(n,"readystatechange"),4==El(n)){n.h=!1;try{const h=n.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.I).match(oD)[1]||null;if(!r&&Zt.self&&Zt.self.location){var o=Zt.self.location.protocol;r=o.substr(0,o.length-1)}i=!pT.test(r?r.toLowerCase():"")}e=i}if(e)kr(n,"complete"),kr(n,"success");else{n.m=6;try{var u=2<El(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",mD(n)}}finally{$p(n)}}}function $p(n,t){if(n.g){_D(n);const e=n.g,i=n.C[0]?xg:null;n.g=null,n.C=null,t||kr(n,"ready");try{e.onreadystatechange=i}catch{}}}function _D(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Zt.clearTimeout(n.A),n.A=null)}function El(n){return n.g?n.g.readyState:0}function yD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case fD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function n_(n){let t="";return kg(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function Gp(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=n_(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):gi(n,t,e))}function Rh(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function i_(n){this.Ga=0,this.i=[],this.j=new Cl,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Rh("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Rh("baseRetryDelayMs",5e3,n),this.hb=Rh("retryDelaySeedMs",1e4,n),this.eb=Rh("forwardChannelMaxRetries",2,n),this.xa=Rh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new ab(n&&n.concurrentRequestLimit),this.Ja=new dD,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function db(n){if(o_(n),3==n.H){var t=n.W++,e=Dl(n.G);gi(e,"SID",n.J),gi(e,"RID",t),gi(e,"TYPE","terminate"),kh(n,e),(t=new kp(n,n.j,t,void 0)).L=2,t.v=Lp(Dl(e)),e=!1,Zt.navigator&&Zt.navigator.sendBeacon&&(e=Zt.navigator.sendBeacon(t.v.toString(),"")),!e&&Zt.Image&&((new Image).src=t.v,e=!0),e||(t.g=mb(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Fp(t)}fb(n)}function r_(n){n.g&&(qp(n),n.g.cancel(),n.g=null)}function o_(n){r_(n),n.u&&(Zt.clearTimeout(n.u),n.u=null),Oh(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Zt.clearTimeout(n.m),n.m=null)}function s_(n){lb(n.h)||n.m||(n.m=!0,qC(n.Na,n),n.C=0)}function Pu(n,t){var e;e=t?t.m:n.W++;const i=Dl(n.G);gi(i,"SID",n.J),gi(i,"RID",e),gi(i,"AID",n.V),kh(n,i),n.o&&n.s&&Gp(i,n.o,n.s),e=new kp(n,n.j,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.i=t.F.concat(n.i)),t=bD(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),cb(n.h,e),Xv(e,i,t)}function kh(n,t){n.ma&&kg(n.ma,function(e,i){gi(t,i,e)}),n.l&&nb({},function(e,i){gi(t,i,e)})}function bD(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Cn(n.l.Va,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let g=0;g<e;g++){let v=r[g].h;const E=r[g].g;if(v-=o,0>v)o=Math.max(0,r[g].h-100),h=!1;else try{dT(E,u,"req"+v+"_")}catch{i&&i(E)}}if(h){i=u.join("&");break e}}}return n=n.i.splice(0,e),t.F=n,i}function gT(n){n.g||n.u||(n.ba=1,qC(n.Ma,n),n.A=0)}function a_(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Dc(Cn(n.Ma,n),hb(n,n.A)),n.A++,0))}function qp(n){null!=n.B&&(Zt.clearTimeout(n.B),n.B=null)}function wD(n){n.g=new kp(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Dl(n.wa);gi(t,"RID","rpc"),gi(t,"SID",n.J),gi(t,"CI",n.M?"0":"1"),gi(t,"AID",n.V),gi(t,"TYPE","xmlhttp"),kh(n,t),n.o&&n.s&&Gp(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.oa,e.L=1,e.v=Lp(Dl(t)),e.s=null,e.S=!0,Pp(e,n)}function Oh(n){null!=n.v&&(Zt.clearTimeout(n.v),n.v=null)}function CD(n,t){var e=null;if(n.g==t){Oh(n),qp(n),n.g=null;var i=2}else{if(!Kg(n.h,t))return;e=t.F,Qg(n.h,t),i=1}if(0!=n.H)if(n.ta=t.aa,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;kr(i=zg(),new Rp(i,e)),s_(n)}else gT(n);else if(3==(r=t.o)||0==r&&0<n.ta||!(1==i&&function vD(n,t){return!(cD(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Dc(Cn(n.Na,n,t),hb(n,n.C)),n.C++,0)))}(n,t)||2==i&&a_(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:xl(n,5);break;case 4:xl(n,10);break;case 3:xl(n,6);break;default:xl(n,2)}}function hb(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.l||(e*=2),e*t}function xl(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=Cn(n.pb,n);e||(e=new Ru("//www.google.com/images/cleardot.gif"),Zt.location&&"http"==Zt.location.protocol||ib(e,"https"),Lp(e)),function hT(n,t){const e=new Cl;if(Zt.Image){const i=new Image;i.onload=wp(Jg,e,i,"TestLoadImage: loaded",!0,t),i.onerror=wp(Jg,e,i,"TestLoadImage: error",!1,t),i.onabort=wp(Jg,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=wp(Jg,e,i,"TestLoadImage: timeout",!1,t),Zt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else io(2);n.H=0,n.l&&n.l.za(t),fb(n),o_(n)}function fb(n){if(n.H=0,n.pa=[],n.l){const t=uD(n.h);(0!=t.length||0!=n.i.length)&&(Mv(n.pa,t),Mv(n.pa,n.i),n.h.i.length=0,Sg(n.i),n.i.length=0),n.l.ya()}}function pb(n,t,e){var i=e instanceof Ru?Dl(e):new Ru(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),rb(i,i.m);else{var r=Zt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Ru(null,void 0);i&&ib(o,i),t&&(o.g=t),r&&rb(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&gi(i,e,t),gi(i,"VER",n.qa),kh(n,i),i}function mb(n,t,e){if(t&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ki(e&&n.Ha&&!n.va?new Ou({ob:!0}):n.va)).Oa(n.I),t}function gb(){}function l_(){if(Eh&&!(10<=Number(BC)))throw Error("Environmental error: no available transport.")}function Lo(n,t){br.call(this),this.g=new i_(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Tg(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Tg(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Fu(this)}function DD(n){Gg.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function ED(){qg.call(this),this.status=1}function Fu(n){this.g=n}function us(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function _b(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],u=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;u=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(u<<7&4294967295|u>>>25))+((u=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|u>>>10))+((u=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|u>>>10))+((u=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|u>>>10))+((u=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|u>>>25))+((u=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|u>>>20))+((u=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|u>>>15))+((u=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|u>>>10))+((u=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|u>>>27))+((u=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|u>>>18))+((u=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|u>>>12))+((u=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|u>>>27))+((u=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|u>>>18))+((u=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|u>>>12))+((u=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|u>>>27))+((u=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|u>>>18))+((u=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|u>>>12))+((u=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|u>>>27))+((u=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|u>>>23))+((u=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|u>>>18))+((u=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|u>>>12))+((u=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|u>>>28))+((u=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|u>>>9))+((u=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|u>>>28))+((u=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|u>>>9))+((u=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|u>>>28))+((u=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|u>>>9))+((u=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|u>>>28))+((u=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|u>>>21))+((u=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|u>>>16))+((u=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|u>>>9))+((u=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|u>>>26))+((u=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|u>>>22))+((u=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|u>>>17))+((u=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|u>>>11))+((u=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|u>>>26))+((u=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|u>>>22))+((u=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|u>>>17))+((u=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|u>>>11))+((u=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|u>>>26))+((u=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|u>>>22))+((u=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|u>>>17))+((u=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|u>>>11))+((o=(t=e+((u=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|u>>>26))+((u=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|u>>>22))^((r=o+((u=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|u>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(u<<21&4294967295|u>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Tn(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(st=ki.prototype).Oa=function(n){this.M=n},st.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Yg.g(),this.C=function Kv(n){return n.h||(n.h=n.i())}(this.u?this.u:Yg),this.g.onreadystatechange=Cn(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void ub(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Zt.FormData&&n instanceof Zt.FormData,!(0<=NC(mT,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,u]of e)this.g.setRequestHeader(o,u);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_D(this),0<this.B&&((this.L=function pD(n){return Eh&&function Lv(){return Ag(KS,9,function(){let n=0;const t=Rv(String(Ep)).split("."),e=Rv("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=kv(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||kv(0==r[2].length,0==o[2].length)||kv(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Cn(this.ua,this)):this.A=jg(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){ub(this,o)}},st.ua=function(){typeof bl<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kr(this,"timeout"),this.abort(8))},st.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,kr(this,"complete"),kr(this,"abort"),$p(this))},st.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$p(this,!0)),ki.$.N.call(this)},st.La=function(){this.s||(this.G||this.v||this.l?gD(this):this.kb())},st.kb=function(){gD(this)},st.da=function(){try{return 2<El(this)?this.g.status:-1}catch{return-1}},st.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},st.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),fT(t)}},st.Ia=function(){return this.m},st.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=i_.prototype).qa=8,st.H=1,st.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new kp(this,this.j,n,void 0);let o=this.s;if(this.U&&(o?(o=Vv(o),Ip(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=bD(this,r,t),gi(e=Dl(this.G),"RID",n),gi(e,"CVER",22),this.F&&gi(e,"X-HTTP-Session-Id",this.F),kh(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(n_(o)))+"&"+t:this.o&&Gp(e,this.o,o)),cb(this.h,r),this.bb&&gi(e,"TYPE","init"),this.P?(gi(e,"$req",t),gi(e,"SID","null"),r.ba=!0,Xv(r,e,null)):Xv(r,e,t),this.H=2}}else 3==this.H&&(n?Pu(this,n):0==this.i.length||lb(this.h)||Pu(this))},st.Ma=function(){if(this.u=null,wD(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Dc(Cn(this.jb,this),n)}},st.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,io(10),r_(this),wD(this))},st.ib=function(){null!=this.v&&(this.v=null,r_(this),a_(this),io(19))},st.pb=function(n){n?(this.j.info("Successfully pinged google.com"),io(2)):(this.j.info("Failed to ping google.com"),io(1))},(st=gb.prototype).Ba=function(){},st.Aa=function(){},st.za=function(){},st.ya=function(){},st.Va=function(){},l_.prototype.g=function(n,t){return new Lo(n,t)},vr(Lo,br),Lo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,t=this.l,e=this.h||void 0;io(0),n.Y=t,n.ma=e||{},n.M=n.aa,n.G=pb(n,null,n.Y),s_(n)},Lo.prototype.close=function(){db(this.g)},Lo.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Gv(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.fb++,n)),3==t.H&&s_(t)},Lo.prototype.N=function(){this.g.l=null,delete this.j,db(this.g),delete this.g,Lo.$.N.call(this)},vr(DD,Gg),vr(ED,qg),vr(Fu,gb),Fu.prototype.Ba=function(){kr(this.g,"a")},Fu.prototype.Aa=function(n){kr(this.g,new DD(n))},Fu.prototype.za=function(n){kr(this.g,new ED)},Fu.prototype.ya=function(){kr(this.g,"b")},vr(us,function C1(){this.blockSize=-1}),us.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},us.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)_b(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){_b(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){_b(this,i),r=0;break}}this.h=r,this.i+=t},us.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var D1={};function yb(n){return-128<=n&&128>n?Ag(D1,n,function(t){return new Tn([0|t],0>t?-1:0)}):new Tn([0|n],0>n?-1:0)}function Ma(n){if(isNaN(n)||!isFinite(n))return Ph;if(0>n)return Or(Ma(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=vb;return new Tn(t,0)}var vb=4294967296,Ph=yb(0),bb=yb(1),ID=yb(16777216);function Il(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function ds(n){return-1==n.h}function Or(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Tn(e,~n.h).add(bb)}function c_(n,t){return n.add(Or(t))}function u_(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Sl(n,t){this.g=n,this.h=t}function Yp(n,t){if(Il(t))throw Error("division by zero");if(Il(n))return new Sl(Ph,Ph);if(ds(n))return t=Yp(Or(n),t),new Sl(Or(t.g),Or(t.h));if(ds(t))return t=Yp(n,Or(t)),new Sl(Or(t.g),t.h);if(30<n.g.length){if(ds(n)||ds(t))throw Error("slowDivide_ only works with positive integers.");for(var e=bb,i=t;0>=i.X(n);)e=wb(e),i=wb(i);var r=Nu(e,1),o=Nu(i,1);for(i=Nu(i,2),e=Nu(e,2);!Il(i);){var u=o.add(i);0>=u.X(n)&&(r=r.add(e),o=u),i=Nu(i,1),e=Nu(e,1)}return t=c_(n,r.R(t)),new Sl(r,t)}for(r=Ph;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),u=(o=Ma(e)).R(t);ds(u)||0<u.X(n);)u=(o=Ma(e-=i)).R(t);Il(o)&&(o=bb),r=r.add(o),n=c_(n,u)}return new Sl(r,n)}function wb(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Tn(e,n.h)}function Nu(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new Tn(r,n.h)}(st=Tn.prototype).ea=function(){if(ds(this))return-Or(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:vb+i)*t,t*=vb}return n},st.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Il(this))return"0";if(ds(this))return"-"+Or(this).toString(n);for(var t=Ma(Math.pow(n,6)),e=this,i="";;){var r=Yp(e,t).g,o=((0<(e=c_(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Il(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},st.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},st.X=function(n){return ds(n=c_(this,n))?-1:Il(n)?0:1},st.abs=function(){return ds(this)?Or(this):this},st.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),u=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=u>>>16,e[r]=(u&=65535)<<16|(o&=65535)}return new Tn(e,-2147483648&e[e.length-1]?-1:0)},st.R=function(n){if(Il(this)||Il(n))return Ph;if(ds(this))return ds(n)?Or(this).R(Or(n)):Or(Or(this).R(n));if(ds(n))return Or(this.R(Or(n)));if(0>this.X(ID)&&0>n.X(ID))return Ma(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,u=65535&this.D(i),h=n.D(r)>>>16,g=65535&n.D(r);e[2*i+2*r]+=u*g,u_(e,2*i+2*r),e[2*i+2*r+1]+=o*g,u_(e,2*i+2*r+1),e[2*i+2*r+1]+=u*h,u_(e,2*i+2*r+1),e[2*i+2*r+2]+=o*h,u_(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Tn(e,0)},st.gb=function(n){return Yp(this,n).h},st.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Tn(e,this.h&n.h)},st.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Tn(e,this.h|n.h)},st.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Tn(e,this.h^n.h)},l_.prototype.createWebChannel=l_.prototype.g,Lo.prototype.send=Lo.prototype.u,Lo.prototype.open=Lo.prototype.m,Lo.prototype.close=Lo.prototype.close,ii.NO_ERROR=0,ii.TIMEOUT=8,ii.HTTP_ERROR=6,iT.COMPLETE="complete",eD.EventType=Th,Th.OPEN="a",Th.CLOSE="b",Th.ERROR="c",Th.MESSAGE="d",br.prototype.listen=br.prototype.O,ki.prototype.listenOnce=ki.prototype.P,ki.prototype.getLastError=ki.prototype.Sa,ki.prototype.getLastErrorCode=ki.prototype.Ia,ki.prototype.getStatus=ki.prototype.da,ki.prototype.getResponseJson=ki.prototype.Wa,ki.prototype.getResponseText=ki.prototype.ja,ki.prototype.send=ki.prototype.ha,ki.prototype.setWithCredentials=ki.prototype.Oa,us.prototype.digest=us.prototype.l,us.prototype.reset=us.prototype.reset,us.prototype.update=us.prototype.j,Tn.prototype.add=Tn.prototype.add,Tn.prototype.multiply=Tn.prototype.R,Tn.prototype.modulo=Tn.prototype.gb,Tn.prototype.compare=Tn.prototype.X,Tn.prototype.toNumber=Tn.prototype.ea,Tn.prototype.toString=Tn.prototype.toString,Tn.prototype.getBits=Tn.prototype.D,Tn.fromNumber=Ma,Tn.fromString=function xD(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return Or(xD(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Ma(Math.pow(t,8)),i=Ph,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),u=parseInt(n.substring(r,r+o),t);8>o?(o=Ma(Math.pow(t,o)),i=i.R(o).add(Ma(u))):i=(i=i.R(e)).add(Ma(u))}return i};var SD=Hs.createWebChannelTransport=function(){return new l_},TD=Hs.getStatEventTarget=function(){return zg()},d_=Hs.ErrorCode=ii,_T=Hs.EventType=iT,E1=Hs.Event=Sh,Cb=Hs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},yT=Hs.FetchXmlHttpFactory=Ou,h_=Hs.WebChannel=eD,vT=Hs.XhrIo=ki,bT=Hs.Md5=us,Ra=Hs.Integer=Tn;const AD="@firebase/firestore";class Qi{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");let ro="9.21.0";const Ic=new _l.Yd("@firebase/firestore");function Wp(){return Ic.logLevel}function Ve(n,...t){if(Ic.logLevel<=_l.in.DEBUG){const e=t.map(Fh);Ic.debug(`Firestore (${ro}): ${n}`,...e)}}function Hi(n,...t){if(Ic.logLevel<=_l.in.ERROR){const e=t.map(Fh);Ic.error(`Firestore (${ro}): ${n}`,...e)}}function hs(n,...t){if(Ic.logLevel<=_l.in.WARN){const e=t.map(Fh);Ic.warn(`Firestore (${ro}): ${n}`,...e)}}function Fh(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function lt(n="Unexpected state"){const t=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: `+n;throw Hi(t),new Error(t)}function Dt(n,t){n||lt()}function tt(n,t){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends wn.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class f_{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Db{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Qi.UNAUTHENTICATED))}shutdown(){}}class MD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Eb{constructor(t){this.t=t,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let u=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xi,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const v=u;t.enqueueRetryable((0,we.Z)(function*(){yield v.promise,yield o(i.currentUser)}))},g=v=>{Ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(Ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xi)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Dt("string"==typeof i.accessToken),new f_(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Dt(null===t||"string"==typeof t),new Qi(t)}}class xb{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class CT{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new xb(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RD{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DT{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=o=>{null!=o.error&&Ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.T;return this.T=o.token,Ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):Ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Dt("string"==typeof e.token),this.T=e.token,new RD(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class p_{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=kD(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Kt(n,t){return n<t?-1:n>t?1:0}function Lu(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function Ib(n){return n+"\0"}class ri{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Me(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Me(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Me(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Me(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ri.fromMillis(Date.now())}static fromDate(t){return ri.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ri(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(t){this.timestamp=t}static fromTimestamp(t){return new It(t)}static min(){return new It(new ri(0,0))}static max(){return new It(new ri(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Nh{constructor(t,e,i){void 0===e?e=0:e>t.length&&lt(),void 0===i?i=t.length-e:i>t.length-e&&lt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Nh.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Nh?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class vn extends Nh{construct(t,e,i){return new vn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Me(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new vn(e)}static emptyPath(){return new vn([])}}const ET=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends Nh{construct(t,e,i){return new _i(t,e,i)}static isValidIdentifier(t){return ET.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _i(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Me(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Me(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[r+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Me(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=g,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new Me(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _i(e)}static emptyPath(){return new _i([])}}class Je{constructor(t){this.path=t}static fromPath(t){return new Je(vn.fromString(t))}static fromName(t){return new Je(vn.fromString(t).popFirst(5))}static empty(){return new Je(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===vn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return vn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Je(new vn(t.slice()))}}class wr{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function Sc(n){return n.fields.find(t=>2===t.kind)}function Vu(n){return n.fields.filter(t=>2!==t.kind)}wr.UNKNOWN_ID=-1;class Sb{constructor(t,e){this.fieldPath=t,this.kind=e}}class Lh{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Lh(0,Vo.min())}}function m_(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=It.fromTimestamp(1e9===i?new ri(e+1,0):new ri(e,i));return new Vo(r,Je.empty(),t)}function Vh(n){return new Vo(n.readTime,n.key,-1)}class Vo{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Vo(It.min(),Je.empty(),-1)}static max(){return new Vo(It.max(),Je.empty(),-1)}}function Kp(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Je.comparator(n.documentKey,t.documentKey),0!==e?e:Kt(n.largestBatchId,t.largestBatchId))}const OD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Tc(n){return Ab.apply(this,arguments)}function Ab(){return Ab=(0,we.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==OD)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),Ab.apply(this,arguments)}class ae{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ae((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ae?e:ae.resolve(e)}catch(e){return ae.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.reject(e)}static resolve(t){return new ae((e,i)=>{e(t)})}static reject(t){return new ae((e,i)=>{i(t)})}static waitFor(t){return new ae((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},g=>i(g))}),u=!0,o===r&&e()})}static or(t){let e=ae.resolve(!1);for(const i of t)e=e.next(r=>r?ae.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ae((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let g=0;g<o;g++){const v=g;e(t[v]).next(E=>{u[v]=E,++h,h===o&&i(u)},E=>r(E))}})}static doWhile(t,e){return new ae((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class Bh{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.R=new Xi,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{e.error?this.R.reject(new Ac(t,e.error)):this.R.resolve()},this.transaction.onerror=i=>{const r=g_(i.target.error);this.R.reject(new Ac(t,r))}}static open(t,e,i,r){try{return new Bh(e,t.transaction(r,i))}catch(o){throw new Ac(e,o)}}get v(){return this.R.promise}abort(t){t&&this.R.reject(t),this.aborted||(Ve("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new S1(e)}}class fs{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===fs.S((0,wn.z$)())&&Hi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ve("SimpleDb","Removing database:",t),Mc(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,wn.hl)())return!1;if(fs.C())return!0;const t=(0,wn.z$)(),e=fs.S(t),i=0<e&&e<10,r=fs.N(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}O(t){var e=this;return(0,we.Z)(function*(){return e.db||(Ve("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new Ac(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Me(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Me(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Ac(t,h))},o.onupgradeneeded=u=>{Ve("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.V.$(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,we.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.O(t);const g=Bh.open(o.db,t,u?"readonly":"readwrite",i),v=r(g).next(E=>(g.P(),E)).catch(E=>(g.abort(E),ae.reject(E))).toPromise();return v.catch(()=>{}),yield g.v,v}catch(g){const v=g,E="FirebaseError"!==v.name&&h<3;if(Ve("SimpleDb","Transaction failed with error:",v.message,"Retrying:",E),o.close(),!E)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class PD{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return Mc(this.L.delete())}}class Ac extends Me{constructor(t,e){super(fe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ka(n){return"IndexedDbTransactionError"===n.name}class S1{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ve("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Mc(i)}add(t){return Ve("SimpleDb","ADD",this.store.name,t,t),Mc(this.store.add(t))}get(t){return Mc(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ve("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ve("SimpleDb","DELETE",this.store.name,t),Mc(this.store.delete(t))}count(){return Ve("SimpleDb","COUNT",this.store.name),Mc(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ae((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ae((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}J(t,e){Ve("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,u,h)=>h.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new ae((i,r)=>{e.onerror=o=>{const u=g_(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}W(t,e){const i=[];return new ae((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const g=new PD(h),v=e(h.primaryKey,h.value,g);if(v instanceof ae){const E=v.catch(S=>(g.done(),ae.reject(S)));i.push(E)}g.isDone?r():null===g.K?h.continue():h.continue(g.K)}}).next(()=>ae.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Mc(n){return new ae((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=g_(i.target.error);e(r)}})}let FD=!1;function g_(n){const t=fs.S((0,wn.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return FD||(FD=!0,setTimeout(()=>{throw i},0)),i}}return n}class Uh{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Ve("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,we.Z)(function*(){e.task=null;try{Ve("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){ka(i)?Ve("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Tc(i)}yield e.et(6e4)}))}}class IT{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,we.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,o=!0;return ae.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return Ve("IndexBackiller",`Processing collection: ${u}`),this.it(t,u,r).next(h=>{r-=h,i.add(u)});o=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.rt(r,o)).next(h=>(Ve("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,o)=>{const u=Vh(o);Kp(u,i)>0&&(i=u)}),new Vo(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let wo=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function Bu(n){return null==n}function __(n){return 0===n&&1/n==-1/0}function ND(n){return"number"==typeof n&&Number.isInteger(n)&&!__(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function oo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=LD(t)),t=ST(n.get(e),t);return LD(t)}function ST(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function LD(n){return n+"\x01\x01"}function Oa(n){const t=n.length;if(Dt(t>=2),2===t)return Dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),vn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&lt(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let g;0===r.length?g=h:(r+=h,g=r,r=""),i.push(g);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:lt()}o=u+2}return new vn(i)}const Mb=["userId","batchId"];function Qp(n,t){return[n,oo(t)]}function VD(n,t,e){return[n,oo(t),e]}const BD={},UD=["prefixPath","collectionGroup","readTime","documentId"],TT=["prefixPath","collectionGroup","documentId"],AT=["collectionGroup","readTime","prefixPath","documentId"],HD=["canonicalId","targetId"],MT=["targetId","path"],jD=["path","targetId"],zD=["collectionId","parent"],$D=["indexId","uid"],GD=["uid","sequenceNumber"],RT=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],kT=["indexId","uid","orderedDocumentKey"],T1=["userId","collectionPath","documentId"],qD=["userId","collectionPath","largestBatchId"],A1=["userId","collectionGroup","largestBatchId"],OT=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],M1=[...OT,"documentOverlays"],PT=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FT=PT,R1=[...FT,"indexConfiguration","indexState","indexEntries"];class YD extends Tb{constructor(t,e){super(),this.at=t,this.currentSequenceNumber=e}}function Pr(n,t){const e=tt(n);return fs.M(e.at,t)}function Xp(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Uu(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Rb(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class An{constructor(t,e){this.comparator=t,this.root=e||Cr.EMPTY}insert(t,e){return new An(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(t){return new An(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jp(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jp(this.root,t,this.comparator,!0)}}class Jp{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Cr{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Cr.RED,this.left=r??Cr.EMPTY,this.right=o??Cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Cr(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Cr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Cr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const t=this.left.check();if(t!==this.right.check())throw lt();return t+(this.isRed()?0:1)}}Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1,Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Cr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ci{constructor(t){this.comparator=t,this.data=new An(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new y_(this.data.getIterator())}getIteratorFrom(t){return new y_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ci)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ci(this.comparator);return e.data=t,e}}class y_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Hu(n){return n.hasNext()?n.getNext():void 0}class Co{constructor(t){this.fields=t,t.sort(_i.comparator)}static empty(){return new Co([])}unionWith(t){let e=new ci(_i.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Co(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Lu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class NT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class or{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new NT("Invalid base64 string: "+r):r}}(t);return new or(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new or(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}or.EMPTY_BYTE_STRING=new or("");const VT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(n){if(Dt(!!n),"string"==typeof n){let t=0;const e=VT.exec(n);if(Dt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Oi(n.seconds),nanos:Oi(n.nanos)}}function Oi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Rc(n){return"string"==typeof n?or.fromBase64String(n):or.fromUint8Array(n)}function kb(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Ob(n){const t=n.mapValue.fields.__previous_value__;return kb(t)?Ob(t):t}function em(n){const t=zs(n.mapValue.fields.__local_write_time__.timestampValue);return new ri(t.seconds,t.nanos)}class BT{constructor(t,e,i,r,o,u,h,g){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class kc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new kc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof kc&&t.projectId===this.projectId&&t.database===this.database}}const ju={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},v_={nullValue:"NULL_VALUE"};function Tl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kb(n)?4:Lb(n)?9007199254740991:10:lt()}function $s(n,t){if(n===t)return!0;const e=Tl(n);if(e!==Tl(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return em(n).isEqual(em(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=zs(i.timestampValue),u=zs(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Rc(n.bytesValue).isEqual(Rc(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Oi(i.geoPointValue.latitude)===Oi(r.geoPointValue.latitude)&&Oi(i.geoPointValue.longitude)===Oi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Oi(i.integerValue)===Oi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Oi(i.doubleValue),u=Oi(r.doubleValue);return o===u?__(o)===__(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return Lu(n.arrayValue.values||[],t.arrayValue.values||[],$s);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(Xp(o)!==Xp(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!$s(o[h],u[h])))return!1;return!0}(n,t);default:return lt()}var r}function b_(n,t){return void 0!==(n.values||[]).find(e=>$s(e,t))}function Dr(n,t){if(n===t)return 0;const e=Tl(n),i=Tl(t);if(e!==i)return Kt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=Oi(r.integerValue||r.doubleValue),h=Oi(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return WD(n.timestampValue,t.timestampValue);case 4:return WD(em(n),em(t));case 5:return Kt(n.stringValue,t.stringValue);case 6:return function(r,o){const u=Rc(r),h=Rc(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let g=0;g<u.length&&g<h.length;g++){const v=Kt(u[g],h[g]);if(0!==v)return v}return Kt(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=Kt(Oi(r.latitude),Oi(o.latitude));return 0!==u?u:Kt(Oi(r.longitude),Oi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let g=0;g<u.length&&g<h.length;++g){const v=Dr(u[g],h[g]);if(v)return v}return Kt(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===ju.mapValue&&o===ju.mapValue)return 0;if(r===ju.mapValue)return 1;if(o===ju.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),g=o.fields||{},v=Object.keys(g);h.sort(),v.sort();for(let E=0;E<h.length&&E<v.length;++E){const S=Kt(h[E],v[E]);if(0!==S)return S;const V=Dr(u[h[E]],g[v[E]]);if(0!==V)return V}return Kt(h.length,v.length)}(n.mapValue,t.mapValue);default:throw lt()}}function WD(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Kt(n,t);const e=zs(n),i=zs(t),r=Kt(e.seconds,i.seconds);return 0!==r?r:Kt(e.nanos,i.nanos)}function Oc(n){return Pb(n)}function Pb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=zs(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Rc(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=Pb(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${Pb(i.fields[h])}`;return o+"}"}(n.mapValue):lt();var t}function Er(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Nb(n){return!!n&&"integerValue"in n}function zu(n){return!!n&&"arrayValue"in n}function ZD(n){return!!n&&"nullValue"in n}function KD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Hh(n){return!!n&&"mapValue"in n}function jh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Uu(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=jh(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=jh(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Lb(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function UT(n){return"nullValue"in n?v_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Er(kc.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:lt()}function QD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Er(kc.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ju:lt()}function Vb(n,t){const e=Dr(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function XD(n,t){const e=Dr(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class xr{constructor(t){this.value=t}static empty(){return new xr({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Hh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=jh(e)}setAll(t){let e=_i.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const g=this.getFieldsMap(e);this.applyChanges(g,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=jh(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Hh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return $s(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Hh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Uu(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new xr(jh(this.value))}}function JD(n){const t=[];return Uu(n.fields,(e,i)=>{const r=new _i([e]);if(Hh(i)){const o=JD(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new Co(t)}class Un{constructor(t,e,i,r,o,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(t){return new Un(t,0,It.min(),It.min(),It.min(),xr.empty(),0)}static newFoundDocument(t,e,i,r){return new Un(t,1,e,It.min(),i,r,0)}static newNoDocument(t,e){return new Un(t,2,e,It.min(),It.min(),xr.empty(),0)}static newUnknownDocument(t,e){return new Un(t,3,e,It.min(),It.min(),xr.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qr{constructor(t,e){this.position=t,this.inclusive=e}}function Al(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?Je.comparator(Je.fromName(u.referenceValue),e.key):Dr(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function Bb(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!$s(n.position[e],t.position[e]))return!1;return!0}class Pc{constructor(t,e="asc"){this.field=t,this.dir=e}}function eE(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class tE{}class bn extends tE{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new k1(t,e,i):"array-contains"===e?new oE(t,i):"in"===e?new Yb(t,i):"not-in"===e?new sE(t,i):"array-contains-any"===e?new w_(t,i):new bn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new Gb(t,i):new rE(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Dr(e,this.value)):null!==e&&Tl(this.value)===Tl(e)&&this.matchesComparison(Dr(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Mn extends tE{constructor(t,e){super(),this.filters=t,this.op=e,this.ht=null}static create(t,e){return new Mn(t,e)}matches(t){return zh(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.lt(e=>e.isInequality());return null!==t?t.field:null}lt(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function zh(n){return"and"===n.op}function Ub(n){return"or"===n.op}function Hb(n){return jb(n)&&zh(n)}function jb(n){for(const t of n.filters)if(t instanceof Mn)return!1;return!0}function nE(n){if(n instanceof bn)return n.field.canonicalString()+n.op.toString()+Oc(n.value);if(Hb(n))return n.filters.map(t=>nE(t)).join(",");{const t=n.filters.map(e=>nE(e)).join(",");return`${n.op}(${t})`}}function zb(n,t){return n instanceof bn?(e=n,(i=t)instanceof bn&&e.op===i.op&&e.field.isEqual(i.field)&&$s(e.value,i.value)):n instanceof Mn?function(e,i){return i instanceof Mn&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,u)=>r&&zb(o,i.filters[u]),!0)}(n,t):void lt();var e,i}function iE(n,t){const e=n.filters.concat(t);return Mn.create(e,n.op)}function $b(n){return n instanceof bn?`${(t=n).field.canonicalString()} ${t.op} ${Oc(t.value)}`:n instanceof Mn?function(t){return t.op.toString()+" {"+t.getFilters().map($b).join(" ,")+"}"}(n):"Filter";var t}class k1 extends bn{constructor(t,e,i){super(t,e,i),this.key=Je.fromName(i.referenceValue)}matches(t){const e=Je.comparator(t.key,this.key);return this.matchesComparison(e)}}class Gb extends bn{constructor(t,e){super(t,"in",e),this.keys=qb(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class rE extends bn{constructor(t,e){super(t,"not-in",e),this.keys=qb(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function qb(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Je.fromName(i.referenceValue))}class oE extends bn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return zu(e)&&b_(e.arrayValue,this.value)}}class Yb extends bn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&b_(this.value.arrayValue,e)}}class sE extends bn{constructor(t,e){super(t,"not-in",e)}matches(t){if(b_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!b_(this.value.arrayValue,e)}}class w_ extends bn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!zu(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>b_(this.value.arrayValue,i))}}class C_{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.ft=null}}function D_(n,t=null,e=[],i=[],r=null,o=null,u=null){return new C_(n,t,e,i,r,o,u)}function $u(n){const t=tt(n);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>nE(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Bu(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Oc(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Oc(i)).join(",")),t.ft=e}return t.ft}function tm(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!eE(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!zb(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Bb(n.startAt,t.startAt)&&Bb(n.endAt,t.endAt)}function Wb(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Zb(n,t){return n.filters.filter(e=>e instanceof bn&&e.field.isEqual(t))}function HT(n,t,e){let i=v_,r=!0;for(const o of Zb(n,t)){let u=v_,h=!0;switch(o.op){case"<":case"<=":u=UT(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=v_}Vb({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];Vb({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function Kb(n,t,e){let i=ju,r=!0;for(const o of Zb(n,t)){let u=ju,h=!0;switch(o.op){case">=":case">":u=QD(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=ju}XD({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];XD({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class Ml{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=g,this.dt=null,this._t=null}}function aE(n,t,e,i,r,o,u,h){return new Ml(n,t,e,i,r,o,u,h)}function $h(n){return new Ml(n)}function jT(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function lE(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Qb(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function cE(n){return null!==n.collectionGroup}function Gh(n){const t=tt(n);if(null===t.dt){t.dt=[];const e=Qb(t),i=lE(t);if(null!==e&&null===i)e.isKeyField()||t.dt.push(new Pc(e)),t.dt.push(new Pc(_i.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.dt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Pc(_i.keyField(),o))}}}return t.dt}function so(n){const t=tt(n);if(!t._t)if("F"===t.limitType)t._t=D_(t.path,t.collectionGroup,Gh(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of Gh(t))e.push(new Pc(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new qr(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qr(t.startAt.position,t.startAt.inclusive):null;t._t=D_(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function qh(n,t){t.getFirstInequalityField(),Qb(n);const e=n.filters.concat([t]);return new Ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function E_(n,t,e){return new Ml(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function nm(n,t){return tm(so(n),so(t))&&n.limitType===t.limitType}function Xb(n){return`${$u(so(n))}|lt:${n.limitType}`}function Rl(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>$b(i)).join(", ")}]`),Bu(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Oc(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Oc(i)).join(",")),`Target(${e})`}(so(n))}; limitType=${n.limitType})`}function Yh(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Je.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of Gh(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=Al(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,Gh(e),i)||e.endAt&&!function(r,o,u){const h=Al(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,Gh(e),i)));var e,i}function x_(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function I_(n){return(t,e)=>{let i=!1;for(const r of Gh(n)){const o=zT(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function zT(n,t,e){const i=n.field.isKeyField()?Je.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),g=u.data.field(r);return null!==h&&null!==g?Dr(h,g):lt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return lt()}}class Gs{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Uu(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return Rb(this.inner)}size(){return this.innerSize}}const Jb=new An(Je.comparator);function Fr(){return Jb}const $T=new An(Je.comparator);function S_(...n){let t=$T;for(const e of n)t=t.insert(e.key,e);return t}function GT(n){let t=$T;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function kl(){return im()}function e0(){return im()}function im(){return new Gs(n=>n.toString(),(n,t)=>n.isEqual(t))}const qT=new An(Je.comparator),YT=new ci(Je.comparator);function hn(...n){let t=YT;for(const e of n)t=t.add(e);return t}const uE=new ci(Kt);function T_(){return uE}function t0(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__(t)?"-0":t}}function dE(n){return{integerValue:""+n}}function hE(n,t){return ND(t)?dE(t):t0(n,t)}class rm{constructor(){this._=void 0}}function n0(n,t,e){return n instanceof Fc?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&kb(r)&&(r=Ob(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Gu?fE(n,t):n instanceof Wh?WT(n,t):function(i,r){const o=r0(i,r),u=pE(o)+pE(i.wt);return Nb(o)&&Nb(i.wt)?dE(u):t0(i.serializer,u)}(n,t)}function O1(n,t,e){return n instanceof Gu?fE(n,t):n instanceof Wh?WT(n,t):e}function r0(n,t){return n instanceof Zh?Nb(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Fc extends rm{}class Gu extends rm{constructor(t){super(),this.elements=t}}function fE(n,t){const e=mE(t);for(const i of n.elements)e.some(r=>$s(r,i))||e.push(i);return{arrayValue:{values:e}}}class Wh extends rm{constructor(t){super(),this.elements=t}}function WT(n,t){let e=mE(t);for(const i of n.elements)e=e.filter(r=>!$s(r,i));return{arrayValue:{values:e}}}class Zh extends rm{constructor(t,e){super(),this.serializer=t,this.wt=e}}function pE(n){return Oi(n.integerValue||n.doubleValue)}function mE(n){return zu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class A_{constructor(t,e){this.field=t,this.transform=e}}class F1{constructor(t,e){this.version=t,this.transformResults=e}}class yi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new yi}static exists(t){return new yi(void 0,t)}static updateTime(t){return new yi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function M_(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class o0{}function ZT(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new m(n.key,yi.none()):new s(n.key,n.data,yi.none());{const e=n.data,i=xr.empty();let r=new ci(_i.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);null===u&&o.length>1&&(o=o.popLast(),u=e.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new a(n.key,i,new Co(r.toArray()),yi.none())}}function N1(n,t,e){n instanceof s?function(i,r,o){const u=i.value.clone(),h=d(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof a?function(i,r,o){if(!M_(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=d(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(c(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function R_(n,t,e,i){return n instanceof s?function(r,o,u,h){if(!M_(r.precondition,o))return u;const g=r.value.clone(),v=f(r.fieldTransforms,h,o);return g.setAll(v),o.convertToFoundDocument(o.version,g).setHasLocalMutations(),null}(n,t,e,i):n instanceof a?function(r,o,u,h){if(!M_(r.precondition,o))return u;const g=f(r.fieldTransforms,h,o),v=o.data;return v.setAll(c(r)),v.setAll(g),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(E=>E.field))}(n,t,e,i):(u=e,M_(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function L1(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=r0(i.transform,r||null);null!=o&&(null===e&&(e=xr.empty()),e.set(i.field,o))}return e||null}function KT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Lu(e,i,(r,o)=>function P1(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Gu&&i instanceof Gu||e instanceof Wh&&i instanceof Wh?Lu(e.elements,i.elements,$s):e instanceof Zh&&i instanceof Zh?$s(e.wt,i.wt):e instanceof Fc&&i instanceof Fc);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class s extends o0{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class a extends o0{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function c(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function d(n,t,e){const i=new Map;Dt(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,O1(u,h,e[r]))}return i}function f(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,n0(o,u,t))}return i}class m extends o0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class y extends o0{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class D{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&N1(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=R_(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=R_(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=e0();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const g=ZT(u,h);null!==g&&i.set(r.key,g),u.isValidDocument()||u.convertToNoDocument(It.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),hn())}isEqual(t){return this.batchId===t.batchId&&Lu(this.mutations,t.mutations,(e,i)=>KT(e,i))&&Lu(this.baseMutations,t.baseMutations,(e,i)=>KT(e,i))}}class I{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Dt(t.mutations.length===i.length);let r=qT;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new I(t,e,i,r)}}class M{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class H{constructor(t,e){this.count=t,this.unchangedNames=e}}var Y,ee;function De(n){switch(n){default:return lt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function ze(n){if(void 0===n)return Hi("GRPC error has no .code"),fe.UNKNOWN;switch(n){case Y.OK:return fe.OK;case Y.CANCELLED:return fe.CANCELLED;case Y.UNKNOWN:return fe.UNKNOWN;case Y.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Y.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Y.INTERNAL:return fe.INTERNAL;case Y.UNAVAILABLE:return fe.UNAVAILABLE;case Y.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Y.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Y.NOT_FOUND:return fe.NOT_FOUND;case Y.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Y.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Y.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Y.ABORTED:return fe.ABORTED;case Y.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Y.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Y.DATA_LOSS:return fe.DATA_LOSS;default:return lt()}}(ee=Y||(Y={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";class et{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ht}static getOrCreateInstance(){return null===ht&&(ht=new et),ht}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let ht=null;function Ft(){return new TextEncoder}const Pe=new Ra([4294967295,4294967295],0);function tn(n){const t=Ft().encode(n),e=new bT;return e.update(t),new Uint8Array(e.digest())}function oi(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ra([e,i],0),new Ra([r,o],0)]}class vi{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new k_(`Invalid padding: ${e}`);if(i<0)throw new k_(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new k_(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new k_(`Invalid padding when bitmap length is 0: ${e}`);this.yt=8*t.length-e,this.It=Ra.fromNumber(this.yt)}Tt(t,e,i){let r=t.add(e.multiply(Ra.fromNumber(i)));return 1===r.compare(Pe)&&(r=new Ra([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}Et(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}At(t){if(0===this.yt)return!1;const e=tn(t),[i,r]=oi(e);for(let o=0;o<this.hashCount;o++){const u=this.Tt(i,r,o);if(!this.Et(u))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),u=new vi(o,r,e);return i.forEach(h=>u.insert(h)),u}insert(t){if(0===this.yt)return;const e=tn(t),[i,r]=oi(e);for(let o=0;o<this.hashCount;o++){const u=this.Tt(i,r,o);this.Rt(u)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class k_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class s0{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,a0.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new s0(It.min(),r,new An(Kt),Fr(),hn())}}class a0{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new a0(i,e,hn(),hn(),hn())}}class gE{constructor(t,e,i,r){this.vt=t,this.removedTargetIds=e,this.key=i,this.Pt=r}}class V1{constructor(t,e){this.targetId=t,this.bt=e}}class B1{constructor(t,e,i=or.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class U1{constructor(){this.Vt=0,this.St=j1(),this.Dt=or.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(t){t.approximateByteSize()>0&&(this.xt=!0,this.Dt=t)}Ot(){let t=hn(),e=hn(),i=hn();return this.St.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:lt()}}),new a0(this.Dt,this.Ct,t,e,i)}$t(){this.xt=!1,this.St=j1()}Ft(t,e){this.xt=!0,this.St=this.St.insert(t,e)}Bt(t){this.xt=!0,this.St=this.St.remove(t)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class Z2{constructor(t){this.Kt=t,this.Gt=new Map,this.Qt=Fr(),this.jt=H1(),this.zt=new An(Kt)}Wt(t){for(const e of t.vt)t.Pt&&t.Pt.isFoundDocument()?this.Ht(e,t.Pt):this.Jt(e,t.key,t.Pt);for(const e of t.removedTargetIds)this.Jt(e,t.key,t.Pt)}Yt(t){this.forEachTarget(t,e=>{const i=this.Xt(e);switch(t.state){case 0:this.Zt(e)&&i.Mt(t.resumeToken);break;case 1:i.qt(),i.Nt||i.$t(),i.Mt(t.resumeToken);break;case 2:i.qt(),i.Nt||this.removeTarget(e);break;case 3:this.Zt(e)&&(i.Ut(),i.Mt(t.resumeToken));break;case 4:this.Zt(e)&&(this.te(e),i.Mt(t.resumeToken));break;default:lt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Gt.forEach((i,r)=>{this.Zt(r)&&e(r)})}ee(t){var e;const i=t.targetId,r=t.bt.count,o=this.ne(i);if(o){const u=o.target;if(Wb(u))if(0===r){const h=new Je(u.path);this.Jt(i,h,Un.newNoDocument(h,It.min()))}else Dt(1===r);else{const h=this.se(i);if(h!==r){const g=this.ie(t,h);0!==g&&(this.te(i),this.zt=this.zt.insert(i,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=et.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(v,E,S){var V,z,X,ne,he,$e;const at={localCacheCount:E,existenceFilterCount:S.count},it=S.unchangedNames;return it&&(at.bloomFilter={applied:0===v,hashCount:null!==(V=it?.hashCount)&&void 0!==V?V:0,bitmapLength:null!==(ne=null===(X=null===(z=it?.bits)||void 0===z?void 0:z.bitmap)||void 0===X?void 0:X.length)&&void 0!==ne?ne:0,padding:null!==($e=null===(he=it?.bits)||void 0===he?void 0:he.padding)&&void 0!==$e?$e:0}),at}(g,h,t.bt))}}}}ie(t,e){const{unchangedNames:i,count:r}=t.bt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:u=0},hashCount:h=0}=i;let g,v;try{g=Rc(o).toUint8Array()}catch(E){if(E instanceof NT)return hs("Decoding the base64 bloom filter in existence filter failed ("+E.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw E}try{v=new vi(g,u,h)}catch(E){return hs(E instanceof k_?"BloomFilter error: ":"Applying bloom filter failed: ",E),1}return 0===v.yt?1:r!==e-this.re(t.targetId,v)?2:0}re(t,e){const i=this.Kt.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const u=this.Kt.oe(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.At(h)||(this.Jt(t,o,null),r++)}),r}ue(t){const e=new Map;this.Gt.forEach((o,u)=>{const h=this.ne(u);if(h){if(o.current&&Wb(h.target)){const g=new Je(h.target.path);null!==this.Qt.get(g)||this.ce(u,g)||this.Jt(u,g,Un.newNoDocument(g,t))}o.kt&&(e.set(u,o.Ot()),o.$t())}});let i=hn();this.jt.forEach((o,u)=>{let h=!0;u.forEachWhile(g=>{const v=this.ne(g);return!v||"TargetPurposeLimboResolution"===v.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.Qt.forEach((o,u)=>u.setReadTime(t));const r=new s0(t,e,this.zt,this.Qt,i);return this.Qt=Fr(),this.jt=H1(),this.zt=new An(Kt),r}Ht(t,e){if(!this.Zt(t))return;const i=this.ce(t,e.key)?2:0;this.Xt(t).Ft(e.key,i),this.Qt=this.Qt.insert(e.key,e),this.jt=this.jt.insert(e.key,this.ae(e.key).add(t))}Jt(t,e,i){if(!this.Zt(t))return;const r=this.Xt(t);this.ce(t,e)?r.Ft(e,1):r.Bt(e),this.jt=this.jt.insert(e,this.ae(e).delete(t)),i&&(this.Qt=this.Qt.insert(e,i))}removeTarget(t){this.Gt.delete(t)}se(t){const e=this.Xt(t).Ot();return this.Kt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Lt(t){this.Xt(t).Lt()}Xt(t){let e=this.Gt.get(t);return e||(e=new U1,this.Gt.set(t,e)),e}ae(t){let e=this.jt.get(t);return e||(e=new ci(Kt),this.jt=this.jt.insert(t,e)),e}Zt(t){const e=null!==this.ne(t);return e||Ve("WatchChangeAggregator","Detected inactive target",t),e}ne(t){const e=this.Gt.get(t);return e&&e.Nt?null:this.Kt.he(t)}te(t){this.Gt.set(t,new U1),this.Kt.getRemoteKeysForTarget(t).forEach(e=>{this.Jt(t,e,null)})}ce(t,e){return this.Kt.getRemoteKeysForTarget(t).has(e)}}function H1(){return new An(Je.comparator)}function j1(){return new An(Je.comparator)}const K2={asc:"ASCENDING",desc:"DESCENDING"},Q2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X2={and:"AND",or:"OR"};class J2{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function QT(n,t){return n.useProto3Json||Bu(t)?t:{value:t}}function O_(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function z1(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function eV(n,t){return O_(n,t.toTimestamp())}function sr(n){return Dt(!!n),It.fromTimestamp(function(t){const e=zs(t);return new ri(e.seconds,e.nanos)}(n))}function XT(n,t){return(e=n,new vn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function $1(n){const t=vn.fromString(n);return Dt(J1(t)),t}function l0(n,t){return XT(n.databaseId,t.path)}function Nc(n,t){const e=$1(t);if(e.get(1)!==n.databaseId.projectId)throw new Me(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Me(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Je(q1(e))}function JT(n,t){return XT(n.databaseId,t)}function G1(n){const t=$1(n);return 4===t.length?vn.emptyPath():q1(t)}function c0(n){return new vn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function q1(n){return Dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Y1(n,t,e){return{name:l0(n,t),fields:e.value.mapValue.fields}}function W1(n,t,e){const i=Nc(n,t.name),r=sr(t.updateTime),o=t.createTime?sr(t.createTime):It.min(),u=new xr({mapValue:{fields:t.fields}}),h=Un.newFoundDocument(i,r,o,u);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function u0(n,t){let e;if(t instanceof s)e={update:Y1(n,t.key,t.value)};else if(t instanceof m)e={delete:l0(n,t.key)};else if(t instanceof a)e={update:Y1(n,t.key,t.data),updateMask:lV(t.fieldMask)};else{if(!(t instanceof y))return lt();e={verify:l0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof Fc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Gu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Wh)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Zh)return{fieldPath:o.field.canonicalString(),increment:u.wt};throw lt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:eV(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:lt()),e;var r}function eA(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?yi.updateTime(sr(r.updateTime)):void 0!==r.exists?yi.exists(r.exists):yi.none():yi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(Dt("REQUEST_TIME"===u.setToServerValue),h=new Fc):"appendMissingElements"in u?h=new Gu(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Wh(u.removeAllFromArray.values||[]):"increment"in u?h=new Zh(o,u.increment):lt();const g=_i.fromServerFormat(u.fieldPath);return new A_(g,h)}(n,r)):[];var r;if(t.update){const r=Nc(n,t.update.name),o=new xr({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Co((t.updateMask.fieldPaths||[]).map(v=>_i.fromServerFormat(v)));return new a(r,o,u,e,i)}return new s(r,o,e,i)}if(t.delete){const r=Nc(n,t.delete);return new m(r,e)}if(t.verify){const r=Nc(n,t.verify);return new y(r,e)}return lt()}function Z1(n,t){return{documents:[JT(n,t.path)]}}function tA(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=JT(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=JT(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(g){if(0!==g.length)return X1(Mn.create(g,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(g){if(0!==g.length)return g.map(v=>{return{field:Kh((E=v).field),direction:oV(E.dir)};var E})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=QT(n,t.limit);var h,g;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(g=t.endAt).inclusive,values:g.position}),e}function K1(n){let t=G1(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Dt(1===i);const E=e.from[0];E.allDescendants?r=E.collectionId:t=t.child(E.collectionId)}let o=[];e.where&&(o=function(E){const S=Q1(E);return S instanceof Mn&&Hb(S)?S.getFilters():[S]}(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(E=>{return new Pc(P_((S=E).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;e.limit&&(h=function(E){let S;return S="object"==typeof E?E.value:E,Bu(S)?null:S}(e.limit));let g=null;var E;e.startAt&&(g=new qr((E=e.startAt).values||[],!!E.before));let v=null;return e.endAt&&(v=function(E){return new qr(E.values||[],!E.before)}(e.endAt)),aE(t,r,u,o,h,"F",g,v)}function Q1(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=P_(t.unaryFilter.field);return bn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=P_(t.unaryFilter.field);return bn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=P_(t.unaryFilter.field);return bn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=P_(t.unaryFilter.field);return bn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}(n):void 0!==n.fieldFilter?bn.create(P_((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Mn.create(t.compositeFilter.filters.map(e=>Q1(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return lt()}}(t.compositeFilter.op))}(n):lt();var t}function oV(n){return K2[n]}function sV(n){return Q2[n]}function aV(n){return X2[n]}function Kh(n){return{fieldPath:n.canonicalString()}}function P_(n){return _i.fromServerFormat(n.fieldPath)}function X1(n){return n instanceof bn?function(t){if("=="===t.op){if(KD(t.value))return{unaryFilter:{field:Kh(t.field),op:"IS_NAN"}};if(ZD(t.value))return{unaryFilter:{field:Kh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(KD(t.value))return{unaryFilter:{field:Kh(t.field),op:"IS_NOT_NAN"}};if(ZD(t.value))return{unaryFilter:{field:Kh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kh(t.field),op:sV(t.op),value:t.value}}}(n):n instanceof Mn?function(t){const e=t.getFilters().map(i=>X1(i));return 1===e.length?e[0]:{compositeFilter:{op:aV(t.op),filters:e}}}(n):lt()}function lV(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function J1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class qu{constructor(t,e,i,r,o=It.min(),u=It.min(),h=or.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=g}withSequenceNumber(t){return new qu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new qu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class eO{constructor(t){this.le=t}}function tO(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:_E(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:l0(r=n.le,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:O_(r,o.version.toTimestamp()),createTime:O_(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:om(t.version)};else{if(!t.isUnknownDocument())return lt();i.unknownDocument={path:e.path.toArray(),version:om(t.version)}}var r,o;return i}function _E(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function om(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function sm(n){const t=new ri(n.seconds,n.nanoseconds);return It.fromTimestamp(t)}function am(n,t){const e=(t.baseMutations||[]).map(o=>eA(n.le,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>eA(n.le,o)),r=ri.fromMillis(t.localWriteTimeMs);return new D(t.batchId,r,e,i)}function d0(n){const t=sm(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?sm(n.lastLimboFreeSnapshotVersion):It.min();let i;var r;return void 0!==n.query.documents?(Dt(1===(r=n.query).documents.length),i=so($h(G1(r.documents[0])))):i=so(K1(n.query)),new qu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,or.fromBase64String(n.resumeToken))}function nO(n,t){const e=om(t.snapshotVersion),i=om(t.lastLimboFreeSnapshotVersion);let r;r=Wb(t.target)?Z1(n.le,t.target):tA(n.le,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:$u(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function nA(n){const t=K1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?E_(t,t.limit,"L"):t}function iA(n,t){return new M(t.largestBatchId,eA(n.le,t.overlayMutation))}function iO(n,t){const e=t.path.lastSegment();return[n,oo(t.path.popLast()),e]}function rO(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:om(i.readTime),documentKey:oo(i.documentKey.path),largestBatchId:i.largestBatchId}}class uV{getBundleMetadata(t,e){return oO(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:sm(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return oO(t).put({bundleId:(i=e).id,createTime:om(sr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return sO(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:nA(r.bundledQuery),readTime:sm(r.readTime)};var r})}saveNamedQuery(t,e){return sO(t).put({name:(i=e).name,readTime:om(sr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function oO(n){return Pr(n,"bundles")}function sO(n){return Pr(n,"namedQueries")}class yE{constructor(t,e){this.serializer=t,this.userId=e}static fe(t,e){return new yE(t,e.uid||"")}getOverlay(t,e){return h0(t).get(iO(this.userId,e)).next(i=>i?iA(this.serializer,i):null)}getOverlays(t,e){const i=kl();return ae.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new M(e,u);r.push(this.de(t,h))}),ae.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(oo(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(h0(t).J("collectionPathOverlayIndex",h))}),ae.waitFor(o)}getOverlaysForCollection(t,e,i){const r=kl(),o=oo(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return h0(t).j("collectionPathOverlayIndex",u).next(h=>{for(const g of h){const v=iA(this.serializer,g);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=kl();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return h0(t).X({index:"collectionGroupOverlayIndex",range:h},(g,v,E)=>{const S=iA(this.serializer,v);o.size()<r||S.largestBatchId===u?(o.set(S.getKey(),S),u=S.largestBatchId):E.done()}).next(()=>o)}de(t,e){return h0(t).put(function(i,r,o){const[u,h,g]=iO(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:g,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:u0(i.le,o.mutation)}}(this.serializer,this.userId,e))}}function h0(n){return Pr(n,"documentOverlays")}class lm{constructor(){}_e(t,e){this.we(t,e),e.me()}we(t,e){if("nullValue"in t)this.ge(e,5);else if("booleanValue"in t)this.ge(e,10),e.ye(t.booleanValue?1:0);else if("integerValue"in t)this.ge(e,15),e.ye(Oi(t.integerValue));else if("doubleValue"in t){const i=Oi(t.doubleValue);isNaN(i)?this.ge(e,13):(this.ge(e,15),__(i)?e.ye(0):e.ye(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ge(e,20),"string"==typeof i?e.pe(i):(e.pe(`${i.seconds||""}`),e.ye(i.nanos||0))}else if("stringValue"in t)this.Ie(t.stringValue,e),this.Te(e);else if("bytesValue"in t)this.ge(e,30),e.Ee(Rc(t.bytesValue)),this.Te(e);else if("referenceValue"in t)this.Ae(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ge(e,45),e.ye(i.latitude||0),e.ye(i.longitude||0)}else"mapValue"in t?Lb(t)?this.ge(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Te(e)):"arrayValue"in t?(this.ve(t.arrayValue,e),this.Te(e)):lt()}Ie(t,e){this.ge(e,25),this.Pe(t,e)}Pe(t,e){e.pe(t)}Re(t,e){const i=t.fields||{};this.ge(e,55);for(const r of Object.keys(i))this.Ie(r,e),this.we(i[r],e)}ve(t,e){const i=t.values||[];this.ge(e,50);for(const r of i)this.we(r,e)}Ae(t,e){this.ge(e,37),Je.fromName(t).path.forEach(i=>{this.ge(e,60),this.Pe(i,e)})}ge(t,e){t.ye(e)}Te(t){t.ye(2)}}function dV(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function aO(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=dV(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}lm.be=new lm;class hV{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Se(i.value),i=e.next();this.De()}Ce(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.xe(i.value),i=e.next();this.Ne()}ke(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Se(i);else if(i<2048)this.Se(960|i>>>6),this.Se(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Se(480|i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i);else{const r=e.codePointAt(0);this.Se(240|r>>>18),this.Se(128|63&r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r)}}this.De()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.xe(i);else if(i<2048)this.xe(960|i>>>6),this.xe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.xe(480|i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i);else{const r=e.codePointAt(0);this.xe(240|r>>>18),this.xe(128|63&r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r)}}this.Ne()}Oe(t){const e=this.$e(t),i=aO(e);this.Fe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Be(t){const e=this.$e(t),i=aO(e);this.Fe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(t){this.Fe(t.length),this.buffer.set(t,this.position),this.position+=t.length}Ge(){return this.buffer.slice(0,this.position)}$e(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Se(t){const e=255&t;0===e?(this.qe(0),this.qe(255)):255===e?(this.qe(255),this.qe(0)):this.qe(e)}xe(t){const e=255&t;0===e?(this.Ke(0),this.Ke(255)):255===e?(this.Ke(255),this.Ke(0)):this.Ke(t)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(t){this.Fe(1),this.buffer[this.position++]=t}Ke(t){this.Fe(1),this.buffer[this.position++]=~t}Fe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class fV{constructor(t){this.Qe=t}Ee(t){this.Qe.Ve(t)}pe(t){this.Qe.ke(t)}ye(t){this.Qe.Oe(t)}me(){this.Qe.Le()}}class pV{constructor(t){this.Qe=t}Ee(t){this.Qe.Ce(t)}pe(t){this.Qe.Me(t)}ye(t){this.Qe.Be(t)}me(){this.Qe.Ue()}}class f0{constructor(){this.Qe=new hV,this.je=new fV(this.Qe),this.ze=new pV(this.Qe)}seed(t){this.Qe.seed(t)}We(t){return 0===t?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class cm{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}He(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new cm(this.indexId,this.documentKey,this.arrayValue,i)}}function Qh(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=lO(n.arrayValue,t.arrayValue),0!==e?e:(e=lO(n.directionalValue,t.directionalValue),0!==e?e:Je.comparator(n.documentKey,t.documentKey)))}function lO(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class mV{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Je=t.orderBy,this.Ye=[];for(const e of t.filters){const i=e;i.isInequality()?this.Xe=i:this.Ye.push(i)}}Ze(t){Dt(t.collectionGroup===this.collectionId);const e=Sc(t);if(void 0!==e&&!this.tn(e))return!1;const i=Vu(t);let r=0,o=0;for(;r<i.length&&this.tn(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Xe){const u=i[r];if(!this.en(this.Xe,u)||!this.nn(this.Je[o++],u))return!1;++r}for(;r<i.length;++r)if(o>=this.Je.length||!this.nn(this.Je[o++],i[r]))return!1;return!0}tn(t){for(const e of this.Ye)if(this.en(e,t))return!0;return!1}en(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}nn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function cO(n){var t,e;if(Dt(n instanceof bn||n instanceof Mn),n instanceof bn){if(n instanceof Yb){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>bn.create(n.field,"==",o)))||[];return Mn.create(r,"or")}return n}const i=n.filters.map(r=>cO(r));return Mn.create(i,n.op)}function gV(n){if(0===n.getFilters().length)return[];const t=sA(cO(n));return Dt(uO(t)),rA(t)||oA(t)?[t]:t.getFilters()}function rA(n){return n instanceof bn}function oA(n){return n instanceof Mn&&Hb(n)}function uO(n){return rA(n)||oA(n)||function(t){if(t instanceof Mn&&Ub(t)){for(const e of t.getFilters())if(!rA(e)&&!oA(e))return!1;return!0}return!1}(n)}function sA(n){if(Dt(n instanceof bn||n instanceof Mn),n instanceof bn)return n;if(1===n.filters.length)return sA(n.filters[0]);const t=n.filters.map(i=>sA(i));let e=Mn.create(t,n.op);return e=vE(e),uO(e)?e:(Dt(e instanceof Mn),Dt(zh(e)),Dt(e.filters.length>1),e.filters.reduce((i,r)=>aA(i,r)))}function aA(n,t){let e;return Dt(n instanceof bn||n instanceof Mn),Dt(t instanceof bn||t instanceof Mn),e=n instanceof bn?t instanceof bn?Mn.create([n,t],"and"):dO(n,t):t instanceof bn?dO(t,n):function(i,r){if(Dt(i.filters.length>0&&r.filters.length>0),zh(i)&&zh(r))return iE(i,r.getFilters());const o=Ub(i)?i:r,u=Ub(i)?r:i,h=o.filters.map(g=>aA(g,u));return Mn.create(h,"or")}(n,t),vE(e)}function dO(n,t){if(zh(t))return iE(t,n.getFilters());{const e=t.filters.map(i=>aA(n,i));return Mn.create(e,"or")}}function vE(n){if(Dt(n instanceof bn||n instanceof Mn),n instanceof bn)return n;const t=n.getFilters();if(1===t.length)return vE(t[0]);if(jb(n))return n;const e=t.map(r=>vE(r)),i=[];return e.forEach(r=>{r instanceof bn?i.push(r):r instanceof Mn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Mn.create(i,n.op)}class _V{constructor(){this.sn=new lA}addToCollectionParentIndex(t,e){return this.sn.add(e),ae.resolve()}getCollectionParents(t,e){return ae.resolve(this.sn.getEntries(e))}addFieldIndex(t,e){return ae.resolve()}deleteFieldIndex(t,e){return ae.resolve()}getDocumentsMatchingTarget(t,e){return ae.resolve(null)}getIndexType(t,e){return ae.resolve(0)}getFieldIndexes(t,e){return ae.resolve([])}getNextCollectionGroupToUpdate(t){return ae.resolve(null)}getMinOffset(t,e){return ae.resolve(Vo.min())}getMinOffsetFromCollectionGroup(t,e){return ae.resolve(Vo.min())}updateCollectionGroup(t,e,i){return ae.resolve()}updateIndexEntries(t,e){return ae.resolve()}}class lA{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new ci(vn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ci(vn.comparator)).toArray()}}const bE=new Uint8Array(0);class yV{constructor(t,e){this.user=t,this.databaseId=e,this.rn=new lA,this.on=new Gs(i=>$u(i),(i,r)=>tm(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.rn.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.rn.add(e)});const o={collectionId:i,parent:oo(r)};return hO(t).put(o)}return ae.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[Ib(e),""],!1,!0);return hO(t).j(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(Oa(u.parent))}return i})}addFieldIndex(t,e){const i=wE(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const o=i.add(r);if(e.indexState){const u=m0(t);return o.next(h=>{u.put(rO(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=wE(t),r=m0(t),o=p0(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=p0(t);let r=!0;const o=new Map;return ae.forEach(this.un(e),u=>this.cn(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=hn();const h=[];return ae.forEach(o,(g,v)=>{var E;Ve("IndexedDbIndexManager",`Using index ${E=g,`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(it=>`${it.fieldPath}:${it.kind}`).join(",")}`} to execute ${$u(e)}`);const S=function(it,wt){const zt=Sc(wt);if(void 0===zt)return null;for(const dn of Zb(it,zt.fieldPath))switch(dn.op){case"array-contains-any":return dn.value.arrayValue.values||[];case"array-contains":return[dn.value]}return null}(v,g),V=function(it,wt){const zt=new Map;for(const dn of Vu(wt))for(const Rn of Zb(it,dn.fieldPath))switch(Rn.op){case"==":case"in":zt.set(dn.fieldPath.canonicalString(),Rn.value);break;case"not-in":case"!=":return zt.set(dn.fieldPath.canonicalString(),Rn.value),Array.from(zt.values())}return null}(v,g),z=function(it,wt){const zt=[];let dn=!0;for(const Rn of Vu(wt)){const Wr=0===Rn.kind?HT(it,Rn.fieldPath,it.startAt):Kb(it,Rn.fieldPath,it.startAt);zt.push(Wr.value),dn&&(dn=Wr.inclusive)}return new qr(zt,dn)}(v,g),X=function(it,wt){const zt=[];let dn=!0;for(const Rn of Vu(wt)){const Wr=0===Rn.kind?Kb(it,Rn.fieldPath,it.endAt):HT(it,Rn.fieldPath,it.endAt);zt.push(Wr.value),dn&&(dn=Wr.inclusive)}return new qr(zt,dn)}(v,g),ne=this.an(g,v,z),he=this.an(g,v,X),$e=this.hn(g,v,V),at=this.ln(g.indexId,S,ne,z.inclusive,he,X.inclusive,$e);return ae.forEach(at,it=>i.H(it,e.limit).next(wt=>{wt.forEach(zt=>{const dn=Je.fromSegments(zt.documentKey);u.has(dn)||(u=u.add(dn),h.push(dn))})}))}).next(()=>h)}return ae.resolve(null)})}un(t){let e=this.on.get(t);return e||(e=0===t.filters.length?[t]:gV(Mn.create(t.filters,"and")).map(i=>D_(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.on.set(t,e),e)}ln(t,e,i,r,o,u,h){const g=(null!=e?e.length:1)*Math.max(i.length,o.length),v=g/(null!=e?e.length:1),E=[];for(let S=0;S<g;++S){const V=e?this.fn(e[S/v]):bE,z=this.dn(t,V,i[S%v],r),X=this._n(t,V,o[S%v],u),ne=h.map(he=>this.dn(t,V,he,!0));E.push(...this.createRange(z,X,ne))}return E}dn(t,e,i,r){const o=new cm(t,Je.empty(),e,i);return r?o:o.He()}_n(t,e,i,r){const o=new cm(t,Je.empty(),e,i);return r?o.He():o}cn(t,e){const i=new mV(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let u=null;for(const h of o)i.Ze(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;const r=this.un(e);return ae.forEach(r,o=>this.cn(t,o).next(u=>{u?0!==i&&u.fields.length<function(h){let g=new ci(_i.comparator),v=!1;for(const E of h.filters)for(const S of E.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:g=g.add(S.field));for(const E of h.orderBy)E.field.isKeyField()||(g=g.add(E.field));return g.size+(v?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}wn(t,e){const i=new f0;for(const r of Vu(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.We(r.kind);lm.be._e(o,u)}return i.Ge()}fn(t){const e=new f0;return lm.be._e(t,e.We(0)),e.Ge()}mn(t,e){const i=new f0;return lm.be._e(Er(this.databaseId,e),i.We(function(r){const o=Vu(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Ge()}hn(t,e,i){if(null===i)return[];let r=[];r.push(new f0);let o=0;for(const u of Vu(t)){const h=i[o++];for(const g of r)if(this.gn(e,u.fieldPath)&&zu(h))r=this.yn(r,u,h);else{const v=g.We(u.kind);lm.be._e(h,v)}}return this.pn(r)}an(t,e,i){return this.hn(t,e,i.position)}pn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Ge();return e}yn(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const g=new f0;g.seed(h.Ge()),lm.be._e(u,g.We(e.kind)),o.push(g)}return o}gn(t,e){return!!t.filters.find(i=>i instanceof bn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=wE(t),r=m0(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(o=>{const u=[];return ae.forEach(o,h=>r.get([h.indexId,this.uid]).next(g=>{u.push(function(v,E){const S=E?new Lh(E.sequenceNumber,new Vo(sm(E.readTime),new Je(Oa(E.documentKey)),E.largestBatchId)):Lh.empty(),V=v.fields.map(([z,X])=>new Sb(_i.fromServerFormat(z),X));return new wr(v.indexId,v.collectionGroup,V,S)}(h,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Kt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=wE(t),o=m0(t);return this.In(t).next(u=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>ae.forEach(h,g=>o.put(rO(g.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return ae.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?ae.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ae.forEach(h,g=>this.Tn(t,r,g).next(v=>{const E=this.En(o,g);return v.isEqual(E)?ae.resolve():this.An(t,o,g,v,E)}))))})}Rn(t,e,i,r){return p0(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(i,e.key),documentKey:e.key.path.toArray()})}vn(t,e,i,r){return p0(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(i,e.key),e.key.path.toArray()])}Tn(t,e,i){const r=p0(t);let o=new ci(Qh);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.mn(i,e)])},(u,h)=>{o=o.add(new cm(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}En(t,e){let i=new ci(Qh);const r=this.wn(e,t);if(null==r)return i;const o=Sc(e);if(null!=o){const u=t.data.field(o.fieldPath);if(zu(u))for(const h of u.arrayValue.values||[])i=i.add(new cm(e.indexId,t.key,this.fn(h),r))}else i=i.add(new cm(e.indexId,t.key,bE,r));return i}An(t,e,i,r,o){Ve("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,g,v,E,S){const V=h.getIterator(),z=g.getIterator();let X=Hu(V),ne=Hu(z);for(;X||ne;){let he=!1,$e=!1;if(X&&ne){const at=v(X,ne);at<0?$e=!0:at>0&&(he=!0)}else null!=X?$e=!0:he=!0;he?(E(ne),ne=Hu(z)):$e?(S(X),X=Hu(V)):(X=Hu(V),ne=Hu(z))}}(r,o,Qh,h=>{u.push(this.Rn(t,e,i,h))},h=>{u.push(this.vn(t,e,i,h))}),ae.waitFor(u)}In(t){let e=1;return m0(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>Qh(u,h)).filter((u,h,g)=>!h||0!==Qh(u,g[h-1]));const r=[];r.push(t);for(const u of i){const h=Qh(u,t),g=Qh(u,e);if(0===h)r[0]=t.He();else if(h>0&&g<0)r.push(u),r.push(u.He());else if(g>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2){if(this.Pn(r[u],r[u+1]))return[];o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,bE,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,bE,[]]))}return o}Pn(t,e){return Qh(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(fO)}getMinOffset(t,e){return ae.mapArray(this.un(e),i=>this.cn(t,i).next(r=>r||lt())).next(fO)}}function hO(n){return Pr(n,"collectionParents")}function p0(n){return Pr(n,"indexEntries")}function wE(n){return Pr(n,"indexConfiguration")}function m0(n){return Pr(n,"indexState")}function fO(n){Dt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Kp(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Vo(t.readTime,t.documentKey,e)}const pO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Do{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Do(t,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function mO(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const g=i.X({range:u},(E,S,V)=>(h++,V.delete()));o.push(g.next(()=>{Dt(1===h)}));const v=[];for(const E of e.mutations){const S=VD(t,E.key.path,e.batchId);o.push(r.delete(S)),v.push(E.key)}return ae.waitFor(o).next(()=>v)}function CE(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw lt();t=n.noDocument}return JSON.stringify(t).length}Do.DEFAULT_COLLECTION_PERCENTILE=10,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Do.DEFAULT=new Do(41943040,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Do.DISABLED=new Do(-1,0,0);class DE{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.bn={}}static fe(t,e,i,r){Dt(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new DE(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xh(t).X({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=F_(t),u=Xh(t);return u.add({}).next(h=>{Dt("number"==typeof h);const g=new D(h,e,i,r),v=function(V,z,X){const ne=X.baseMutations.map($e=>u0(V.le,$e)),he=X.mutations.map($e=>u0(V.le,$e));return{userId:z,batchId:X.batchId,localWriteTimeMs:X.localWriteTime.toMillis(),baseMutations:ne,mutations:he}}(this.serializer,this.userId,g),E=[];let S=new ci((V,z)=>Kt(V.canonicalString(),z.canonicalString()));for(const V of r){const z=VD(this.userId,V.key.path,h);S=S.add(V.key.path.popLast()),E.push(u.put(v)),E.push(o.put(z,BD))}return S.forEach(V=>{E.push(this.indexManager.addToCollectionParentIndex(t,V))}),t.addOnCommittedListener(()=>{this.bn[h]=g.keys()}),ae.waitFor(E).next(()=>g)})}lookupMutationBatch(t,e){return Xh(t).get(e).next(i=>i?(Dt(i.userId===this.userId),am(this.serializer,i)):null)}Vn(t,e){return this.bn[e]?ae.resolve(this.bn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.bn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Xh(t).X({index:"userMutationsIndex",range:r},(u,h,g)=>{h.userId===this.userId&&(Dt(h.batchId>=i),o=am(this.serializer,h)),g.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Xh(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xh(t).j("userMutationsIndex",e).next(i=>i.map(r=>am(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Qp(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return F_(t).X({range:r},(u,h,g)=>{const[v,E,S]=u,V=Oa(E);if(v===this.userId&&e.path.isEqual(V))return Xh(t).get(S).next(z=>{if(!z)throw lt();Dt(z.userId===this.userId),o.push(am(this.serializer,z))});g.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ci(Kt);const r=[];return e.forEach(o=>{const u=Qp(this.userId,o.path),h=IDBKeyRange.lowerBound(u),g=F_(t).X({range:h},(v,E,S)=>{const[V,z,X]=v,ne=Oa(z);V===this.userId&&o.path.isEqual(ne)?i=i.add(X):S.done()});r.push(g)}),ae.waitFor(r).next(()=>this.Sn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=Qp(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new ci(Kt);return F_(t).X({range:u},(g,v,E)=>{const[S,V,z]=g,X=Oa(V);S===this.userId&&i.isPrefixOf(X)?X.length===r&&(h=h.add(z)):E.done()}).next(()=>this.Sn(t,h))}Sn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(Xh(t).get(o).next(u=>{if(null===u)throw lt();Dt(u.userId===this.userId),i.push(am(this.serializer,u))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return mO(t.at,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Dn(e.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Dn(t){delete this.bn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return F_(t).X({range:i},(o,u,h)=>{if(o[0]===this.userId){const g=Oa(o[1]);r.push(g)}else h.done()}).next(()=>{Dt(0===r.length)})})}containsKey(t,e){return gO(t,this.userId,e)}Cn(t){return _O(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function gO(n,t,e){const i=Qp(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return F_(n).X({range:o,Y:!0},(h,g,v)=>{const[E,S,V]=h;E===t&&S===r&&(u=!0),v.done()}).next(()=>u)}function Xh(n){return Pr(n,"mutations")}function F_(n){return Pr(n,"documentMutations")}function _O(n){return Pr(n,"mutationQueues")}class um{constructor(t){this.xn=t}next(){return this.xn+=2,this.xn}static Nn(){return new um(0)}static kn(){return new um(-1)}}class vV{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.Mn(t).next(e=>{const i=new um(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Mn(t).next(e=>It.fromTimestamp(new ri(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Mn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Mn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.$n(t,e).next(()=>this.Mn(t).next(i=>(i.targetCount+=1,this.Fn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.$n(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>N_(t).delete(e.targetId)).next(()=>this.Mn(t)).next(i=>(Dt(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return N_(t).X((u,h)=>{const g=d0(h);g.sequenceNumber<=e&&null===i.get(g.targetId)&&(r++,o.push(this.removeTargetData(t,g)))}).next(()=>ae.waitFor(o)).next(()=>r)}forEachTarget(t,e){return N_(t).X((i,r)=>{const o=d0(r);e(o)})}Mn(t){return yO(t).get("targetGlobalKey").next(e=>(Dt(null!==e),e))}On(t,e){return yO(t).put("targetGlobalKey",e)}$n(t,e){return N_(t).put(nO(this.serializer,e))}Fn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Mn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=$u(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return N_(t).X({range:r,index:"queryTargetsIndex"},(u,h,g)=>{const v=d0(h);tm(e,v.target)&&(o=v,g.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=Jh(t);return e.forEach(u=>{const h=oo(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),ae.waitFor(r)}removeMatchingKeys(t,e,i){const r=Jh(t);return ae.forEach(e,o=>{const u=oo(o.path);return ae.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=Jh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Jh(t);let o=hn();return r.X({range:i,Y:!0},(u,h,g)=>{const v=Oa(u[1]),E=new Je(v);o=o.add(E)}).next(()=>o)}containsKey(t,e){const i=oo(e.path),r=IDBKeyRange.bound([i],[Ib(i)],!1,!0);let o=0;return Jh(t).X({index:"documentTargetsIndex",Y:!0,range:r},([u,h],g,v)=>{0!==u&&(o++,v.done())}).next(()=>o>0)}he(t,e){return N_(t).get(e).next(i=>i?d0(i):null)}}function N_(n){return Pr(n,"targets")}function yO(n){return Pr(n,"targetGlobal")}function Jh(n){return Pr(n,"targetDocuments")}function vO([n,t],[e,i]){const r=Kt(n,e);return 0===r?Kt(t,i):r}class bV{constructor(t){this.Bn=t,this.buffer=new ci(vO),this.Ln=0}qn(){return++this.Ln}Un(t){const e=[t,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();vO(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class bO{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(t){var e=this;Ve("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,we.Z)(function*(){e.Kn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){ka(i)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Tc(i)}yield e.Gn(3e5)}))}}class wV{constructor(t,e){this.Qn=t,this.params=e}calculateTargetCount(t,e){return this.Qn.jn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ae.resolve(wo.ct);const i=new bV(e);return this.Qn.forEachTarget(t,r=>i.Un(r.sequenceNumber)).next(()=>this.Qn.zn(t,r=>i.Un(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Qn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Qn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(pO)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pO):this.Wn(t,e))}getCacheSize(t){return this.Qn.getCacheSize(t)}Wn(t,e){let i,r,o,u,h,g,v;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,u=Date.now(),this.nthSequenceNumber(t,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(t,i,e))).next(S=>(o=S,g=Date.now(),this.removeOrphanedDocuments(t,i))).next(S=>(v=Date.now(),Wp()<=_l.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-E}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(g-h)+`ms\n\tRemoved ${S} documents in `+(v-g)+`ms\nTotal Duration: ${v-E}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:S})))}}class CV{constructor(t,e){this.db=t,this.garbageCollector=function wO(n,t){return new wV(n,t)}(this,e)}jn(t){const e=this.Hn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Hn(t){let e=0;return this.zn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}zn(t,e){return this.Jn(t,(i,r)=>e(r))}addReference(t,e,i){return EE(t,i)}removeReference(t,e,i){return EE(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return EE(t,e)}Yn(t,e){return function(i,r){let o=!1;return _O(i).Z(u=>gO(i,u,r).next(h=>(h&&(o=!0),ae.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Jn(t,(u,h)=>{if(h<=e){const g=this.Yn(t,u).next(v=>{if(!v)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,It.min()),Jh(t).delete([0,oo(u.path)])))});r.push(g)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return EE(t,e)}Jn(t,e){const i=Jh(t);let r,o=wo.ct;return i.X({index:"documentTargetsIndex"},([u,h],{path:g,sequenceNumber:v})=>{0===u?(o!==wo.ct&&e(new Je(Oa(r)),o),o=v,r=g):o=wo.ct}).next(()=>{o!==wo.ct&&e(new Je(Oa(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function EE(n,t){return Jh(n).put((i=n.currentSequenceNumber,{targetId:0,path:oo(t.path),sequenceNumber:i}));var i}class CO{constructor(){this.changes=new Gs(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ae.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class DV{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return dm(t).put(i)}removeEntry(t,e,i){return dm(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],_E(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Xn(t,i)))}getEntry(t,e){let i=Un.newInvalidDocument(e);return dm(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(g0(e))},(r,o)=>{i=this.Zn(e,o)}).next(()=>i)}ts(t,e){let i={size:0,document:Un.newInvalidDocument(e)};return dm(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(g0(e))},(r,o)=>{i={document:this.Zn(e,o),size:CE(o)}}).next(()=>i)}getEntries(t,e){let i=Fr();return this.es(t,e,(r,o)=>{const u=this.Zn(r,o);i=i.insert(r,u)}).next(()=>i)}ns(t,e){let i=Fr(),r=new An(Je.comparator);return this.es(t,e,(o,u)=>{const h=this.Zn(o,u);i=i.insert(o,h),r=r.insert(o,CE(u))}).next(()=>({documents:i,ss:r}))}es(t,e,i){if(e.isEmpty())return ae.resolve();let r=new ci(IO);e.forEach(g=>r=r.add(g));const o=IDBKeyRange.bound(g0(r.first()),g0(r.last())),u=r.getIterator();let h=u.getNext();return dm(t).X({index:"documentKeyIndex",range:o},(g,v,E)=>{const S=Je.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&IO(h,S)<0;)i(h,null),h=u.getNext();h&&h.isEqual(S)&&(i(h,v),h=u.hasNext()?u.getNext():null),h?E.G(g0(h)):E.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,u=[o.popLast().toArray(),o.lastSegment(),_E(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return dm(t).j(IDBKeyRange.bound(u,h,!0)).next(g=>{let v=Fr();for(const E of g){const S=this.Zn(Je.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);S.isFoundDocument()&&(Yh(e,S)||r.has(S.key))&&(v=v.insert(S.key,S))}return v})}getAllFromCollectionGroup(t,e,i,r){let o=Fr();const u=xO(e,i),h=xO(e,Vo.max());return dm(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(g,v,E)=>{const S=this.Zn(Je.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(S.key,S),o.size===r&&E.done()}).next(()=>o)}newChangeBuffer(t){return new EV(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return EO(t).get("remoteDocumentGlobalKey").next(e=>(Dt(!!e),e))}Xn(t,e){return EO(t).put("remoteDocumentGlobalKey",e)}Zn(t,e){if(e){const i=function cV(n,t){let e;if(t.document)e=W1(n.le,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Je.fromSegments(t.noDocument.path),r=sm(t.noDocument.readTime);e=Un.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return lt();{const i=Je.fromSegments(t.unknownDocument.path),r=sm(t.unknownDocument.version);e=Un.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new ri(i[0],i[1]);return It.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(It.min()))return i}return Un.newInvalidDocument(t)}}function DO(n){return new DV(n)}class EV extends CO{constructor(t,e){super(),this.rs=t,this.trackRemovals=e,this.os=new Gs(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new ci((o,u)=>Kt(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.os.get(o);if(e.push(this.rs.removeEntry(t,o,h.readTime)),u.isValidDocument()){const g=tO(this.rs.serializer,u);r=r.add(o.path.popLast());const v=CE(g);i+=v-h.size,e.push(this.rs.addEntry(t,o,g))}else if(i-=h.size,this.trackRemovals){const g=tO(this.rs.serializer,u.convertToNoDocument(It.min()));e.push(this.rs.addEntry(t,o,g))}}),r.forEach(o=>{e.push(this.rs.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.rs.updateMetadata(t,i)),ae.waitFor(e)}getFromCache(t,e){return this.rs.ts(t,e).next(i=>(this.os.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.rs.ns(t,e).next(({documents:i,ss:r})=>(r.forEach((o,u)=>{this.os.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function EO(n){return Pr(n,"remoteDocumentGlobal")}function dm(n){return Pr(n,"remoteDocumentsV14")}function g0(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function xO(n,t){const e=t.documentKey.path.toArray();return[n,_E(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function IO(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Kt(e[o],i[o]),r)return r;return r=Kt(e.length,i.length),r||(r=Kt(e[e.length-2],i[i.length-2]),r||Kt(e[e.length-1],i[i.length-1]))}class xV{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class SO{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&R_(i.mutation,r,Co.empty(),ri.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,hn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=hn()){const r=kl();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=S_();return o.forEach((h,g)=>{u=u.insert(h,g.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=kl();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,hn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=Fr();const u=im(),h=im();return e.forEach((g,v)=>{const E=i.get(v.key);r.has(v.key)&&(void 0===E||E.mutation instanceof a)?o=o.insert(v.key,v):void 0!==E?(u.set(v.key,E.mutation.getFieldMask()),R_(E.mutation,v,E.mutation.getFieldMask(),ri.now())):u.set(v.key,Co.empty())}),this.recalculateAndSaveOverlays(t,o).next(g=>(g.forEach((v,E)=>u.set(v,E)),e.forEach((v,E)=>{var S;return h.set(v,new xV(E,null!==(S=u.get(v))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(t,e){const i=im();let r=new An((u,h)=>u-h),o=hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(g=>{const v=e.get(g);if(null===v)return;let E=i.get(g)||Co.empty();E=h.applyToLocalView(v,E),i.set(g,E);const S=(r.get(h.batchId)||hn()).add(g);r=r.insert(h.batchId,S)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),v=g.key,E=g.value,S=e0();E.forEach(V=>{if(!o.has(V)){const z=ZT(e.get(V),i.get(V));null!==z&&S.set(V,z),o=o.add(V)}}),u.push(this.documentOverlayCache.saveOverlays(t,v,S))}return ae.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Je.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):cE(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ae.resolve(kl());let h=-1,g=o;return u.next(v=>ae.forEach(v,(E,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),o.get(E)?ae.resolve():this.remoteDocumentCache.getEntry(t,E).next(V=>{g=g.insert(E,V)}))).next(()=>this.populateOverlays(t,v,o)).next(()=>this.computeViews(t,g,v,hn())).next(E=>({batchId:h,changes:GT(E)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Je(e)).next(i=>{let r=S_();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=S_();return this.indexManager.getCollectionParents(t,r).next(u=>ae.forEach(u,h=>{const g=(v=e,E=h.child(r),new Ml(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,E;return this.getDocumentsMatchingCollectionQuery(t,g,i).next(v=>{v.forEach((E,S)=>{o=o.insert(E,S)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((h,g)=>{const v=g.getKey();null===o.get(v)&&(o=o.insert(v,Un.newInvalidDocument(v)))});let u=S_();return o.forEach((h,g)=>{const v=r.get(h);void 0!==v&&R_(v.mutation,g,Co.empty(),ri.now()),Yh(e,g)&&(u=u.insert(h,g))}),u})}}class IV{constructor(t){this.serializer=t,this.us=new Map,this.cs=new Map}getBundleMetadata(t,e){return ae.resolve(this.us.get(e))}saveBundleMetadata(t,e){var i;return this.us.set(e.id,{id:(i=e).id,version:i.version,createTime:sr(i.createTime)}),ae.resolve()}getNamedQuery(t,e){return ae.resolve(this.cs.get(e))}saveNamedQuery(t,e){return this.cs.set(e.name,{name:(i=e).name,query:nA(i.bundledQuery),readTime:sr(i.readTime)}),ae.resolve();var i}}class SV{constructor(){this.overlays=new An(Je.comparator),this.hs=new Map}getOverlay(t,e){return ae.resolve(this.overlays.get(e))}getOverlays(t,e){const i=kl();return ae.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.de(t,e,o)}),ae.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.hs.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hs.delete(i)),ae.resolve()}getOverlaysForCollection(t,e,i){const r=kl(),o=e.length+1,u=new Je(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,v=g.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===o&&g.largestBatchId>i&&r.set(g.getKey(),g)}return ae.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new An((v,E)=>v-E);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>i){let E=o.get(v.largestBatchId);null===E&&(E=kl(),o=o.insert(v.largestBatchId,E)),E.set(v.getKey(),v)}}const h=kl(),g=o.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,E)=>h.set(v,E)),!(h.size()>=r)););return ae.resolve(h)}de(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.hs.get(r.largestBatchId).delete(i.key);this.hs.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new M(e,i));let o=this.hs.get(e);void 0===o&&(o=hn(),this.hs.set(e,o)),this.hs.set(e,o.add(i.key))}}class cA{constructor(){this.ls=new ci(Yr.fs),this.ds=new ci(Yr._s)}isEmpty(){return this.ls.isEmpty()}addReference(t,e){const i=new Yr(t,e);this.ls=this.ls.add(i),this.ds=this.ds.add(i)}ws(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.gs(new Yr(t,e))}ys(t,e){t.forEach(i=>this.removeReference(i,e))}ps(t){const e=new Je(new vn([])),i=new Yr(e,t),r=new Yr(e,t+1),o=[];return this.ds.forEachInRange([i,r],u=>{this.gs(u),o.push(u.key)}),o}Is(){this.ls.forEach(t=>this.gs(t))}gs(t){this.ls=this.ls.delete(t),this.ds=this.ds.delete(t)}Ts(t){const e=new Je(new vn([])),i=new Yr(e,t),r=new Yr(e,t+1);let o=hn();return this.ds.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new Yr(t,0),i=this.ls.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Yr{constructor(t,e){this.key=t,this.Es=e}static fs(t,e){return Je.comparator(t.key,e.key)||Kt(t.Es,e.Es)}static _s(t,e){return Kt(t.Es,e.Es)||Je.comparator(t.key,e.key)}}class TV{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.As=1,this.Rs=new ci(Yr.fs)}checkEmpty(t){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.As;this.As++;const u=new D(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.Rs=this.Rs.add(new Yr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ae.resolve(u)}lookupMutationBatch(t,e){return ae.resolve(this.vs(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.Ps(e+1),o=r<0?0:r;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(t){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Yr(e,0),r=new Yr(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],u=>{const h=this.vs(u.Es);o.push(h)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ci(Kt);return e.forEach(r=>{const o=new Yr(r,0),u=new Yr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,u],h=>{i=i.add(h.Es)})}),ae.resolve(this.bs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Je.isDocumentKey(o)||(o=o.child(""));const u=new Yr(new Je(o),0);let h=new ci(Kt);return this.Rs.forEachWhile(g=>{const v=g.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(g.Es)),!0)},u),ae.resolve(this.bs(h))}bs(t){const e=[];return t.forEach(i=>{const r=this.vs(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Dt(0===this.Vs(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ae.forEach(e.mutations,r=>{const o=new Yr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Dn(t){}containsKey(t,e){const i=new Yr(e,0),r=this.Rs.firstAfterOrEqual(i);return ae.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ae.resolve()}Vs(t,e){return this.Ps(t)}Ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}vs(t){const e=this.Ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class AV{constructor(t){this.Ss=t,this.docs=new An(Je.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.Ss(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ae.resolve(i?i.document.mutableCopy():Un.newInvalidDocument(e))}getEntries(t,e){let i=Fr();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Un.newInvalidDocument(r))}),ae.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Fr();const u=e.path,h=new Je(u.child("")),g=this.docs.getIteratorFrom(h);for(;g.hasNext();){const{key:v,value:{document:E}}=g.getNext();if(!u.isPrefixOf(v.path))break;v.path.length>u.length+1||Kp(Vh(E),i)<=0||(r.has(E.key)||Yh(e,E))&&(o=o.insert(E.key,E.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(t,e,i,r){lt()}Ds(t,e){return ae.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new MV(this)}getSize(t){return ae.resolve(this.size)}}class MV extends CO{constructor(t){super(),this.rs=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.rs.addEntry(t,r)):this.rs.removeEntry(i)}),ae.waitFor(e)}getFromCache(t,e){return this.rs.getEntry(t,e)}getAllFromCache(t,e){return this.rs.getEntries(t,e)}}class RV{constructor(t){this.persistence=t,this.Cs=new Gs(e=>$u(e),tm),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.xs=0,this.Ns=new cA,this.targetCount=0,this.ks=um.Nn()}forEachTarget(t,e){return this.Cs.forEach((i,r)=>e(r)),ae.resolve()}getLastRemoteSnapshotVersion(t){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ae.resolve(this.xs)}allocateTargetId(t){return this.highestTargetId=this.ks.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.xs&&(this.xs=e),ae.resolve()}$n(t){this.Cs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ks=new um(e),this.highestTargetId=e),t.sequenceNumber>this.xs&&(this.xs=t.sequenceNumber)}addTargetData(t,e){return this.$n(e),this.targetCount+=1,ae.resolve()}updateTargetData(t,e){return this.$n(e),ae.resolve()}removeTargetData(t,e){return this.Cs.delete(e.target),this.Ns.ps(e.targetId),this.targetCount-=1,ae.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Cs.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Cs.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),ae.waitFor(o).next(()=>r)}getTargetCount(t){return ae.resolve(this.targetCount)}getTargetData(t,e){const i=this.Cs.get(e)||null;return ae.resolve(i)}addMatchingKeys(t,e,i){return this.Ns.ws(e,i),ae.resolve()}removeMatchingKeys(t,e,i){this.Ns.ys(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),ae.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.Ns.ps(e),ae.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ns.Ts(e);return ae.resolve(i)}containsKey(t,e){return ae.resolve(this.Ns.containsKey(e))}}class uA{constructor(t,e){this.Ms={},this.overlays={},this.Os=new wo(0),this.$s=!1,this.$s=!0,this.referenceDelegate=t(this),this.Fs=new RV(this),this.indexManager=new _V,this.remoteDocumentCache=new AV(i=>this.referenceDelegate.Bs(i)),this.serializer=new eO(e),this.Ls=new IV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new SV,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Ms[t.toKey()];return i||(i=new TV(e,this.referenceDelegate),this.Ms[t.toKey()]=i),i}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(t,e,i){Ve("MemoryPersistence","Starting transaction:",t);const r=new kV(this.Os.next());return this.referenceDelegate.qs(),i(r).next(o=>this.referenceDelegate.Us(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ks(t,e){return ae.or(Object.values(this.Ms).map(i=>()=>i.containsKey(t,e)))}}class kV extends Tb{constructor(t){super(),this.currentSequenceNumber=t}}class xE{constructor(t){this.persistence=t,this.Gs=new cA,this.Qs=null}static js(t){return new xE(t)}get zs(){if(this.Qs)return this.Qs;throw lt()}addReference(t,e,i){return this.Gs.addReference(i,e),this.zs.delete(i.toString()),ae.resolve()}removeReference(t,e,i){return this.Gs.removeReference(i,e),this.zs.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(t,e){return this.zs.add(e.toString()),ae.resolve()}removeTarget(t,e){this.Gs.ps(e.targetId).forEach(r=>this.zs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.zs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}qs(){this.Qs=new Set}Us(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.zs,i=>{const r=Je.fromPath(i);return this.Ws(t,r).next(o=>{o||e.removeEntry(r,It.min())})}).next(()=>(this.Qs=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ws(t,e).next(i=>{i?this.zs.delete(e.toString()):this.zs.add(e.toString())})}Bs(t){return 0}Ws(t,e){return ae.or([()=>ae.resolve(this.Gs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ks(t,e)])}}class OV{constructor(t){this.serializer=t}$(t,e,i,r){const o=new Bh("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Mb,{unique:!0}),h.createObjectStore("documentMutations"),TO(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),TO(t)),u=u.next(()=>function(h){const g=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,g){return g.store("mutations").j().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Mb,{unique:!0});const E=g.store("mutations"),S=v.map(V=>E.put(V));return ae.waitFor(S)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Js(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ys(o)))),i<7&&r>=7&&(u=u.next(()=>this.Xs(o))),i<8&&r>=8&&(u=u.next(()=>this.Zs(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.ti(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:T1});g.createIndex("collectionPathOverlayIndex",qD,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",A1,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:UD});g.createIndex("documentKeyIndex",TT),g.createIndex("collectionGroupIndex",AT)}(t)).next(()=>this.ei(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.ni(t,o))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:$D}).createIndex("sequenceNumberIndex",GD,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:RT}).createIndex("documentKeyIndex",kT,{unique:!1})}(t))),u}Ys(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=CE(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Js(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>ae.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",u).next(h=>ae.forEach(h,g=>{Dt(g.userId===o.userId);const v=am(this.serializer,g);return mO(t,o.userId,v).next(()=>{})}))}))}Xs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((u,h)=>{const g=new vn(u),v=[0,oo(g)];o.push(e.get(v).next(E=>E?ae.resolve():e.put({targetId:0,path:oo(g),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(o))})}Zs(t,e){t.createObjectStore("collectionParents",{keyPath:zD});const i=e.store("collectionParents"),r=new lA,o=u=>{if(r.add(u)){const h=u.lastSegment(),g=u.popLast();return i.put({collectionId:h,parent:oo(g)})}};return e.store("remoteDocuments").X({Y:!0},(u,h)=>{const g=new vn(u);return o(g.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([u,h,g],v)=>{const E=Oa(h);return o(E.popLast())}))}ti(t){const e=t.store("targets");return e.X((i,r)=>{const o=d0(r),u=nO(this.serializer,o);return e.put(u)})}ei(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((o,u)=>{const h=e.store("remoteDocumentsV14"),g=(v=u,v.document?new Je(vn.fromString(v.document.name).popFirst(5)):v.noDocument?Je.fromSegments(v.noDocument.path):v.unknownDocument?Je.fromSegments(v.unknownDocument.path):lt()).path.toArray();var v;const E={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(E))}).next(()=>ae.waitFor(r))}ni(t,e){const i=e.store("mutations"),r=DO(this.serializer),o=new uA(xE.js,this.serializer.le);return i.j().next(u=>{const h=new Map;return u.forEach(g=>{var v;let E=null!==(v=h.get(g.userId))&&void 0!==v?v:hn();am(this.serializer,g).keys().forEach(S=>E=E.add(S)),h.set(g.userId,E)}),ae.forEach(h,(g,v)=>{const E=new Qi(v),S=yE.fe(this.serializer,E),V=o.getIndexManager(E),z=DE.fe(E,this.serializer,V,o.referenceDelegate);return new SO(r,z,S,V).recalculateAndSaveOverlaysForDocumentKeys(new YD(e,wo.ct),g).next()})})}}function TO(n){n.createObjectStore("targetDocuments",{keyPath:MT}).createIndex("documentTargetsIndex",jD,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",HD,{unique:!0}),n.createObjectStore("targetGlobal")}const dA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hA{constructor(t,e,i,r,o,u,h,g,v,E,S=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.si=o,this.window=u,this.document=h,this.ii=v,this.ri=E,this.oi=S,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=V=>Promise.resolve(),!hA.D())throw new Me(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CV(this,r),this.fi=e+"main",this.serializer=new eO(g),this.di=new fs(this.fi,this.oi,new OV(this.serializer)),this.Fs=new vV(this.referenceDelegate,this.serializer),this.remoteDocumentCache=DO(this.serializer),this.Ls=new uV,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===E&&Hi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(fe.FAILED_PRECONDITION,dA);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Fs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new wo(t,this.ii)}).then(()=>{this.$s=!0}).catch(t=>(this.di&&this.di.close(),Promise.reject(t)))}pi(t){var e=this;return this.li=function(){var i=(0,we.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.di.B(function(){var e=(0,we.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.si.enqueueAndForget((0,we.Z)(function*(){e.started&&(yield e.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>SE(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(t).next(e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(t)).next(e=>this.isPrimary&&!e?this.Ei(t).next(()=>!1):!!e&&this.Ai(t).next(()=>!0))).catch(t=>{if(ka(t))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.si.enqueueRetryable(()=>this.li(t)),this.isPrimary=t})}Ii(t){return _0(t).get("owner").next(e=>ae.resolve(this.Ri(e)))}vi(t){return SE(t).delete(this.clientId)}Pi(){var t=this;return(0,we.Z)(function*(){if(t.isPrimary&&!t.bi(t.hi,18e5)){t.hi=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Pr(i,"clientMetadata");return r.j().next(o=>{const u=t.Vi(o,18e5),h=o.filter(g=>-1===u.indexOf(g));return ae.forEach(h,g=>r.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Si(i.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ti(t){return this.ri?ae.resolve(!0):_0(t).get("owner").next(e=>{if(null!==e&&this.bi(e.leaseTimestampMs,5e3)&&!this.Di(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Me(fe.FAILED_PRECONDITION,dA);return!1}}return!(!this.networkEnabled||!this.inForeground)||SE(t).j().next(i=>void 0===this.Vi(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Ve("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,we.Z)(function*(){t.$s=!1,t.Ci(),t.ai&&(t.ai.cancel(),t.ai=null),t.xi(),t.Ni(),yield t.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new YD(e,wo.ct);return t.Ei(i).next(()=>t.vi(i))}),t.di.close(),t.ki()})()}Vi(t,e){return t.filter(i=>this.bi(i.updateTimeMs,e)&&!this.Di(i.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",t=>SE(t).j().next(e=>this.Vi(e,18e5).map(i=>i.clientId)))}get started(){return this.$s}getMutationQueue(t,e){return DE.fe(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new yV(t,this.serializer.le.databaseId)}getDocumentOverlayCache(t){return yE.fe(this.serializer,t)}getBundleCache(){return this.Ls}runTransaction(t,e,i){Ve("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(u=this.oi)?R1:14===u?FT:13===u?PT:12===u?M1:11===u?OT:void lt();var u;let h;return this.di.runTransaction(t,r,o,g=>(h=new YD(g,this.Os?this.Os.next():wo.ct),"readwrite-primary"===e?this.Ii(h).next(v=>!!v||this.Ti(h)).next(v=>{if(!v)throw Hi(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new Me(fe.FAILED_PRECONDITION,OD);return i(h)}).next(v=>this.Ai(h).next(()=>v)):this.Oi(h).next(()=>i(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Oi(t){return _0(t).get("owner").next(e=>{if(null!==e&&this.bi(e.leaseTimestampMs,5e3)&&!this.Di(e.ownerId)&&!this.Ri(e)&&!(this.ri||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Me(fe.FAILED_PRECONDITION,dA)})}Ai(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _0(t).put("owner",e)}static D(){return fs.D()}Ei(t){const e=_0(t);return e.get("owner").next(i=>this.Ri(i)?(Ve("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ae.resolve())}bi(t,e){const i=Date.now();return!(t<i-e||t>i&&(Hi(`Detected an update time that is in the future: ${t} > ${i}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ui=()=>{this.Ci();const e=/(?:Version|Mobile)\/1[456]/;(0,wn.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Si(t)));return Ve("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Hi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(t){Hi("Failed to set zombie client id.",t)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function _0(n){return Pr(n,"owner")}function SE(n){return Pr(n,"clientMetadata")}function fA(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class pA{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.$i=i,this.Fi=r}static Bi(t,e){let i=hn(),r=hn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new pA(t,e.fromCache,i,r)}}class AO{constructor(){this.Li=!1}initialize(t,e){this.qi=t,this.indexManager=e,this.Li=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ui(t,e).next(o=>o||this.Ki(t,e,r,i)).next(o=>o||this.Gi(t,e))}Ui(t,e){if(jT(e))return ae.resolve(null);let i=so(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=E_(e,null,"F"),i=so(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=hn(...o);return this.qi.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(g=>{const v=this.Qi(e,h);return this.ji(e,v,u,g.readTime)?this.Ui(t,E_(e,null,"F")):this.zi(t,v,e,g)}))})))}Ki(t,e,i,r){return jT(e)||r.isEqual(It.min())?this.Gi(t,e):this.qi.getDocuments(t,i).next(o=>{const u=this.Qi(e,o);return this.ji(e,u,i,r)?this.Gi(t,e):(Wp()<=_l.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rl(e)),this.zi(t,u,e,m_(r,-1)))})}Qi(t,e){let i=new ci(I_(t));return e.forEach((r,o)=>{Yh(t,o)&&(i=i.add(o))}),i}ji(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Gi(t,e){return Wp()<=_l.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",Rl(e)),this.qi.getDocumentsMatchingQuery(t,e,Vo.min())}zi(t,e,i,r){return this.qi.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}class PV{constructor(t,e,i,r){this.persistence=t,this.Wi=e,this.serializer=r,this.Hi=new An(Kt),this.Ji=new Gs(o=>$u(o),tm),this.Yi=new Map,this.Xi=t.getRemoteDocumentCache(),this.Fs=t.getTargetCache(),this.Ls=t.getBundleCache(),this.Zi(i)}Zi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SO(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Hi))}}function MO(n,t,e,i){return new PV(n,t,e,i)}function RO(n,t){return mA.apply(this,arguments)}function mA(){return mA=(0,we.Z)(function*(n,t){const e=tt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Zi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let g=hn();for(const v of r){u.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}for(const v of o){h.push(v.batchId);for(const E of v.mutations)g=g.add(E.key)}return e.localDocuments.getDocuments(i,g).next(v=>({tr:v,removedBatchIds:u,addedBatchIds:h}))})})}),mA.apply(this,arguments)}function kO(n){const t=tt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Fs.getLastRemoteSnapshotVersion(e))}function OO(n,t,e){let i=hn(),r=hn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=Fr();return e.forEach((h,g)=>{const v=o.get(h);g.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),g.isNoDocument()&&g.version.isEqual(It.min())?(t.removeEntry(h,g.readTime),u=u.insert(h,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(t.addEntry(g),u=u.insert(h,g)):Ve("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",g.version)}),{er:u,nr:r}})}function LV(n,t){const e=tt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function L_(n,t){const e=tt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Fs.getTargetData(i,t).next(o=>o?(r=o,ae.resolve(r)):e.Fs.allocateTargetId(i).next(u=>(r=new qu(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.Fs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Hi.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Hi=e.Hi.insert(i.targetId,i),e.Ji.set(t,i.targetId)),i})}function V_(n,t,e){return gA.apply(this,arguments)}function gA(){return gA=(0,we.Z)(function*(n,t,e){const i=tt(n),r=i.Hi.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!ka(u))throw u;Ve("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.Hi=i.Hi.remove(t),i.Ji.delete(r.target)}),gA.apply(this,arguments)}function TE(n,t,e){const i=tt(n);let r=It.min(),o=hn();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,g,v){const E=tt(h),S=E.Ji.get(v);return void 0!==S?ae.resolve(E.Hi.get(S)):E.Fs.getTargetData(g,v)}(i,u,so(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Fs.getMatchingKeysForTargetId(u,h.targetId).next(g=>{o=g})}).next(()=>i.Wi.getDocumentsMatchingQuery(u,t,e?r:It.min(),e?o:hn())).next(h=>(NO(i,x_(t),h),{documents:h,sr:o})))}function PO(n,t){const e=tt(n),i=tt(e.Fs),r=e.Hi.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.he(o,t).next(u=>u?u.target:null))}function FO(n,t){const e=tt(n),i=e.Yi.get(t)||It.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Xi.getAllFromCollectionGroup(r,t,m_(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(NO(e,t,r),r))}function NO(n,t,e){let i=n.Yi.get(t)||It.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Yi.set(t,i)}function _A(){return _A=(0,we.Z)(function*(n,t,e,i){const r=tt(n);let o=hn(),u=Fr();for(const v of e){const E=t.ir(v.metadata.name);v.document&&(o=o.add(E));const S=t.rr(v);S.setReadTime(t.ur(v.metadata.readTime)),u=u.insert(E,S)}const h=r.Xi.newChangeBuffer({trackRemovals:!0}),g=yield L_(r,(v=i,so($h(vn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>OO(v,h,u).next(E=>(h.apply(v),E)).next(E=>r.Fs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>r.Fs.addMatchingKeys(v,o,g.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,E.er,E.nr)).next(()=>E.er)))}),_A.apply(this,arguments)}function BV(n,t){return yA.apply(this,arguments)}function yA(){return yA=(0,we.Z)(function*(n,t,e=hn()){const i=yield L_(n,so(nA(t.bundledQuery))),r=tt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=sr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ls.saveNamedQuery(o,t);const h=i.withResumeToken(or.EMPTY_BYTE_STRING,u);return r.Hi=r.Hi.insert(h.targetId,h),r.Fs.updateTargetData(o,h).next(()=>r.Fs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Fs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ls.saveNamedQuery(o,t))})}),yA.apply(this,arguments)}function LO(n,t){return`firestore_clients_${n}_${t}`}function VO(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function vA(n,t){return`firestore_targets_${n}_${t}`}class AE{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static cr(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Me(r.error.code,r.error.message))),u?new AE(t,e,r.state,o):(Hi("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}ar(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class y0{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static cr(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Me(i.error.code,i.error.message))),o?new y0(t,i.state,r):(Hi("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}ar(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class ME{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static cr(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=T_();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=ND(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new ME(t,o):(Hi("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class bA{constructor(t,e){this.clientId=t,this.onlineState=e}static cr(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new bA(e.clientId,e.onlineState):(Hi("SharedClientState",`Failed to parse online state: ${t}`),null)}}class wA{constructor(){this.activeTargetIds=T_()}hr(t){this.activeTargetIds=this.activeTargetIds.add(t)}lr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ar(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class CA{constructor(t,e,i,r,o){this.window=t,this.si=e,this.persistenceKey=i,this.dr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new An(Kt),this.started=!1,this.gr=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.yr=LO(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new wA),this.Ir=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,we.Z)(function*(){const e=yield t.syncEngine.Mi();for(const r of e){if(r===t.dr)continue;const o=t.getItem(LO(t.persistenceKey,r));if(o){const u=ME.cr(r,o);u&&(t.mr=t.mr.insert(u.clientId,u))}}t.vr();const i=t.storage.getItem(t.Ar);if(i){const r=t.Pr(i);r&&t.br(r)}for(const r of t.gr)t.wr(r);t.gr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.pr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(t){let e=!1;return this.mr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Sr(t,"pending")}updateMutationState(t,e,i){this.Sr(t,e,i),this.Dr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(vA(this.persistenceKey,t));if(i){const r=y0.cr(t,i);r&&(e=r.state)}}return this.Cr.hr(t),this.vr(),e}removeLocalQueryTarget(t){this.Cr.lr(t),this.vr()}isLocalQueryTarget(t){return this.Cr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(vA(this.persistenceKey,t))}updateQueryState(t,e,i){this.Nr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Dr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.kr(t)}notifyBundleLoaded(t){this.Mr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ve("SharedClientState","READ",t,e),e}setItem(t,e){Ve("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ve("SharedClientState","REMOVE",t),this.storage.removeItem(t)}wr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ve("SharedClientState","EVENT",i.key,i.newValue),i.key===this.yr)return void Hi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,we.Z)(function*(){if(e.started){if(null!==i.key)if(e.Ir.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.$r(r,null)}{const r=e.Fr(i.key,i.newValue);if(r)return e.$r(r.clientId,r)}}else if(e.Tr.test(i.key)){if(null!==i.newValue){const r=e.Br(i.key,i.newValue);if(r)return e.Lr(r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.qr(i.key,i.newValue);if(r)return e.Ur(r)}}else if(i.key===e.Ar){if(null!==i.newValue){const r=e.Pr(i.newValue);if(r)return e.br(r)}}else if(i.key===e.pr){const r=function(o){let u=wo.ct;if(null!=o)try{const h=JSON.parse(o);Dt("number"==typeof h),u=h}catch(h){Hi("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==wo.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Kr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Gr(o)))}}else e.gr.push(i)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(t,e,i){const r=new AE(this.currentUser,t,e,i),o=VO(this.persistenceKey,this.currentUser,t);this.setItem(o,r.ar())}Dr(t){const e=VO(this.persistenceKey,this.currentUser,t);this.removeItem(e)}kr(t){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:t}))}Nr(t,e,i){const r=vA(this.persistenceKey,t),o=new y0(t,e,i);this.setItem(r,o.ar())}Mr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Ir.exec(t);return e?e[1]:null}Fr(t,e){const i=this.Or(t);return ME.cr(i,e)}Br(t,e){const i=this.Tr.exec(t),r=Number(i[1]);return AE.cr(new Qi(void 0!==i[2]?i[2]:null),r,e)}qr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return y0.cr(r,e)}Pr(t){return bA.cr(t)}Kr(t){return JSON.parse(t)}Lr(t){var e=this;return(0,we.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Qr(t.batchId,t.state,t.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Ur(t){return this.syncEngine.jr(t.targetId,t.state,t.error)}$r(t,e){const i=e?this.mr.insert(t,e):this.mr.remove(t),r=this.Vr(this.mr),o=this.Vr(i),u=[],h=[];return o.forEach(g=>{r.has(g)||u.push(g)}),r.forEach(g=>{o.has(g)||h.push(g)}),this.syncEngine.zr(u,h).then(()=>{this.mr=i})}br(t){this.mr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Vr(t){let e=T_();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class BO{constructor(){this.Wr=new wA,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Wr.hr(t),this.Hr[t]||"not-current"}updateQueryState(t,e,i){this.Hr[t]=e}removeLocalQueryTarget(t){this.Wr.lr(t)}isLocalQueryTarget(t){return this.Wr.activeTargetIds.has(t)}clearQueryState(t){delete this.Hr[t]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(t){return this.Wr.activeTargetIds.has(t)}start(){return this.Wr=new wA,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class UV{Jr(t){}shutdown(){}}class UO{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(t){this.no.push(t)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.no)t(0)}eo(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.no)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let RE=null;function DA(){return null===RE?RE=268435456+Math.round(2147483648*Math.random()):RE++,"0x"+RE.toString(16)}const HV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jV{constructor(t){this.io=t.io,this.ro=t.ro}oo(t){this.uo=t}co(t){this.ao=t}onMessage(t){this.ho=t}close(){this.ro()}send(t){this.io(t)}lo(){this.uo()}fo(t){this.ao(t)}_o(t){this.ho(t)}}const Eo="WebChannelConnection";class zV extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.wo=(t.ssl?"https":"http")+"://"+t.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(t,e,i,r,o){const u=DA(),h=this.Io(t,e);Ve("RestConnection",`Sending RPC '${t}' ${u}:`,h,i);const g={};return this.To(g,r,o),this.Eo(t,h,g,i).then(v=>(Ve("RestConnection",`Received RPC '${t}' ${u}: `,v),v),v=>{throw hs("RestConnection",`RPC '${t}' ${u} failed with error: `,v,"url: ",h,"request:",i),v})}Ao(t,e,i,r,o,u){return this.po(t,e,i,r,o)}To(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+ro,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}Io(t,e){return`${this.wo}/v1/${e}:${HV[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}Eo(t,e,i,r){const o=DA();return new Promise((u,h)=>{const g=new vT;g.setWithCredentials(!0),g.listenOnce(_T.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case d_.NO_ERROR:const E=g.getResponseJson();Ve(Eo,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(E)),u(E);break;case d_.TIMEOUT:Ve(Eo,`RPC '${t}' ${o} timed out`),h(new Me(fe.DEADLINE_EXCEEDED,"Request time out"));break;case d_.HTTP_ERROR:const S=g.getStatus();if(Ve(Eo,`RPC '${t}' ${o} failed with status:`,S,"response text:",g.getResponseText()),S>0){let V=g.getResponseJson();Array.isArray(V)&&(V=V[0]);const z=V?.error;if(z&&z.status&&z.message){const X=function(ne){const he=ne.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(he)>=0?he:fe.UNKNOWN}(z.status);h(new Me(X,z.message))}else h(new Me(fe.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new Me(fe.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Ve(Eo,`RPC '${t}' ${o} completed.`)}});const v=JSON.stringify(r);Ve(Eo,`RPC '${t}' ${o} sending request:`,r),g.send(e,"POST",v,i,15)})}Ro(t,e,i){const r=DA(),o=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=SD(),h=TD(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new yT({})),this.To(g.initMessageHeaders,e,i),g.encodeInitMessageHeaders=!0;const v=o.join("");Ve(Eo,`Creating RPC '${t}' stream ${r}: ${v}`,g);const E=u.createWebChannel(v,g);let S=!1,V=!1;const z=new jV({io:ne=>{V?Ve(Eo,`Not sending because RPC '${t}' stream ${r} is closed:`,ne):(S||(Ve(Eo,`Opening RPC '${t}' stream ${r} transport.`),E.open(),S=!0),Ve(Eo,`RPC '${t}' stream ${r} sending:`,ne),E.send(ne))},ro:()=>E.close()}),X=(ne,he,$e)=>{ne.listen(he,at=>{try{$e(at)}catch(it){setTimeout(()=>{throw it},0)}})};return X(E,h_.EventType.OPEN,()=>{V||Ve(Eo,`RPC '${t}' stream ${r} transport opened.`)}),X(E,h_.EventType.CLOSE,()=>{V||(V=!0,Ve(Eo,`RPC '${t}' stream ${r} transport closed`),z.fo())}),X(E,h_.EventType.ERROR,ne=>{V||(V=!0,hs(Eo,`RPC '${t}' stream ${r} transport errored:`,ne),z.fo(new Me(fe.UNAVAILABLE,"The operation could not be completed")))}),X(E,h_.EventType.MESSAGE,ne=>{var he;if(!V){const $e=ne.data[0];Dt(!!$e);const it=$e.error||(null===(he=$e[0])||void 0===he?void 0:he.error);if(it){Ve(Eo,`RPC '${t}' stream ${r} received error:`,it);const wt=it.status;let zt=function(Rn){const Wr=Y[Rn];if(void 0!==Wr)return ze(Wr)}(wt),dn=it.message;void 0===zt&&(zt=fe.INTERNAL,dn="Unknown error status: "+wt+" with message "+it.message),V=!0,z.fo(new Me(zt,dn)),E.close()}else Ve(Eo,`RPC '${t}' stream ${r} received:`,$e),z._o($e)}}),X(h,E1.STAT_EVENT,ne=>{ne.stat===Cb.PROXY?Ve(Eo,`RPC '${t}' stream ${r} detected buffering proxy`):ne.stat===Cb.NOPROXY&&Ve(Eo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{z.lo()},0),z}}function HO(){return typeof window<"u"?window:null}function kE(){return typeof document<"u"?document:null}function v0(n){return new J2(n,!0)}class EA{constructor(t,e,i=1e3,r=1.5,o=6e4){this.si=t,this.timerId=e,this.vo=i,this.Po=r,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(t){this.cancel();const e=Math.floor(this.Vo+this.No()),i=Math.max(0,Date.now()-this.Do),r=Math.max(0,e-i);r>0&&Ve("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Vo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Do=Date.now(),t())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class jO{constructor(t,e,i,r,o,u,h,g){this.si=t,this.Mo=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new EA(t,e)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var t=this;return(0,we.Z)(function*(){t.qo()&&(yield t.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(t){this.Wo(),this.stream.send(t)}jo(){var t=this;return(0,we.Z)(function*(){if(t.Uo())return t.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(t,e){var i=this;return(0,we.Z)(function*(){i.Wo(),i.Ho(),i.Lo.cancel(),i.$o++,4!==t?i.Lo.reset():e&&e.code===fe.RESOURCE_EXHAUSTED?(Hi(e.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),i.Lo.Co()):e&&e.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Jo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.co(e)})()}Jo(){}auth(){this.state=1;const t=this.Yo(this.$o),e=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.$o===e&&this.Xo(i,r)},i=>{t(()=>{const r=new Me(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Zo(r)})})}Xo(t,e){const i=this.Yo(this.$o);this.stream=this.tu(t,e),this.stream.oo(()=>{i(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(r=>{i(()=>this.Zo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Ko(){var t=this;this.state=5,this.Lo.xo((0,we.Z)(function*(){t.state=0,t.start()}))}Zo(t){return Ve("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Yo(t){return e=>{this.si.enqueueAndForget(()=>this.$o===t?e():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $V extends jO{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.serializer=o}tu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.Lo.reset();const e=function nV(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(g=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:lt(),r=t.targetChange.targetIds||[],o=function(g,v){return g.useProto3Json?(Dt(void 0===v||"string"==typeof v),or.fromBase64String(v||"")):(Dt(void 0===v||v instanceof Uint8Array),or.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(g){const v=void 0===g.code?fe.UNKNOWN:ze(g.code);return new Me(v,g.message||"")}(u);e=new B1(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Nc(n,i.document.name),o=sr(i.document.updateTime),u=i.document.createTime?sr(i.document.createTime):It.min(),h=new xr({mapValue:{fields:i.document.fields}}),g=Un.newFoundDocument(r,o,u,h);e=new gE(i.targetIds||[],i.removedTargetIds||[],g.key,g)}else if("documentDelete"in t){const i=t.documentDelete,r=Nc(n,i.document),o=i.readTime?sr(i.readTime):It.min(),u=Un.newNoDocument(r,o);e=new gE([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Nc(n,i.document);e=new gE([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return lt();{const i=t.filter,{count:r=0,unchangedNames:o}=i,u=new H(r,o);e=new V1(i.targetId,u)}}var g;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return It.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?It.min():o.readTime?sr(o.readTime):It.min()}(t);return this.listener.eu(e,i)}nu(t){const e={};e.database=c0(this.serializer),e.addTarget=function(r,o){let u;const h=o.target;if(u=Wb(h)?{documents:Z1(r,h)}:{query:tA(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){u.resumeToken=z1(r,o.resumeToken);const g=QT(r,o.expectedCount);null!==g&&(u.expectedCount=g)}else if(o.snapshotVersion.compareTo(It.min())>0){u.readTime=O_(r,o.snapshotVersion.toTimestamp());const g=QT(r,o.expectedCount);null!==g&&(u.expectedCount=g)}return u}(this.serializer,t);const i=function rV(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.zo(e)}su(t){const e={};e.database=c0(this.serializer),e.removeTarget=t,this.zo(e)}}class GV extends jO{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.serializer=o,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(Dt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.iu){this.Lo.reset();const e=function iV(n,t){return n&&n.length>0?(Dt(void 0!==t),n.map(e=>function(i,r){let o=sr(i.updateTime?i.updateTime:r);return o.isEqual(It.min())&&(o=sr(r)),new F1(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=sr(t.commitTime);return this.listener.uu(i,e)}return Dt(!t.writeResults||0===t.writeResults.length),this.iu=!0,this.listener.cu()}au(){const t={};t.database=c0(this.serializer),this.zo(t)}ou(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>u0(this.serializer,i))};this.zo(e)}}class qV extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.hu=!1}lu(){if(this.hu)throw new Me(fe.FAILED_PRECONDITION,"The client has already been terminated.")}po(t,e,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.po(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Me(fe.UNKNOWN,r.toString())})}Ao(t,e,i,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Ao(t,e,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(fe.UNKNOWN,o.toString())})}terminate(){this.hu=!0}}class WV{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(t){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.gu("Offline")))}set(t){this.Iu(),this.du=0,"Online"===t&&(this.wu=!1),this.gu(t)}gu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}yu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(Hi(e),this.wu=!1):Ve("OnlineStateTracker",e)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class ZV{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=o,this.vu.Jr(h=>{i.enqueueAndForget((0,we.Z)(function*(){var g;ef(u)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,we.Z)(function*(v){const E=tt(v);E.Au.add(4),yield B_(E),E.Pu.set("Unknown"),E.Au.delete(4),yield b0(E)}),function(v){return g.apply(this,arguments)})(u))}))}),this.Pu=new WV(i,r)}}function b0(n){return IA.apply(this,arguments)}function IA(){return IA=(0,we.Z)(function*(n){if(ef(n))for(const t of n.Ru)yield t(!0)}),IA.apply(this,arguments)}function B_(n){return SA.apply(this,arguments)}function SA(){return SA=(0,we.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),SA.apply(this,arguments)}function OE(n,t){const e=tt(n);e.Eu.has(t.targetId)||(e.Eu.set(t.targetId,t),MA(e)?AA(e):H_(e).Uo()&&TA(e,t))}function w0(n,t){const e=tt(n),i=H_(e);e.Eu.delete(t),i.Uo()&&zO(e,t),0===e.Eu.size&&(i.Uo()?i.Qo():ef(e)&&e.Pu.set("Unknown"))}function TA(n,t){if(n.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}H_(n).nu(t)}function zO(n,t){n.bu.Lt(t),H_(n).su(t)}function AA(n){n.bu=new Z2({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),he:t=>n.Eu.get(t)||null,oe:()=>n.datastore.serializer.databaseId}),H_(n).start(),n.Pu.mu()}function MA(n){return ef(n)&&!H_(n).qo()&&n.Eu.size>0}function ef(n){return 0===tt(n).Au.size}function $O(n){n.bu=void 0}function KV(n){return RA.apply(this,arguments)}function RA(){return RA=(0,we.Z)(function*(n){n.Eu.forEach((t,e)=>{TA(n,t)})}),RA.apply(this,arguments)}function QV(n,t){return kA.apply(this,arguments)}function kA(){return kA=(0,we.Z)(function*(n,t){$O(n),MA(n)?(n.Pu.pu(t),AA(n)):n.Pu.set("Unknown")}),kA.apply(this,arguments)}function XV(n,t,e){return OA.apply(this,arguments)}function OA(){return OA=(0,we.Z)(function*(n,t,e){if(n.Pu.set("Online"),t instanceof B1&&2===t.state&&t.cause)try{yield(i=(0,we.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r.Eu.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.Eu.delete(h),r.bu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Ve("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield PE(n,i)}else if(t instanceof gE?n.bu.Wt(t):t instanceof V1?n.bu.ee(t):n.bu.Yt(t),!e.isEqual(It.min()))try{const i=yield kO(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.bu.ue(o);return u.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const v=r.Eu.get(g);v&&r.Eu.set(g,v.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach((h,g)=>{const v=r.Eu.get(h);if(!v)return;r.Eu.set(h,v.withResumeToken(or.EMPTY_BYTE_STRING,v.snapshotVersion)),zO(r,h);const E=new qu(v.target,h,g,v.sequenceNumber);TA(r,E)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){Ve("RemoteStore","Failed to raise snapshot:",i),yield PE(n,i)}var i}),OA.apply(this,arguments)}function PE(n,t,e){return PA.apply(this,arguments)}function PA(){return PA=(0,we.Z)(function*(n,t,e){if(!ka(t))throw t;n.Au.add(1),yield B_(n),n.Pu.set("Offline"),e||(e=()=>kO(n.localStore)),n.asyncQueue.enqueueRetryable((0,we.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield e(),n.Au.delete(1),yield b0(n)}))}),PA.apply(this,arguments)}function GO(n,t){return t().catch(e=>PE(n,e,t))}function U_(n){return FA.apply(this,arguments)}function FA(){return FA=(0,we.Z)(function*(n){const t=tt(n),e=tf(t);let i=t.Tu.length>0?t.Tu[t.Tu.length-1].batchId:-1;for(;JV(t);)try{const r=yield LV(t.localStore,i);if(null===r){0===t.Tu.length&&e.Qo();break}i=r.batchId,eB(t,r)}catch(r){yield PE(t,r)}qO(t)&&YO(t)}),FA.apply(this,arguments)}function JV(n){return ef(n)&&n.Tu.length<10}function eB(n,t){n.Tu.push(t);const e=tf(n);e.Uo()&&e.ru&&e.ou(t.mutations)}function qO(n){return ef(n)&&!tf(n).qo()&&n.Tu.length>0}function YO(n){tf(n).start()}function tB(n){return NA.apply(this,arguments)}function NA(){return NA=(0,we.Z)(function*(n){tf(n).au()}),NA.apply(this,arguments)}function nB(n){return LA.apply(this,arguments)}function LA(){return LA=(0,we.Z)(function*(n){const t=tf(n);for(const e of n.Tu)t.ou(e.mutations)}),LA.apply(this,arguments)}function iB(n,t,e){return VA.apply(this,arguments)}function VA(){return VA=(0,we.Z)(function*(n,t,e){const i=n.Tu.shift(),r=I.from(i,t,e);yield GO(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield U_(n)}),VA.apply(this,arguments)}function rB(n,t){return BA.apply(this,arguments)}function BA(){return BA=(0,we.Z)(function*(n,t){var e;t&&tf(n).ru&&(yield(e=(0,we.Z)(function*(i,r){if(De(o=r.code)&&o!==fe.ABORTED){const u=i.Tu.shift();tf(i).Go(),yield GO(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield U_(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),qO(n)&&YO(n)}),BA.apply(this,arguments)}function WO(n,t){return UA.apply(this,arguments)}function UA(){return UA=(0,we.Z)(function*(n,t){const e=tt(n);e.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const i=ef(e);e.Au.add(3),yield B_(e),i&&e.Pu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.Au.delete(3),yield b0(e)}),UA.apply(this,arguments)}function HA(n,t){return jA.apply(this,arguments)}function jA(){return jA=(0,we.Z)(function*(n,t){const e=tt(n);t?(e.Au.delete(2),yield b0(e)):t||(e.Au.add(2),yield B_(e),e.Pu.set("Unknown"))}),jA.apply(this,arguments)}function H_(n){return n.Vu||(n.Vu=function(t,e,i){const r=tt(t);return r.lu(),new $V(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:KV.bind(null,n),co:QV.bind(null,n),eu:XV.bind(null,n)}),n.Ru.push(function(){var t=(0,we.Z)(function*(e){e?(n.Vu.Go(),MA(n)?AA(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),$O(n))});return function(e){return t.apply(this,arguments)}}())),n.Vu}function tf(n){return n.Su||(n.Su=function(t,e,i){const r=tt(t);return r.lu(),new GV(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{oo:tB.bind(null,n),co:rB.bind(null,n),cu:nB.bind(null,n),uu:iB.bind(null,n)}),n.Ru.push(function(){var t=(0,we.Z)(function*(e){e?(n.Su.Go(),yield U_(n)):(yield n.Su.stop(),n.Tu.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Su}class zA{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new zA(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function j_(n,t){if(Hi("AsyncQueue",`${t}: ${n}`),ka(n))return new Me(fe.UNAVAILABLE,`${t}: ${n}`);throw n}class z_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Je.comparator(e.key,i.key):(e,i)=>Je.comparator(e.key,i.key),this.keyedMap=S_(),this.sortedSet=new An(this.comparator)}static emptySet(t){return new z_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof z_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new z_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class ZO{constructor(){this.Du=new An(Je.comparator)}track(t){const e=t.doc.key,i=this.Du.get(e);i?0!==t.type&&3===i.type?this.Du=this.Du.insert(e,t):3===t.type&&1!==i.type?this.Du=this.Du.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Du=this.Du.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Du=this.Du.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Du=this.Du.remove(e):1===t.type&&2===i.type?this.Du=this.Du.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Du=this.Du.insert(e,{type:2,doc:t.doc}):lt():this.Du=this.Du.insert(e,t)}Cu(){const t=[];return this.Du.inorderTraversal((e,i)=>{t.push(i)}),t}}class $_{constructor(t,e,i,r,o,u,h,g,v){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(t,e,i,r,o){const u=[];return e.forEach(h=>{u.push({type:0,doc:h})}),new $_(t,e,z_.emptySet(e),u,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&nm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class oB{constructor(){this.xu=void 0,this.listeners=[]}}class sB{constructor(){this.queries=new Gs(t=>Xb(t),nm),this.onlineState="Unknown",this.Nu=new Set}}function $A(n,t){return GA.apply(this,arguments)}function GA(){return GA=(0,we.Z)(function*(n,t){const e=tt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new oB),r)try{o.xu=yield e.onListen(i)}catch(u){const h=j_(u,`Initialization of query '${Rl(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.ku(e.onlineState),o.xu&&t.Mu(o.xu)&&WA(e)}),GA.apply(this,arguments)}function qA(n,t){return YA.apply(this,arguments)}function YA(){return YA=(0,we.Z)(function*(n,t){const e=tt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),YA.apply(this,arguments)}function aB(n,t){const e=tt(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Mu(r)&&(i=!0);u.xu=r}}i&&WA(e)}function lB(n,t,e){const i=tt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function WA(n){n.Nu.forEach(t=>{t.next()})}class ZA{constructor(t,e,i){this.query=t,this.Ou=e,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=i||{}}Mu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new $_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.$u?this.Bu(t)&&(this.Ou.next(t),e=!0):this.Lu(t,this.onlineState)&&(this.qu(t),e=!0),this.Fu=t,e}onError(t){this.Ou.error(t)}ku(t){this.onlineState=t;let e=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,t)&&(this.qu(this.Fu),e=!0),e}Lu(t,e){return!t.fromCache||(!this.options.Uu||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Bu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(t){t=$_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.$u=!0,this.Ou.next(t)}}class cB{constructor(t,e){this.Ku=t,this.byteLength=e}Gu(){return"metadata"in this.Ku}}class KO{constructor(t){this.serializer=t}ir(t){return Nc(this.serializer,t)}rr(t){return t.metadata.exists?W1(this.serializer,t.document,!1):Un.newNoDocument(this.ir(t.metadata.name),this.ur(t.metadata.readTime))}ur(t){return sr(t)}}class uB{constructor(t,e,i){this.Qu=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=QO(t)}ju(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Ku.namedQuery)this.queries.push(t.Ku.namedQuery);else if(t.Ku.documentMetadata){this.documents.push({metadata:t.Ku.documentMetadata}),t.Ku.documentMetadata.exists||++e;const i=vn.fromString(t.Ku.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Ku.document&&(this.documents[this.documents.length-1].document=t.Ku.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}zu(t){const e=new Map,i=new KO(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.ir(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||hn()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,we.Z)(function*(){const e=yield function VV(n,t,e,i){return _A.apply(this,arguments)}(t.localStore,new KO(t.serializer),t.documents,t.Qu.id),i=t.zu(t.documents);for(const r of t.queries)yield BV(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Wu:t.collectionGroups,Hu:e}})()}}function QO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class XO{constructor(t){this.key=t}}class JO{constructor(t){this.key=t}}class eP{constructor(t,e){this.query=t,this.Ju=e,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=hn(),this.mutatedKeys=hn(),this.Zu=I_(t),this.tc=new z_(this.Zu)}get ec(){return this.Ju}nc(t,e){const i=e?e.sc:new ZO,r=e?e.tc:this.tc;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const g="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((E,S)=>{const V=r.get(E),z=Yh(this.query,S)?S:null,X=!!V&&this.mutatedKeys.has(V.key),ne=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let he=!1;V&&z?V.data.isEqual(z.data)?X!==ne&&(i.track({type:3,doc:z}),he=!0):this.ic(V,z)||(i.track({type:2,doc:z}),he=!0,(g&&this.Zu(z,g)>0||v&&this.Zu(z,v)<0)&&(h=!0)):!V&&z?(i.track({type:0,doc:z}),he=!0):V&&!z&&(i.track({type:1,doc:V}),he=!0,(g||v)&&(h=!0)),he&&(z?(u=u.add(z),o=ne?o.add(E):o.delete(E)):(u=u.delete(E),o=o.delete(E)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const E="F"===this.query.limitType?u.last():u.first();u=u.delete(E.key),o=o.delete(E.key),i.track({type:1,doc:E})}return{tc:u,sc:i,ji:h,mutatedKeys:o}}ic(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.tc;this.tc=t.tc,this.mutatedKeys=t.mutatedKeys;const o=t.sc.Cu();o.sort((v,E)=>function(S,V){const z=X=>{switch(X){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return z(S)-z(V)}(v.type,E.type)||this.Zu(v.doc,E.doc)),this.rc(i);const u=e?this.oc():[],h=0===this.Xu.size&&this.current?1:0,g=h!==this.Yu;return this.Yu=h,0!==o.length||g?{snapshot:new $_(this.query,t.tc,r,o,t.mutatedKeys,0===h,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),uc:u}:{uc:u}}ku(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({tc:this.tc,sc:new ZO,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(t){return!this.Ju.has(t)&&!!this.tc.has(t)&&!this.tc.get(t).hasLocalMutations}rc(t){t&&(t.addedDocuments.forEach(e=>this.Ju=this.Ju.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ju=this.Ju.delete(e)),this.current=t.current)}oc(){if(!this.current)return[];const t=this.Xu;this.Xu=hn(),this.tc.forEach(i=>{this.cc(i.key)&&(this.Xu=this.Xu.add(i.key))});const e=[];return t.forEach(i=>{this.Xu.has(i)||e.push(new JO(i))}),this.Xu.forEach(i=>{t.has(i)||e.push(new XO(i))}),e}ac(t){this.Ju=t.sr,this.Xu=hn();const e=this.nc(t.documents);return this.applyChanges(e,!0)}hc(){return $_.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class dB{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class hB{constructor(t){this.key=t,this.lc=!1}}class fB{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.fc={},this.dc=new Gs(h=>Xb(h),nm),this._c=new Map,this.wc=new Set,this.mc=new An(Je.comparator),this.gc=new Map,this.yc=new cA,this.Ic={},this.Tc=new Map,this.Ec=um.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function pB(n,t){return KA.apply(this,arguments)}function KA(){return KA=(0,we.Z)(function*(n,t){const e=vM(n);let i,r;const o=e.dc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.hc();else{const u=yield L_(e.localStore,so(t)),h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield QA(e,t,i,"current"===h,u.resumeToken),e.isPrimaryClient&&OE(e.remoteStore,u)}return r}),KA.apply(this,arguments)}function QA(n,t,e,i,r){return XA.apply(this,arguments)}function XA(){return XA=(0,we.Z)(function*(n,t,e,i,r){n.Rc=(S,V,z)=>{return(X=(0,we.Z)(function*(ne,he,$e,at){let it=he.view.nc($e);it.ji&&(it=yield TE(ne.localStore,he.query,!1).then(({documents:dn})=>he.view.nc(dn,it)));const wt=at&&at.targetChanges.get(he.targetId),zt=he.view.applyChanges(it,ne.isPrimaryClient,wt);return lM(ne,he.targetId,zt.uc),zt.snapshot}),function(ne,he,$e,at){return X.apply(this,arguments)})(n,S,V,z);var X};const o=yield TE(n.localStore,t,!0),u=new eP(t,o.sr),h=u.nc(o.documents),g=a0.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),v=u.applyChanges(h,n.isPrimaryClient,g);lM(n,e,v.uc);const E=new dB(t,e,u);return n.dc.set(t,E),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),v.snapshot}),XA.apply(this,arguments)}function mB(n,t){return JA.apply(this,arguments)}function JA(){return JA=(0,we.Z)(function*(n,t){const e=tt(n),i=e.dc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(o=>!nm(o,t))),void e.dc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield V_(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),w0(e.remoteStore,i.targetId),G_(e,i.targetId)}).catch(Tc))):(G_(e,i.targetId),yield V_(e.localStore,i.targetId,!0))}),JA.apply(this,arguments)}function eM(){return eM=(0,we.Z)(function*(n,t,e){const i=bM(n);try{const r=yield function(o,u){const h=tt(o),g=ri.now(),v=u.reduce((V,z)=>V.add(z.key),hn());let E,S;return h.persistence.runTransaction("Locally write mutations","readwrite",V=>{let z=Fr(),X=hn();return h.Xi.getEntries(V,v).next(ne=>{z=ne,z.forEach((he,$e)=>{$e.isValidDocument()||(X=X.add(he))})}).next(()=>h.localDocuments.getOverlayedDocuments(V,z)).next(ne=>{E=ne;const he=[];for(const $e of u){const at=L1($e,E.get($e.key).overlayedDocument);null!=at&&he.push(new a($e.key,at,JD(at.value.mapValue),yi.exists(!0)))}return h.mutationQueue.addMutationBatch(V,g,he,u)}).next(ne=>{S=ne;const he=ne.applyToLocalDocumentSet(E,X);return h.documentOverlayCache.saveOverlays(V,ne.batchId,he)})}).then(()=>({batchId:S.batchId,changes:GT(E)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let g=o.Ic[o.currentUser.toKey()];g||(g=new An(Kt)),g=g.insert(u,h),o.Ic[o.currentUser.toKey()]=g}(i,r.batchId,e),yield Yu(i,r.changes),yield U_(i.remoteStore)}catch(r){const o=j_(r,"Failed to persist write");e.reject(o)}}),eM.apply(this,arguments)}function tP(n,t){return tM.apply(this,arguments)}function tM(){return tM=(0,we.Z)(function*(n,t){const e=tt(n);try{const i=yield function NV(n,t){const e=tt(n),i=t.snapshotVersion;let r=e.Hi;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Xi.newChangeBuffer({trackRemovals:!0});r=e.Hi;const h=[];t.targetChanges.forEach((E,S)=>{const V=r.get(S);if(!V)return;h.push(e.Fs.removeMatchingKeys(o,E.removedDocuments,S).next(()=>e.Fs.addMatchingKeys(o,E.addedDocuments,S)));let z=V.withSequenceNumber(o.currentSequenceNumber);var X,ne,he;null!==t.targetMismatches.get(S)?z=z.withResumeToken(or.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):E.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(E.resumeToken,i)),r=r.insert(S,z),ne=z,he=E,(0===(X=V).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=3e8||he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0)&&h.push(e.Fs.updateTargetData(o,z))});let g=Fr(),v=hn();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,E))}),h.push(OO(o,u,t.documentUpdates).next(E=>{g=E.er,v=E.nr})),!i.isEqual(It.min())){const E=e.Fs.getLastRemoteSnapshotVersion(o).next(S=>e.Fs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(E)}return ae.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,g,v)).next(()=>g)}).then(o=>(e.Hi=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.gc.get(o);u&&(Dt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.lc=!0:r.modifiedDocuments.size>0?Dt(u.lc):r.removedDocuments.size>0&&(Dt(u.lc),u.lc=!1))}),yield Yu(e,i,t)}catch(i){yield Tc(i)}}),tM.apply(this,arguments)}function nP(n,t,e){const i=tt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.dc.forEach((o,u)=>{const h=u.view.ku(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=tt(o);h.onlineState=u;let g=!1;h.queries.forEach((v,E)=>{for(const S of E.listeners)S.ku(u)&&(g=!0)}),g&&WA(h)}(i.eventManager,t),r.length&&i.fc.eu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function _B(n,t,e){return nM.apply(this,arguments)}function nM(){return nM=(0,we.Z)(function*(n,t,e){const i=tt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.gc.get(t),o=r&&r.key;if(o){let u=new An(Je.comparator);u=u.insert(o,Un.newNoDocument(o,It.min()));const h=hn().add(o),g=new s0(It.min(),new Map,new An(Kt),u,h);yield tP(i,g),i.mc=i.mc.remove(o),i.gc.delete(t),cM(i)}else yield V_(i.localStore,t,!1).then(()=>G_(i,t,e)).catch(Tc)}),nM.apply(this,arguments)}function yB(n,t){return iM.apply(this,arguments)}function iM(){return iM=(0,we.Z)(function*(n,t){const e=tt(n),i=t.batch.batchId;try{const r=yield function FV(n,t){const e=tt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Xi.newChangeBuffer({trackRemovals:!0});return function(u,h,g,v){const E=g.batch,S=E.keys();let V=ae.resolve();return S.forEach(z=>{V=V.next(()=>v.getEntry(h,z)).next(X=>{const ne=g.docVersions.get(z);Dt(null!==ne),X.version.compareTo(ne)<0&&(E.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),v.addEntry(X)))})}),V.next(()=>u.mutationQueue.removeMutationBatch(h,E))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=hn();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(h=h.add(u.batch.mutations[g].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);aM(e,i,null),sM(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Yu(e,r)}catch(r){yield Tc(r)}}),iM.apply(this,arguments)}function vB(n,t,e){return rM.apply(this,arguments)}function rM(){return rM=(0,we.Z)(function*(n,t,e){const i=tt(n);try{const r=yield function(o,u){const h=tt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return h.mutationQueue.lookupMutationBatch(g,u).next(E=>(Dt(null!==E),v=E.keys(),h.mutationQueue.removeMutationBatch(g,E))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,v,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>h.localDocuments.getDocuments(g,v))})}(i.localStore,t);aM(i,t,e),sM(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Yu(i,r)}catch(r){yield Tc(r)}}),rM.apply(this,arguments)}function oM(){return oM=(0,we.Z)(function*(n,t){const e=tt(n);ef(e.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=tt(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Tc.get(i)||[];r.push(t),e.Tc.set(i,r)}catch(i){const r=j_(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),oM.apply(this,arguments)}function sM(n,t){(n.Tc.get(t)||[]).forEach(e=>{e.resolve()}),n.Tc.delete(t)}function aM(n,t,e){const i=tt(n);let r=i.Ic[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Ic[i.currentUser.toKey()]=r}}function G_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.dc.delete(i),e&&n.fc.vc(i,e);n._c.delete(t),n.isPrimaryClient&&n.yc.ps(t).forEach(i=>{n.yc.containsKey(i)||iP(n,i)})}function iP(n,t){n.wc.delete(t.path.canonicalString());const e=n.mc.get(t);null!==e&&(w0(n.remoteStore,e),n.mc=n.mc.remove(t),n.gc.delete(e),cM(n))}function lM(n,t,e){for(const i of e)i instanceof XO?(n.yc.addReference(i.key,t),wB(n,i)):i instanceof JO?(Ve("SyncEngine","Document no longer in limbo: "+i.key),n.yc.removeReference(i.key,t),n.yc.containsKey(i.key)||iP(n,i.key)):lt()}function wB(n,t){const e=t.key,i=e.path.canonicalString();n.mc.get(e)||n.wc.has(i)||(Ve("SyncEngine","New document in limbo: "+e),n.wc.add(i),cM(n))}function cM(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const t=n.wc.values().next().value;n.wc.delete(t);const e=new Je(vn.fromString(t)),i=n.Ec.next();n.gc.set(i,new hB(e)),n.mc=n.mc.insert(e,i),OE(n.remoteStore,new qu(so($h(e.path)),i,"TargetPurposeLimboResolution",wo.ct))}}function Yu(n,t,e){return uM.apply(this,arguments)}function uM(){return uM=(0,we.Z)(function*(n,t,e){const i=tt(n),r=[],o=[],u=[];var h;i.dc.isEmpty()||(i.dc.forEach((h,g)=>{u.push(i.Rc(g,t,e).then(v=>{if((v||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(g.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const E=pA.Bi(g.targetId,v);o.push(E)}}))}),yield Promise.all(u),i.fc.eu(r),yield(h=(0,we.Z)(function*(g,v){const E=tt(g);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ae.forEach(v,V=>ae.forEach(V.$i,z=>E.persistence.referenceDelegate.addReference(S,V.targetId,z)).next(()=>ae.forEach(V.Fi,z=>E.persistence.referenceDelegate.removeReference(S,V.targetId,z)))))}catch(S){if(!ka(S))throw S;Ve("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const V=S.targetId;if(!S.fromCache){const z=E.Hi.get(V),ne=z.withLastLimboFreeSnapshotVersion(z.snapshotVersion);E.Hi=E.Hi.insert(V,ne)}}}),function(g,v){return h.apply(this,arguments)})(i.localStore,o))}),uM.apply(this,arguments)}function CB(n,t){return dM.apply(this,arguments)}function dM(){return dM=(0,we.Z)(function*(n,t){const e=tt(n);if(!e.currentUser.isEqual(t)){Ve("SyncEngine","User change. New user:",t.toKey());const i=yield RO(e.localStore,t);e.currentUser=t,(r=e).Tc.forEach(u=>{u.forEach(h=>{h.reject(new Me(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Tc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Yu(e,i.tr)}var r}),dM.apply(this,arguments)}function DB(n,t){const e=tt(n),i=e.gc.get(t);if(i&&i.lc)return hn().add(i.key);{let r=hn();const o=e._c.get(t);if(!o)return r;for(const u of o){const h=e.dc.get(u);r=r.unionWith(h.view.ec)}return r}}function EB(n,t){return hM.apply(this,arguments)}function hM(){return hM=(0,we.Z)(function*(n,t){const e=tt(n),i=yield TE(e.localStore,t.query,!0),r=t.view.ac(i);return e.isPrimaryClient&&lM(e,t.targetId,r.uc),r}),hM.apply(this,arguments)}function xB(n,t){return fM.apply(this,arguments)}function fM(){return fM=(0,we.Z)(function*(n,t){const e=tt(n);return FO(e.localStore,t).then(i=>Yu(e,i))}),fM.apply(this,arguments)}function IB(n,t,e,i){return pM.apply(this,arguments)}function pM(){return pM=(0,we.Z)(function*(n,t,e,i){const r=tt(n),o=yield function(u,h){const g=tt(u),v=tt(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",E=>v.Vn(E,h).next(S=>S?g.localDocuments.getDocuments(E,S):ae.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield U_(r.remoteStore):"acknowledged"===e||"rejected"===e?(aM(r,t,i||null),sM(r,t),h=t,tt(tt(r.localStore).mutationQueue).Dn(h)):lt(),yield Yu(r,o)):Ve("SyncEngine","Cannot apply mutation batch with id: "+t)}),pM.apply(this,arguments)}function mM(){return mM=(0,we.Z)(function*(n,t){const e=tt(n);if(vM(e),bM(e),!0===t&&!0!==e.Ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield rP(e,i.toArray());e.Ac=!0,yield HA(e.remoteStore,!0);for(const o of r)OE(e.remoteStore,o)}else if(!1===t&&!1!==e.Ac){const i=[];let r=Promise.resolve();e._c.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(G_(e,u),V_(e.localStore,u,!0))),w0(e.remoteStore,u)}),yield r,yield rP(e,i),function(o){const u=tt(o);u.gc.forEach((h,g)=>{w0(u.remoteStore,g)}),u.yc.Is(),u.gc=new Map,u.mc=new An(Je.comparator)}(e),e.Ac=!1,yield HA(e.remoteStore,!1)}}),mM.apply(this,arguments)}function rP(n,t,e){return gM.apply(this,arguments)}function gM(){return gM=(0,we.Z)(function*(n,t,e){const i=tt(n),r=[],o=[];for(const u of t){let h;const g=i._c.get(u);if(g&&0!==g.length){h=yield L_(i.localStore,so(g[0]));for(const v of g){const E=i.dc.get(v),S=yield EB(i,E);S.snapshot&&o.push(S.snapshot)}}else{const v=yield PO(i.localStore,u);h=yield L_(i.localStore,v),yield QA(i,oP(v),u,!1,h.resumeToken)}r.push(h)}return i.fc.eu(o),r}),gM.apply(this,arguments)}function oP(n){return aE(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function TB(n){const t=tt(n);return tt(tt(t.localStore).persistence).Mi()}function AB(n,t,e,i){return _M.apply(this,arguments)}function _M(){return _M=(0,we.Z)(function*(n,t,e,i){const r=tt(n);if(r.Ac)return void Ve("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield FO(r.localStore,x_(o[0])),h=s0.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,or.EMPTY_BYTE_STRING);yield Yu(r,u,h);break}case"rejected":yield V_(r.localStore,t,!0),G_(r,t,i);break;default:lt()}}),_M.apply(this,arguments)}function MB(n,t,e){return yM.apply(this,arguments)}function yM(){return yM=(0,we.Z)(function*(n,t,e){const i=vM(n);if(i.Ac){for(const r of t){if(i._c.has(r)){Ve("SyncEngine","Adding an already active target "+r);continue}const o=yield PO(i.localStore,r),u=yield L_(i.localStore,o);yield QA(i,oP(o),u.targetId,!1,u.resumeToken),OE(i.remoteStore,u)}for(const r of e)i._c.has(r)&&(yield V_(i.localStore,r,!1).then(()=>{w0(i.remoteStore,r),G_(i,r)}).catch(Tc))}}),yM.apply(this,arguments)}function vM(n){const t=tt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=tP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DB.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_B.bind(null,t),t.fc.eu=aB.bind(null,t.eventManager),t.fc.vc=lB.bind(null,t.eventManager),t}function bM(n){const t=tt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yB.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=vB.bind(null,t),t}class C0{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,we.Z)(function*(){e.serializer=v0(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return MO(this.persistence,new AO,t.initialUser,this.serializer)}createPersistence(t){return new uA(xE.js,this.serializer)}createSharedClientState(t){return new BO}terminate(){var t=this;return(0,we.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class wM extends C0{constructor(t,e,i){super(),this.bc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield e().call(i,t),yield i.bc.initialize(i,t),yield bM(i.bc.syncEngine),yield U_(i.bc.remoteStore),yield i.persistence.pi(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return MO(this.persistence,new AO,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new bO(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new IT(e,this.persistence);return new Uh(t.asyncQueue,i)}createPersistence(t){const e=fA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Do.withCacheSize(this.cacheSizeBytes):Do.DEFAULT;return new hA(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,HO(),kE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new BO}}class sP extends wM{constructor(t,e){super(t,e,!1),this.bc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,we.Z)(function*(){yield e().call(i,t);const r=i.bc.syncEngine;i.sharedClientState instanceof CA&&(i.sharedClientState.syncEngine={Qr:IB.bind(null,r),jr:AB.bind(null,r),zr:MB.bind(null,r),Mi:TB.bind(null,r),Gr:xB.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.pi(function(){var o=(0,we.Z)(function*(u){yield function SB(n,t){return mM.apply(this,arguments)}(i.bc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=HO();if(!CA.D(e))throw new Me(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=fA(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new CA(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class q_{initialize(t,e){var i=this;return(0,we.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>nP(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=CB.bind(null,i.syncEngine),yield HA(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new sB}createDatastore(t){const e=v0(t.databaseInfo.databaseId),i=new zV(t.databaseInfo);return new qV(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>nP(this.syncEngine,h,0),u=UO.D()?new UO:new UV,new ZV(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,g,v){const E=new fB(i,r,o,u,h,g);return v&&(E.Ac=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,we.Z)(function*(e){const i=tt(e);Ve("RemoteStore","RemoteStore shutting down."),i.Au.add(5),yield B_(i),i.vu.shutdown(),i.Pu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function aP(n,t=10240){let e=0;return{read:()=>(0,we.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,we.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class FE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Vc(this.observer.next,t)}error(t){this.observer.error?this.Vc(this.observer.error,t):Hi("Uncaught Error in snapshot listener:",t.toString())}Sc(){this.muted=!0}Vc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class OB{constructor(t,e){this.Dc=t,this.serializer=e,this.metadata=new Xi,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(i=>{i&&i.Gu()?this.metadata.resolve(i.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Ku)}`))},i=>this.metadata.reject(i))}close(){return this.Dc.cancel()}getMetadata(){var t=this;return(0,we.Z)(function*(){return t.metadata.promise})()}Pc(){var t=this;return(0,we.Z)(function*(){return yield t.getMetadata(),t.xc()})()}xc(){var t=this;return(0,we.Z)(function*(){const e=yield t.Nc();if(null===e)return null;const i=t.Cc.decode(e),r=Number(i);isNaN(r)&&t.kc(`length string (${i}) is not valid number`);const o=yield t.Mc(r);return new cB(JSON.parse(o),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Nc(){var t=this;return(0,we.Z)(function*(){for(;t.Oc()<0&&!(yield t.$c()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.kc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Mc(t){var e=this;return(0,we.Z)(function*(){for(;e.buffer.length<t;)(yield e.$c())&&e.kc("Reached the end of bundle when more is expected.");const i=e.Cc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}kc(t){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${t}`)}$c(){var t=this;return(0,we.Z)(function*(){const e=yield t.Dc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class PB{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,we.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Me(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,we.Z)(function*(o,u){const h=tt(o),g=c0(h.serializer)+"/documents",v={documents:u.map(z=>l0(h.serializer,z))},E=yield h.Ao("BatchGetDocuments",g,v,u.length),S=new Map;E.forEach(z=>{const X=function tV(n,t){return"found"in t?function(e,i){Dt(!!i.found);const r=Nc(e,i.found.name),o=sr(i.found.updateTime),u=i.found.createTime?sr(i.found.createTime):It.min(),h=new xr({mapValue:{fields:i.found.fields}});return Un.newFoundDocument(r,o,u,h)}(n,t):"missing"in t?function(e,i){Dt(!!i.missing),Dt(!!i.readTime);const r=Nc(e,i.missing),o=sr(i.readTime);return Un.newNoDocument(r,o)}(n,t):lt()}(h.serializer,z);S.set(X.key.toString(),X)});const V=[];return u.forEach(z=>{const X=S.get(z.toString());Dt(!!X),V.push(X)}),V}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new m(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,we.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=Je.fromPath(r);t.mutations.push(new y(o,t.precondition(o)))}),yield(i=(0,we.Z)(function*(r,o){const u=tt(r),h=c0(u.serializer)+"/documents",g={writes:o.map(v=>u0(u.serializer,v))};yield u.po("Commit",h,g)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw lt();e=It.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Me(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(It.min())?yi.exists(!1):yi.updateTime(e):yi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(It.min()))throw new Me(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yi.updateTime(e)}return yi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class FB{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Fc=i.maxAttempts,this.Lo=new EA(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var t=this;this.Lo.xo((0,we.Z)(function*(){const e=new PB(t.datastore),i=t.Lc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.qc(o)}))}).catch(r=>{t.qc(r)})}))}Lc(t){try{const e=this.updateFunction(t);return!Bu(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}qc(t){this.Fc>0&&this.Uc(t)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(t)}Uc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!De(e)}return!1}}class NB{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Qi.UNAUTHENTICATED,this.clientId=p_.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,we.Z)(function*(h){Ve("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Ve("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,we.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=j_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function NE(n,t){return CM.apply(this,arguments)}function CM(){return CM=(0,we.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,we.Z)(function*(o){i.isEqual(o)||(yield RO(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),CM.apply(this,arguments)}function DM(n,t){return EM.apply(this,arguments)}function EM(){return EM=(0,we.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield xM(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>WO(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>WO(t.remoteStore,o)),n._onlineComponents=t}),EM.apply(this,arguments)}function lP(n){return"FirebaseError"===n.name?n.code===fe.FAILED_PRECONDITION||n.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function xM(n){return IM.apply(this,arguments)}function IM(){return IM=(0,we.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ve("FirestoreClient","Using user provided OfflineComponentProvider");try{yield NE(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!lP(e))throw e;hs("Error using user provided cache. Falling back to memory cache: "+e),yield NE(n,new C0)}}else Ve("FirestoreClient","Using default OfflineComponentProvider"),yield NE(n,new C0);return n._offlineComponents}),IM.apply(this,arguments)}function LE(n){return SM.apply(this,arguments)}function SM(){return SM=(0,we.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ve("FirestoreClient","Using user provided OnlineComponentProvider"),yield DM(n,n._uninitializedComponentsProvider._online)):(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield DM(n,new q_))),n._onlineComponents}),SM.apply(this,arguments)}function cP(n){return xM(n).then(t=>t.persistence)}function VE(n){return xM(n).then(t=>t.localStore)}function uP(n){return LE(n).then(t=>t.remoteStore)}function TM(n){return LE(n).then(t=>t.syncEngine)}function Y_(n){return AM.apply(this,arguments)}function AM(){return AM=(0,we.Z)(function*(n){const t=yield LE(n),e=t.eventManager;return e.onListen=pB.bind(null,t.syncEngine),e.onUnlisten=mB.bind(null,t.syncEngine),e}),AM.apply(this,arguments)}function hP(n,t,e={}){const i=new Xi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,o,u,h,g){const v=new FE({next:S=>{o.enqueueAndForget(()=>qA(r,E));const V=S.docs.has(u);!V&&S.fromCache?g.reject(new Me(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&S.fromCache&&h&&"server"===h.source?g.reject(new Me(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new ZA($h(u.path),v,{includeMetadataChanges:!0,Uu:!0});return $A(r,E)}(yield Y_(n),n.asyncQueue,t,e,i)})),i.promise}function fP(n,t,e={}){const i=new Xi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function(r,o,u,h,g){const v=new FE({next:S=>{o.enqueueAndForget(()=>qA(r,E)),S.fromCache&&"server"===h.source?g.reject(new Me(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),E=new ZA(u,v,{includeMetadataChanges:!0,Uu:!0});return $A(r,E)}(yield Y_(n),n.asyncQueue,t,e,i)})),i.promise}const pP=new Map;function MM(n,t,e){if(!e)throw new Me(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function mP(n,t,e,i){if(!0===t&&!0===i)throw new Me(fe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function gP(n){if(!Je.isDocumentKey(n))throw new Me(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function _P(n){if(Je.isDocumentKey(n))throw new Me(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function BE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":lt()}function Dn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Me(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=BE(n);throw new Me(fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function yP(n,t){if(t<=0)throw new Me(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class vP{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Me(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Me(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}mP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==t.experimentalAutoDetectLongPolling&&!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class D0{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Me(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vP(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new Db;switch(e.type){case"firstParty":return new CT(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Me(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=pP.get(t);e&&(Ve("ComponentProvider","Removing Datastore"),pP.delete(t),e.terminate())}(this),Promise.resolve()}}class bi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bi(this.firestore,t,this._key)}}class ao{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ao(this.firestore,t,this._query)}}class Lc extends ao{constructor(t,e,i){super(t,e,$h(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bi(this.firestore,null,new Je(t))}withConverter(t){return new Lc(this.firestore,t,this._path)}}function wP(n,t,...e){if(n=(0,wn.m9)(n),MM("collection","path",t),n instanceof D0){const i=vn.fromString(t,...e);return _P(i),new Lc(n,null,i)}{if(!(n instanceof bi||n instanceof Lc))throw new Me(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vn.fromString(t,...e));return _P(i),new Lc(n.firestore,null,i)}}function UE(n,t,...e){if(n=(0,wn.m9)(n),1===arguments.length&&(t=p_.A()),MM("doc","path",t),n instanceof D0){const i=vn.fromString(t,...e);return gP(i),new bi(n,null,new Je(i))}{if(!(n instanceof bi||n instanceof Lc))throw new Me(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(vn.fromString(t,...e));return gP(i),new bi(n.firestore,n instanceof Lc?n.converter:null,new Je(i))}}function CP(n,t){return n=(0,wn.m9)(n),t=(0,wn.m9)(t),(n instanceof bi||n instanceof Lc)&&(t instanceof bi||t instanceof Lc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function RM(n,t){return n=(0,wn.m9)(n),t=(0,wn.m9)(t),n instanceof ao&&t instanceof ao&&n.firestore===t.firestore&&nm(n._query,t._query)&&n.converter===t.converter}class qB{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new EA(this,"async_queue_retry"),this.Yc=()=>{const e=kE();e&&Ve("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Lo.ko()};const t=kE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Xc(),this.Zc(t)}enterRestrictedMode(t){if(!this.Qc){this.Qc=!0,this.Hc=t||!1;const e=kE();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Yc)}}enqueue(t){if(this.Xc(),this.Qc)return new Promise(()=>{});const e=new Xi;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Gc.push(t),this.ta()))}ta(){var t=this;return(0,we.Z)(function*(){if(0!==t.Gc.length){try{yield t.Gc[0](),t.Gc.shift(),t.Lo.reset()}catch(e){if(!ka(e))throw e;Ve("AsyncQueue","Operation failed with retryable error: "+e)}t.Gc.length>0&&t.Lo.xo(()=>t.ta())}})()}Zc(t){const e=this.Kc.then(()=>(this.Wc=!0,t().catch(i=>{throw this.zc=i,this.Wc=!1,Hi("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Wc=!1,i))));return this.Kc=e,e}enqueueAfterDelay(t,e,i){this.Xc(),this.Jc.indexOf(t)>-1&&(e=0);const r=zA.createAndSchedule(this,t,e,i,o=>this.ea(o));return this.jc.push(r),r}Xc(){this.zc&&lt()}verifyOperationInProgress(){}na(){var t=this;return(0,we.Z)(function*(){let e;do{e=t.Kc,yield e}while(e!==t.Kc)})()}sa(t){for(const e of this.jc)if(e.timerId===t)return!0;return!1}ia(t){return this.na().then(()=>{this.jc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.jc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.na()})}ra(t){this.Jc.push(t)}ea(t){const e=this.jc.indexOf(t);this.jc.splice(e,1)}}function kM(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class YB{constructor(){this._progressObserver={},this._taskCompletionResolver=new Xi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class wi extends D0{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new qB,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||DP(this),this._firestoreClient.terminate()}}function ar(n){return n._firestoreClient||DP(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function DP(n){var t,e,i;const r=n._freezeSettings(),o=(h=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new BT(n._databaseId,h,n._persistenceKey,(v=r).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var h,v;n._firestoreClient=new NB(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function EP(n,t,e){const i=new Xi;return n.asyncQueue.enqueue((0,we.Z)(function*(){try{yield NE(n,e),yield DM(n,t),i.resolve()}catch(r){const o=r;if(!lP(o))throw o;hs("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function xP(n){if(n._initialized||n._terminated)throw new Me(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Vc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vc(or.fromBase64String(t))}catch(e){throw new Me(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Vc(or.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Wu{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Me(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class hm{constructor(t){this._methodName=t}}class HE{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Me(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Me(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}}const rU=/^__.*__$/;class oU{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new a(t,this.data,this.fieldMask,e,this.fieldTransforms):new s(t,this.data,e,this.fieldTransforms)}}class IP{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new a(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function SP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class jE{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.oa(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(t){return new jE(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ca({path:i,ha:!1});return r.la(t),r}fa(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ca({path:i,ha:!1});return r.oa(),r}da(t){return this.ca({path:void 0,ha:!0})}_a(t){return GE(t,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}oa(){if(this.path)for(let t=0;t<this.path.length;t++)this.la(this.path.get(t))}la(t){if(0===t.length)throw this._a("Document fields must not be empty");if(SP(this.ua)&&rU.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class sU{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||v0(t)}ga(t,e,i,r=!1){return new jE({ua:t,methodName:e,ma:i,path:_i.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fm(n){const t=n._freezeSettings(),e=v0(n._databaseId);return new sU(n._databaseId,!!t.ignoreUndefinedProperties,e)}function zE(n,t,e,i,r,o={}){const u=n.ga(o.merge||o.mergeFields?2:0,t,e,r);NM("Data must be an object, but it was:",u,i);const h=MP(i,u);let g,v;if(o.merge)g=new Co(u.fieldMask),v=u.fieldTransforms;else if(o.mergeFields){const E=[];for(const S of o.mergeFields){const V=I0(t,S,e);if(!u.contains(V))throw new Me(fe.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);kP(E,V)||E.push(V)}g=new Co(E),v=u.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,v=u.fieldTransforms;return new oU(new xr(h),g,v)}class x0 extends hm{_toFieldTransform(t){if(2!==t.ua)throw t._a(1===t.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof x0}}function TP(n,t,e){return new jE({ua:3,ma:t.settings.ma,methodName:n._methodName,ha:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class OM extends hm{_toFieldTransform(t){return new A_(t.path,new Fc)}isEqual(t){return t instanceof OM}}class aU extends hm{constructor(t,e){super(t),this.ya=e}_toFieldTransform(t){const e=TP(this,t,!0),i=this.ya.map(o=>pm(o,e)),r=new Gu(i);return new A_(t.path,r)}isEqual(t){return this===t}}class lU extends hm{constructor(t,e){super(t),this.ya=e}_toFieldTransform(t){const e=TP(this,t,!0),i=this.ya.map(o=>pm(o,e)),r=new Wh(i);return new A_(t.path,r)}isEqual(t){return this===t}}class cU extends hm{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=new Zh(t.serializer,hE(t.serializer,this.pa));return new A_(t.path,e)}isEqual(t){return this===t}}function PM(n,t,e,i){const r=n.ga(1,t,e);NM("Data must be an object, but it was:",r,i);const o=[],u=xr.empty();Uu(i,(g,v)=>{const E=$E(t,g,e);v=(0,wn.m9)(v);const S=r.fa(E);if(v instanceof x0)o.push(E);else{const V=pm(v,S);null!=V&&(o.push(E),u.set(E,V))}});const h=new Co(o);return new IP(u,h,r.fieldTransforms)}function FM(n,t,e,i,r,o){const u=n.ga(1,t,e),h=[I0(t,i,e)],g=[r];if(o.length%2!=0)throw new Me(fe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<o.length;V+=2)h.push(I0(t,o[V])),g.push(o[V+1]);const v=[],E=xr.empty();for(let V=h.length-1;V>=0;--V)if(!kP(v,h[V])){const z=h[V];let X=g[V];X=(0,wn.m9)(X);const ne=u.fa(z);if(X instanceof x0)v.push(z);else{const he=pm(X,ne);null!=he&&(v.push(z),E.set(z,he))}}const S=new Co(v);return new IP(E,S,u.fieldTransforms)}function AP(n,t,e,i=!1){return pm(e,n.ga(i?4:3,t))}function pm(n,t){if(RP(n=(0,wn.m9)(n)))return NM("Unsupported field value:",t,n),MP(n,t);if(n instanceof hm)return function(e,i){if(!SP(i.ua))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ha&&4!==t.ua)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=pm(u,i.da(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,wn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hE(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ri.fromDate(e);return{timestampValue:O_(i.serializer,r)}}if(e instanceof ri){const r=new ri(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:O_(i.serializer,r)}}if(e instanceof HE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Vc)return{bytesValue:z1(i.serializer,e._byteString)};if(e instanceof bi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:XT(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${BE(e)}`)}(n,t)}function MP(n,t){const e={};return Rb(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Uu(n,(i,r)=>{const o=pm(r,t.aa(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function RP(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ri||n instanceof HE||n instanceof Vc||n instanceof bi||n instanceof hm)}function NM(n,t,e){if(!RP(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=BE(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function I0(n,t,e){if((t=(0,wn.m9)(t))instanceof Wu)return t._internalPath;if("string"==typeof t)return $E(n,t);throw GE("Field path arguments must be of type string or ",n,!1,void 0,e)}const uU=new RegExp("[~\\*/\\[\\]]");function $E(n,t,e){if(t.search(uU)>=0)throw GE(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Wu(...t.split("."))._internalPath}catch{throw GE(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function GE(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(o||u)&&(g+=" (found",o&&(g+=` in field ${i}`),u&&(g+=` in document ${r}`),g+=")"),new Me(fe.INVALID_ARGUMENT,h+n+g)}function kP(n,t){return n.some(e=>e.isEqual(t))}class S0{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new dU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(qE("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class dU extends S0{data(){return super.data()}}function qE(n,t){return"string"==typeof t?$E(n,t):t instanceof Wu?t._internalPath:t._delegate._internalPath}function OP(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LM{}class T0 extends LM{}function nf(n,t,...e){let i=[];t instanceof LM&&i.push(t),i=i.concat(e),function(r){const o=r.filter(h=>h instanceof W_).length,u=r.filter(h=>h instanceof A0).length;if(o>1||o>0&&u>0)throw new Me(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class A0 extends T0{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new A0(t,e,i)}_apply(t){const e=this._parse(t);return LP(t._query,e),new ao(t.firestore,t.converter,qh(t._query,e))}_parse(t){const e=fm(t.firestore);return function(r,o,u,h,g,v,E){let S;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Me(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){NP(E,v);const V=[];for(const z of E)V.push(FP(h,r,z));S={arrayValue:{values:V}}}else S=FP(h,r,E)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||NP(E,v),S=AP(u,"where",E,"in"===v||"not-in"===v);return bn.create(g,v,S)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class W_ extends LM{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new W_(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Mn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const u=r.getFlattenedFilters();for(const h of u)LP(o,h),o=qh(o,h)}(t._query,e),new ao(t.firestore,t.converter,qh(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class VM extends T0{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new VM(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Me(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Me(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new Pc(r,o);return function(h,g){if(null===lE(h)){const v=Qb(h);null!==v&&VP(0,v,g.field)}}(i,u),u}(t._query,this._field,this._direction);return new ao(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Ml(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class YE extends T0{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new YE(t,e,i)}_apply(t){return new ao(t.firestore,t.converter,E_(t._query,this._limit,this._limitType))}}class WE extends T0{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new WE(t,e,i)}_apply(t){const e=PP(t,this.type,this._docOrFields,this._inclusive);return new ao(t.firestore,t.converter,(r=e,new Ml((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class ZE extends T0{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new ZE(t,e,i)}_apply(t){const e=PP(t,this.type,this._docOrFields,this._inclusive);return new ao(t.firestore,t.converter,(r=e,new Ml((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function PP(n,t,e,i){if(e[0]=(0,wn.m9)(e[0]),e[0]instanceof S0)return function(r,o,u,h,g){if(!h)throw new Me(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const E of Gh(r))if(E.field.isKeyField())v.push(Er(o,h.key));else{const S=h.data.field(E.field);if(kb(S))throw new Me(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+E.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const V=E.field.canonicalString();throw new Me(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}v.push(S)}return new qr(v,g)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=fm(n.firestore);return function(o,u,h,g,v,E){const S=o.explicitOrderBy;if(v.length>S.length)throw new Me(fe.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let z=0;z<v.length;z++){const X=v[z];if(S[z].field.isKeyField()){if("string"!=typeof X)throw new Me(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof X}`);if(!cE(o)&&-1!==X.indexOf("/"))throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${X}' contains a slash.`);const ne=o.path.child(vn.fromString(X));if(!Je.isDocumentKey(ne))throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${ne}' is not because it contains an odd number of segments.`);const he=new Je(ne);V.push(Er(u,he))}else{const ne=AP(h,g,X);V.push(ne)}}return new qr(V,E)}(n._query,n.firestore._databaseId,r,t,e,i)}}function FP(n,t,e){if("string"==typeof(e=(0,wn.m9)(e))){if(""===e)throw new Me(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cE(t)&&-1!==e.indexOf("/"))throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(vn.fromString(e));if(!Je.isDocumentKey(i))throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Er(n,new Je(i))}if(e instanceof bi)return Er(n,e._key);throw new Me(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${BE(e)}.`)}function NP(n,t){if(!Array.isArray(n)||0===n.length)throw new Me(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function LP(n,t){if(t.isInequality()){const i=Qb(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Me(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=lE(n);null!==o&&VP(0,r,o)}const e=function(i,r){for(const o of i)for(const u of o.getFlattenedFilters())if(r.indexOf(u.op)>=0)return u.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Me(fe.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function VP(n,t,e){if(!e.isEqual(t))throw new Me(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class BM{convertValue(t,e="none"){switch(Tl(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Rc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw lt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Uu(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new HE(Oi(t.latitude),Oi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Ob(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(em(t));default:return null}}convertTimestamp(t){const e=zs(t);return new ri(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=vn.fromString(t);Dt(J1(i));const r=new kc(i.get(1),i.get(3)),o=new Je(i.popFirst(5));return r.isEqual(e)||Hi(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function KE(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class bU extends BM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}class mm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zu extends S0{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new M0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(qE("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class M0 extends Zu{data(t={}){return super.data(t)}}class rf{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new mm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new M0(this._firestore,this._userDataWriter,i.key,i,new mm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Me(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new M0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new mm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new M0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new mm(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let g=-1,v=-1;return 0!==u.type&&(g=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),v=o.indexOf(u.doc.key)),{type:CU(u.type),doc:h,oldIndex:g,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function CU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function UP(n,t){return n instanceof Zu&&t instanceof Zu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof rf&&t instanceof rf&&n._firestore===t._firestore&&RM(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class sf extends BM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}function HP(n,t,e){n=Dn(n,bi);const i=Dn(n.firestore,wi),r=KE(n.converter,t,e);return Z_(i,[zE(fm(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,yi.none())])}function jP(n,t,e,...i){n=Dn(n,bi);const r=Dn(n.firestore,wi),o=fm(r);let u;return u="string"==typeof(t=(0,wn.m9)(t))||t instanceof Wu?FM(o,"updateDoc",n._key,t,e,i):PM(o,"updateDoc",n._key,t),Z_(r,[u.toMutation(n._key,yi.exists(!0))])}function zP(n,...t){var e,i,r;n=(0,wn.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||kM(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(kM(t[u])){const S=t[u];t[u]=null===(e=S.next)||void 0===e?void 0:e.bind(S),t[u+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),t[u+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let g,v,E;if(n instanceof bi)v=Dn(n.firestore,wi),E=$h(n._key.path),g={next:S=>{t[u]&&t[u](UM(v,n,S))},error:t[u+1],complete:t[u+2]};else{const S=Dn(n,ao);v=Dn(S.firestore,wi),E=S._query;const V=new sf(v);g={next:z=>{t[u]&&t[u](new rf(v,V,S,z))},error:t[u+1],complete:t[u+2]},OP(n._query)}return function(S,V,z,X){const ne=new FE(X),he=new ZA(V,ne,z);return S.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return $A(yield Y_(S),he)})),()=>{ne.Sc(),S.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return qA(yield Y_(S),he)}))}}(ar(v),E,h,g)}function Z_(n,t){return function(e,i){const r=new Xi;return e.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function gB(n,t,e){return eM.apply(this,arguments)}(yield TM(e),i,r)})),r.promise}(ar(n),t)}function UM(n,t,e){const i=e.docs.get(t._key),r=new sf(n);return new Zu(n,r,t._key,i,new mm(e.hasPendingWrites,e.fromCache),t.converter)}const UU={maxAttempts:5};class $P{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=fm(t)}set(t,e,i){this._verifyNotCommitted();const r=af(t,this._firestore),o=KE(r.converter,e,i),u=zE(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,yi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=af(t,this._firestore);let u;return u="string"==typeof(e=(0,wn.m9)(e))||e instanceof Wu?FM(this._dataReader,"WriteBatch.update",o._key,e,i,r):PM(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,yi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=af(t,this._firestore);return this._mutations=this._mutations.concat(new m(e._key,yi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function af(n,t){if((n=(0,wn.m9)(n)).firestore!==t)throw new Me(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class HU extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=fm(t)}get(t){const e=af(t,this._firestore),i=new bU(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return lt();const o=r[0];if(o.isFoundDocument())return new S0(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new S0(this._firestore,i,e._key,null,e.converter);throw lt()})}set(t,e,i){const r=af(t,this._firestore),o=KE(r.converter,e,i),u=zE(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=af(t,this._firestore);let u;return u="string"==typeof(e=(0,wn.m9)(e))||e instanceof Wu?FM(this._dataReader,"Transaction.update",o._key,e,i,r):PM(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=af(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=af(t,this._firestore),i=new sf(this._firestore);return super.get(t).then(r=>new Zu(this._firestore,i,e._key,r._document,new mm(!1,!1),e.converter))}}!function(n,t=!0){ro=xa.SDK_VERSION,(0,xa._registerComponent)(new mh.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),u=new wi(new Eb(e.getProvider("auth-internal")),new DT(e.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Me(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kc(h.options.projectId,g)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),u._setSettings(r),u},"PUBLIC").setMultipleInstances(!0)),(0,xa.registerVersion)(AD,"3.11.0",n),(0,xa.registerVersion)(AD,"3.11.0","esm2017")}();function HM(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function qP(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function YP(){if(!function LT(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}class R0{constructor(t){this._delegate=t}static fromBase64String(t){return YP(),new R0(Vc.fromBase64String(t))}static fromUint8Array(t){return qP(),new R0(Vc.fromUint8Array(t))}toBase64(){return YP(),this._delegate.toBase64()}toUint8Array(){return qP(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jM(n){return function KU(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class QU{enableIndexedDbPersistence(t,e){return function ZB(n,t){xP(n=Dn(n,wi));const e=ar(n);if(e._uninitializedComponentsProvider)throw new Me(fe.FAILED_PRECONDITION,"SDK cache is already specified.");hs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new q_;return EP(e,r,new wM(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function KB(n){xP(n=Dn(n,wi));const t=ar(n);if(t._uninitializedComponentsProvider)throw new Me(fe.FAILED_PRECONDITION,"SDK cache is already specified.");hs("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new q_;return EP(t,i,new sP(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function QB(n){if(n._initialized&&!n._terminated)throw new Me(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Xi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,we.Z)(function*(){try{yield(e=(0,we.Z)(function*(i){if(!fs.D())return Promise.resolve();const r=i+"main";yield fs.delete(r)}),function(i){return e.apply(this,arguments)})(fA(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class WP{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof kc||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&hs("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function bP(n,t,e,i={}){var r;const o=(n=Dn(n,D0))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&hs("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Qi.MOCK_USER;else{u=(0,wn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Me(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Qi(g)}n._authCredentials=new MD(new f_(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function JB(n){return function LB(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const t=yield cP(n),e=yield uP(n);return t.setNetworkEnabled(!0),function(i){const r=tt(i);return r.Au.delete(0),b0(r)}(e)}))}(ar(n=Dn(n,wi)))}(this._delegate)}disableNetwork(){return function eU(n){return function VB(n){return n.asyncQueue.enqueue((0,we.Z)(function*(){const t=yield cP(n),e=yield uP(n);return t.setNetworkEnabled(!1),(i=(0,we.Z)(function*(r){const o=tt(r);o.Au.add(0),yield B_(o),o.Pu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(ar(n=Dn(n,wi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,mP("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function XB(n){return function(t){const e=new Xi;return t.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return function bB(n,t){return oM.apply(this,arguments)}(yield TM(t),e)})),e.promise}(ar(n=Dn(n,wi)))}(this._delegate)}onSnapshotsInSync(t){return function RU(n,t){return function HB(n,t){const e=new FE(t);return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield Y_(n),r=e,tt(i).Nu.add(r),void r.next();var i,r})),()=>{e.Sc(),n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return i=yield Y_(n),r=e,void tt(i).Nu.delete(r);var i,r}))}}(ar(n=Dn(n,wi)),kM(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new K_(this,wP(this._delegate,t))}catch(e){throw Bo(e,"collection()","Firestore.collection()")}}doc(t){try{return new Pa(this,UE(this._delegate,t))}catch(e){throw Bo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Uo(this,function GB(n,t){if(n=Dn(n,D0),MM("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Me(fe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ao(n,null,(e=t,new Ml(vn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Bo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function jU(n,t,e){n=Dn(n,wi);const i=Object.assign(Object.assign({},UU),e);return function(r){if(r.maxAttempts<1)throw new Me(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,u){const h=new Xi;return r.asyncQueue.enqueueAndForget((0,we.Z)(function*(){const g=yield function dP(n){return LE(n).then(t=>t.datastore)}(r);new FB(r.asyncQueue,g,u,o,h).run()})),h.promise}(ar(n),r=>t(new HU(n,r)),i)}(this._delegate,e=>t(new ZP(this,e)))}batch(){return ar(this._delegate),new KP(new $P(this._delegate,t=>Z_(this._delegate,t)))}loadBundle(t){return function tU(n,t){const e=ar(n=Dn(n,wi)),i=new YB;return function jB(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?Ft().encode(o):o,g=function(g,v){if(g instanceof Uint8Array)return aP(g,v);if(g instanceof ArrayBuffer)return aP(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new OB(g,u);var g}(e,v0(t));n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){!function RB(n,t,e){const i=tt(n);var r;(r=(0,we.Z)(function*(o,u,h){try{const g=yield u.getMetadata();if(yield function(V,z){const X=tt(V),ne=sr(z.createTime);return X.persistence.runTransaction("hasNewerBundle","readonly",he=>X.Ls.getBundleMetadata(he,z.id)).then(he=>!!he&&he.createTime.compareTo(ne)>=0)}(o.localStore,g))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(V=g).totalDocuments,bytesLoaded:V.totalBytes,totalDocuments:V.totalDocuments,totalBytes:V.totalBytes}),Promise.resolve(new Set);h._updateProgress(QO(g));const v=new uB(g,o.localStore,u.serializer);let E=yield u.Pc();for(;E;){const V=yield v.ju(E);V&&h._updateProgress(V),E=yield u.Pc()}const S=yield v.complete();return yield Yu(o,S.Hu,void 0),yield function(V,z){const X=tt(V);return X.persistence.runTransaction("Save bundle","readwrite",ne=>X.Ls.saveBundleMetadata(ne,z))}(o.localStore,g),h._completeWith(S.progress),Promise.resolve(S.Wu)}catch(g){return hs("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var V}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield TM(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function nU(n,t){return function zB(n,t){return n.asyncQueue.enqueue((0,we.Z)(function*(){return function(e,i){const r=tt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ls.getNamedQuery(o,i))}(yield VE(n),t)}))}(ar(n=Dn(n,wi)),t).then(e=>e?new ao(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Uo(this,e):null)}}class QE extends BM{constructor(t){super(),this.firestore=t}convertBytes(t){return new R0(new Vc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Pa.forKey(e,this.firestore,null)}}class ZP{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new QE(t)}get(t){const e=_m(t);return this._delegate.get(e).then(i=>new k0(this._firestore,new Zu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=_m(t);return i?(HM("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=_m(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=_m(t);return this._delegate.delete(e),this}}class KP{constructor(t){this._delegate=t}set(t,e,i){const r=_m(t);return i?(HM("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=_m(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=_m(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class gm{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new M0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new O0(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=gm.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new gm(t,new QE(t),e),r.set(e,o)),o}}gm.INSTANCES=new WeakMap;class Pa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new QE(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Pa(e,new bi(e._delegate,i,new Je(t)))}static forKey(t,e,i){return new Pa(e,new bi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new K_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new K_(this.firestore,wP(this._delegate,t))}catch(e){throw Bo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,wn.m9)(t))instanceof bi&&CP(this._delegate,t)}set(t,e){e=HM("DocumentReference.set",e);try{return e?HP(this._delegate,t,e):HP(this._delegate,t)}catch(i){throw Bo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?jP(this._delegate,t):jP(this._delegate,t,e,...i)}catch(r){throw Bo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function AU(n){return Z_(Dn(n.firestore,wi),[new m(n._key,yi.none())])}(this._delegate)}onSnapshot(...t){const e=QP(t),i=XP(t,r=>new k0(this.firestore,new Zu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return zP(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function EU(n){n=Dn(n,bi);const t=Dn(n.firestore,wi),e=ar(t),i=new sf(t);return function BB(n,t){const e=new Xi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,o,u){try{const h=yield function(g,v){const E=tt(g);return E.persistence.runTransaction("read document","readonly",S=>E.localDocuments.getDocument(S,v))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Me(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=j_(h,`Failed to get document '${o} from cache`);u.reject(g)}}),function(r,o,u){return i.apply(this,arguments)})(yield VE(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Zu(t,i,n._key,r,new mm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function xU(n){n=Dn(n,bi);const t=Dn(n.firestore,wi);return hP(ar(t),n._key,{source:"server"}).then(e=>UM(t,n,e))}(this._delegate):function DU(n){n=Dn(n,bi);const t=Dn(n.firestore,wi);return hP(ar(t),n._key).then(e=>UM(t,n,e))}(this._delegate),e.then(i=>new k0(this.firestore,new Zu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Pa(this.firestore,this._delegate.withConverter(t?gm.getInstance(this.firestore,t):null))}}function Bo(n,t,e){return n.message=n.message.replace(t,e),n}function QP(n){for(const t of n)if("object"==typeof t&&!jM(t))return t;return{}}function XP(n,t){var e,i;let r;return r=jM(n[0])?n[0]:jM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class k0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Pa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return UP(this._delegate,t._delegate)}}class O0 extends k0{data(t){const e=this._delegate.data(t);return function wT(n,t){n||lt()}(void 0!==e),e}}class Uo{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new QE(t)}where(t,e,i){try{return new Uo(this.firestore,nf(this._delegate,function hU(n,t,e){const i=t,r=qE("where",n);return A0._create(r,i,e)}(t,e,i)))}catch(r){throw Bo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Uo(this.firestore,nf(this._delegate,function fU(n,t="asc"){const e=t,i=qE("orderBy",n);return VM._create(i,e)}(t,e)))}catch(i){throw Bo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Uo(this.firestore,nf(this._delegate,function pU(n){return yP("limit",n),YE._create("limit",n,"F")}(t)))}catch(e){throw Bo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Uo(this.firestore,nf(this._delegate,function mU(n){return yP("limitToLast",n),YE._create("limitToLast",n,"L")}(t)))}catch(e){throw Bo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Uo(this.firestore,nf(this._delegate,function gU(...n){return WE._create("startAt",n,!0)}(...t)))}catch(e){throw Bo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Uo(this.firestore,nf(this._delegate,function _U(...n){return WE._create("startAfter",n,!1)}(...t)))}catch(e){throw Bo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Uo(this.firestore,nf(this._delegate,function yU(...n){return ZE._create("endBefore",n,!1)}(...t)))}catch(e){throw Bo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Uo(this.firestore,nf(this._delegate,function vU(...n){return ZE._create("endAt",n,!0)}(...t)))}catch(e){throw Bo(e,"endAt()","Query.endAt()")}}isEqual(t){return RM(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function SU(n){n=Dn(n,ao);const t=Dn(n.firestore,wi),e=ar(t),i=new sf(t);return function UB(n,t){const e=new Xi;return n.asyncQueue.enqueueAndForget((0,we.Z)(function*(){return(i=(0,we.Z)(function*(r,o,u){try{const h=yield TE(r,o,!0),g=new eP(o,h.sr),v=g.nc(h.documents),E=g.applyChanges(v,!1);u.resolve(E.snapshot)}catch(h){const g=j_(h,`Failed to execute query '${o} against cache`);u.reject(g)}}),function(r,o,u){return i.apply(this,arguments)})(yield VE(n),t,e);var i})),e.promise}(e,n._query).then(r=>new rf(t,i,n,r))}(this._delegate):"server"===t?.source?function TU(n){n=Dn(n,ao);const t=Dn(n.firestore,wi),e=ar(t),i=new sf(t);return fP(e,n._query,{source:"server"}).then(r=>new rf(t,i,n,r))}(this._delegate):function IU(n){n=Dn(n,ao);const t=Dn(n.firestore,wi),e=ar(t),i=new sf(t);return OP(n._query),fP(e,n._query).then(r=>new rf(t,i,n,r))}(this._delegate),e.then(i=>new zM(this.firestore,new rf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=QP(t),i=XP(t,r=>new zM(this.firestore,new rf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return zP(this._delegate,e,i)}withConverter(t){return new Uo(this.firestore,this._delegate.withConverter(t?gm.getInstance(this.firestore,t):null))}}class JU{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new O0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zM{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Uo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new O0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new JU(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new O0(this._firestore,i))})}isEqual(t){return UP(this._delegate,t._delegate)}}class K_ extends Uo{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Pa(this.firestore,t):null}doc(t){try{return new Pa(this.firestore,void 0===t?UE(this._delegate):UE(this._delegate,t))}catch(e){throw Bo(e,"doc()","CollectionReference.doc()")}}add(t){return function MU(n,t){const e=Dn(n.firestore,wi),i=UE(n),r=KE(n.converter,t);return Z_(e,[zE(fm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,yi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Pa(this.firestore,e))}isEqual(t){return CP(this._delegate,t._delegate)}withConverter(t){return new K_(this.firestore,this._delegate.withConverter(t?gm.getInstance(this.firestore,t):null))}}function _m(n){return Dn(n,bi)}class $M{constructor(...t){this._delegate=new Wu(...t)}static documentId(){return new $M(_i.keyField().canonicalString())}isEqual(t){return(t=(0,wn.m9)(t))instanceof Wu&&this._delegate._internalPath.isEqual(t._internalPath)}}class ym{constructor(t){this._delegate=t}static serverTimestamp(){const t=function $U(){return new OM("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new ym(t)}static delete(){const t=function zU(){return new x0("deleteField")}();return t._methodName="FieldValue.delete",new ym(t)}static arrayUnion(...t){const e=function GU(...n){return new aU("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new ym(e)}static arrayRemove(...t){const e=function qU(...n){return new lU("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new ym(e)}static increment(t){const e=function YU(n){return new cU("increment",n)}(t);return e._methodName="FieldValue.increment",new ym(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const eH={Firestore:WP,GeoPoint:HE,Timestamp:ri,Blob:R0,Transaction:ZP,WriteBatch:KP,DocumentReference:Pa,DocumentSnapshot:k0,Query:Uo,QueryDocumentSnapshot:O0,QuerySnapshot:zM,CollectionReference:K_,FieldPath:$M,FieldValue:ym,setLogLevel:function XU(n){!function Zp(n){Ic.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function JP(n,t){return function iH(n,t=bp.z){return new qn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function GM(n,t){return JP(n,t).pipe((0,dt.U)(e=>({payload:e,type:"query"})))}function XE(n,t){return GM(n,t).pipe(go(void 0),Eg(),(0,dt.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const g=r.find(E=>E.doc.ref.isEqual(u.ref)),v=e?.payload.docs.find(E=>E.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function eF(n,t,e){return XE(n,e).pipe(uc((i,r)=>function oH(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function sH(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return qM(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return qM(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return qM(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Sv(),(0,dt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function qM(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function tF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function nH(n){(function tH(n,t){n.INTERNAL.registerComponent(new mh.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},eH)))})(n,(t,e)=>new WP(t,e,new QU)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(bc.Z);class nF{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=XE(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,dt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(go(void 0),Eg(),pi(([i,r])=>r.length>0||!i),(0,dt.U)(([i,r])=>r),yr.iC)}auditTrail(t){return this.stateChanges(t).pipe(uc((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=tF(t);return eF(this.query,e,this.afs.schedulers.outsideAngular).pipe(yr.iC)}valueChanges(t={}){return GM(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),yr.iC)}get(t){return(0,gn.D)(this.query.get(t)).pipe(yr.iC)}add(t){return this.ref.add(t)}doc(t){return new iF(this.ref.doc(t),this.afs)}}class iF{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=rF(i,e);return new nF(r,o,this.afs)}snapshotChanges(){return function rH(n,t){return JP(n,t).pipe(go(void 0),Eg(),(0,dt.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(yr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,dt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,gn.D)(this.ref.get(t)).pipe(yr.iC)}}class aH{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?XE(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),pi(e=>e.length>0),yr.iC):XE(this.query,this.afs.schedulers.outsideAngular).pipe(yr.iC)}auditTrail(t){return this.stateChanges(t).pipe(uc((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=tF(t);return eF(this.query,e,this.afs.schedulers.outsideAngular).pipe(yr.iC)}valueChanges(t={}){return GM(this.query,this.afs.schedulers.outsideAngular).pipe((0,dt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),yr.iC)}get(t){return(0,gn.D)(this.query.get(t)).pipe(yr.iC)}}const lH=new l.OlP("angularfire2.enableFirestorePersistence"),cH=new l.OlP("angularfire2.firestore.persistenceSettings"),uH=new l.OlP("angularfire2.firestore.settings"),dH=new l.OlP("angularfire2.firestore.use-emulator");function rF(n,t=(e=>e)){return{query:t(n),ref:n}}let WM,hH=(()=>{class n{constructor(e,i,r,o,u,h,g,v,E,S,V,z,X,ne,he,$e,at){this.schedulers=g;const it=(0,ss.on)(e,h,i),wt=E;S&&Cg(it,h,V,X,ne,he,z,$e),[this.firestore,this.persistenceEnabled$]=(0,ss.cc)(`${it.name}.firestore`,"AngularFirestore",it.name,()=>{const zt=h.runOutsideAngular(()=>it.firestore());if(o&&zt.settings(o),wt&&zt.useEmulator(...wt),r&&!Js(u)){const dn=()=>{try{return(0,gn.D)(zt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Rn){return typeof console<"u"&&console.warn(Rn),Qe(!1)}};return[zt,h.runOutsideAngular(dn)]}return[zt,Qe(!1)]},[o,wt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=rF(r,i),h=this.schedulers.ngZone.run(()=>o);return new nF(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new aH(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new iF(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ss.Dh),l.LFG(ss.xv,8),l.LFG(lH,8),l.LFG(uH,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(yr.HU),l.LFG(cH,8),l.LFG(dH,8),l.LFG(vp,8),l.LFG(Cv,8),l.LFG(Dv,8),l.LFG(RC,8),l.LFG(Ev,8),l.LFG(xv,8),l.LFG(Iv,8),l.LFG(yp,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YM=(()=>{class n{constructor(e,i){this.firestore=e,this.authService=i}saveFoodEntry(e,i){return this.firestore.collection("users").doc(e).collection("foodEntries").add(i)}getFoodEntries(e){return this.firestore.collection("users").doc(e).collection("foodEntries",i=>i.orderBy("date","desc")).snapshotChanges().pipe((0,dt.U)(i=>i.map(r=>{const o=r.payload.doc.data();return{id:r.payload.doc.id,...o}})))}deleteFoodEntry(e,i){return this.firestore.collection("users").doc(e).collection("foodEntries").doc(i).delete()}updateFoodEntry(e,i,r){return this.firestore.collection("users").doc(e).collection("foodEntries").doc(i).update(r)}getHighCalorieEntries(e){return this.authService.getCurrentUser().pipe(Bn(i=>i?this.firestore.collection("users").doc(i.uid).collection("foodEntries",r=>r.where("calories",">",e).orderBy("calories","desc")).valueChanges():Qe([])))}getLastNFoodEntries(e){return this.authService.getCurrentUser().pipe(Bn(i=>i?this.firestore.collection("users").doc(i.uid).collection("foodEntries",r=>r.orderBy("date","desc").limit(e)).valueChanges():Qe([])))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(hH),l.LFG(Us))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();try{WM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{WM=!1}let Q_,Nr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function qo(n){return n===wf}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!WM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oF=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function sF(){if(Q_)return Q_;if("object"!=typeof document||!document)return Q_=new Set(oF),Q_;let n=document.createElement("input");return Q_=new Set(oF.filter(t=>(n.setAttribute("type",t),n.type===t))),Q_}let P0,JE,vm,ZM;function X_(n){return function fH(){if(null==P0&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>P0=!0}))}finally{P0=P0||!1}return P0}()?n:!!n.capture}function aF(){if(null==vm){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return vm=!1,vm;if("scrollBehavior"in document.documentElement.style)vm=!0;else{const n=Element.prototype.scrollTo;vm=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return vm}function F0(){if("object"!=typeof document||!document)return 0;if(null==JE){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),JE=0,0===n.scrollLeft&&(n.scrollLeft=1,JE=0===n.scrollLeft?1:2),n.remove()}return JE}function KM(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function lf(n){return n.composedPath?n.composedPath()[0]:n.target}function QM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function ex(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function cF(n){return pi((t,e)=>n<=e)}var CH=B(5032);function qs(n){return(0,Mi.e)((t,e)=>{(0,is.Xf)(n).subscribe((0,ai.x)(e,()=>e.complete(),CH.Z)),!e.closed&&t.subscribe(e)})}function ps(n){return null!=n&&"false"!=`${n}`}function XM(n,t=0){return function DH(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function tx(n){return Array.isArray(n)?n:[n]}function Ir(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ku(n){return n instanceof l.SBq?n.nativeElement:n}function uF(n,t=bp.z){return(0,Mi.e)((e,i)=>{let r=null,o=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=o;o=null,i.next(v)}};function g(){const v=u+n,E=t.now();if(E<v)return r=this.schedule(void 0,v-E),void i.add(r);h()}e.subscribe((0,ai.x)(i,v=>{o=v,u=t.now(),r||(r=t.schedule(g,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}let dF=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EH=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ku(e);return new qn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Gt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(dF))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xH=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=ps(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=XM(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(uF(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(EH),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),hF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[dF]}),n})();const fF=new Set;let J_,IH=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):TH}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function SH(n){if(!fF.has(n))try{J_||(J_=document.createElement("style"),J_.setAttribute("type","text/css"),document.head.appendChild(J_)),J_.sheet&&(J_.sheet.insertRule(`@media ${n} {body{ }}`,0),fF.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Nr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TH(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let AH=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Gt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return pF(tx(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=ac(pF(tx(e)).map(u=>this._registerQuery(u).observable));return o=cl(o.pipe(Wi(1)),o.pipe(cF(1),uF(0))),o.pipe((0,dt.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:g,query:v})=>{h.matches=h.matches||g,h.breakpoints[v]=g}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new qn.y(u=>{const h=g=>this._zone.run(()=>u.next(g));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(go(i),(0,dt.U)(({matches:u})=>({query:e,matches:u})),qs(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(IH),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pF(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}let nx=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function OH(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function kH(n){try{return n.frameElement}catch{return null}}(function HH(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===yF(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=yF(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function BH(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function UH(n){return!function FH(n){return function LH(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function PH(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function NH(n){return function VH(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||_F(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Nr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _F(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function yF(n){if(!_F(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class jH{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Wi(1)).subscribe(t)}}let JM=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new jH(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(nx),l.LFG(l.R0b),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vF(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function bF(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const zH=new l.OlP("cdk-input-modality-detector-options"),$H={ignoreKeys:[18,17,224,91,16]},ey=X_({passive:!0,capture:!0});let GH=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Fn(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=lf(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(vF(u)?"keyboard":"mouse"),this._mostRecentTarget=lf(u))},this._onTouchstart=u=>{bF(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=lf(u))},this._options={...$H,...o},this.modalityDetected=this._modality.pipe(cF(1)),this.modalityChanged=this.modalityDetected.pipe(Sv()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ey),r.addEventListener("mousedown",this._onMousedown,ey),r.addEventListener("touchstart",this._onTouchstart,ey)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ey),document.removeEventListener("mousedown",this._onMousedown,ey),document.removeEventListener("touchstart",this._onTouchstart,ey))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Nr),l.LFG(l.R0b),l.LFG(re),l.LFG(zH,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YH=new l.OlP("cdk-focus-monitor-default-options"),ix=X_({passive:!0,capture:!0});let rx=(()=>{class n{constructor(e,i,r,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Gt.x,this._rootNodeFocusAndBlurListener=h=>{for(let v=lf(h);v;v=v.parentElement)"focus"===h.type?this._onFocus(h,v):this._onBlur(h,v)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=Ku(e);if(!this._platform.isBrowser||1!==r.nodeType)return Qe(null);const o=function mH(n){if(function pH(){if(null==ZM){const n=typeof document<"u"?document.head:null;ZM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return ZM}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new Gt.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=Ku(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Ku(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,g])=>this._originChanged(h,i,g)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=lf(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ix),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ix)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(qs(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ix),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ix),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Nr),l.LFG(GH),l.LFG(re,8),l.LFG(YH,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CF="cdk-high-contrast-black-on-white",DF="cdk-high-contrast-white-on-black",eR="cdk-high-contrast-active";let EF=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,l.f3M)(AH).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(eR,CF,DF),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(eR,CF):2===i&&e.add(eR,DF)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Nr),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tR=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(EF))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[hF]}),n})();const WH=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function ZH(){return(0,l.f3M)(re)}}),KH=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let cf=(()=>{class n{constructor(e){this.value="ltr",this.change=new l.vpe,e&&(this.value=function QH(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?KH.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(WH,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const JH=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function XH(){return!0}});let Ci=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!QM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(EF),l.LFG(JH,8),l.LFG(re))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[N0,N0]}),n})();function ej(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=ps(t)}constructor(...t){super(...t),this._disabled=!1}}}function nR(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function tj(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ps(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function nj(n){return class extends n{updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}constructor(...t){super(...t),this.errorState=!1}}}const ij=new l.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function rj(){return(0,l.f3M)(l.soG)}});class Bc{constructor(){this._localeChanges=new Gt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const iR=new l.OlP("mat-date-formats"),oj=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function rR(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let sj=(()=>{class n extends Bc{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return rR(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return rR(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return rR(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(oj.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ij,8),l.LFG(Nr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const aj={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let lj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:Bc,useClass:sj}]}),n})(),cj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:iR,useValue:aj}],imports:[lj]}),n})(),uj=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dj{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const SF=X_({passive:!0,capture:!0});class hj{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=lf(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const u=o.get(i);u?u.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,SF)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,SF)))}}const TF={enterDuration:225,exitDuration:150},AF=X_({passive:!0,capture:!0}),MF=["mousedown","touchstart"],RF=["mouseup","mouseleave","touchend","touchcancel"];class V0{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ku(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...TF,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function pj(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,g=e-r.top,v=o.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=h-u+"px",E.style.top=g-u+"px",E.style.height=2*u+"px",E.style.width=2*u+"px",null!=i.color&&(E.style.backgroundColor=i.color),E.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(E);const S=window.getComputedStyle(E),z=S.transitionDuration,X="none"===S.transitionProperty||"0s"===z||"0s, 0s"===z||0===r.width&&0===r.height,ne=new dj(this,E,i,X);E.style.transform="scale3d(1, 1, 1)",ne.state=0,i.persistent||(this._mostRecentTransientRipple=ne);let he=null;return!X&&(v||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const $e=()=>this._finishRippleTransition(ne),at=()=>this._destroyRipple(ne);E.addEventListener("transitionend",$e),E.addEventListener("transitioncancel",at),he={onTransitionEnd:$e,onTransitionCancel:at}}),this._activeRipples.set(ne,he),(X||!v)&&this._finishRippleTransition(ne),ne}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...TF,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ku(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,MF.forEach(i=>{V0._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{RF.forEach(e=>{this._triggerElement.addEventListener(e,this,AF)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=vF(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!bF(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(MF.forEach(e=>V0._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&RF.forEach(e=>t.removeEventListener(e,this,AF)))}}V0._eventManager=new hj;const mj=new l.OlP("mat-ripple-global-options");let kF=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new V0(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(Nr),l.Y36(mj,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),OF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ci,Ci]}),n})(),gj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ci]}),n})(),PF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[OF,Ar,Ci,gj]}),n})();const _j=["*"],bj=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],wj=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Cj=new l.OlP("MAT_CARD_CONFIG");let ox=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Cj,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:_j,decls:1,vars:0,template:function(e,i){1&e&&(l.F$t(),l.Hsn(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mat-mdc-card{position:relative;border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px));background-color:var(--mdc-elevated-card-container-color, transparent);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color, transparent)}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width, 1px);border-style:solid;border-color:var(--mdc-outlined-card-outline-color, transparent)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0}),n})(),sx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]}),n})(),ax=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]}),n})(),oR=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-mdc-card-actions","mdc-card__actions"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mat-mdc-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),FF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:wj,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(e,i){1&e&&(l.F$t(bj),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),kj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ci,Ar,Ci]}),n})();function sR(n){return n&&"function"==typeof n.connect&&!(n instanceof zd)}class NF{applyChanges(t,e,i,r,o){t.forEachOperation((u,h,g)=>{let v,E;if(null==u.previousIndex){const S=i(u,h,g);v=e.createEmbeddedView(S.templateRef,S.context,S.index),E=1}else null==g?(e.remove(h),E=3):(v=e.get(h),e.move(v,g),E=2);o&&o({context:v?.context,operation:E,record:u})})}detach(){}}const B0=new l.OlP("_ViewRepeater");var Oj=B(1144);const Pj=["addListener","removeListener"],Fj=["addEventListener","removeEventListener"],Nj=["on","off"];function lx(n,t,e,i){if((0,zr.m)(e)&&(i=e,e=void 0),i)return lx(n,t,e).pipe(Rr(i));const[r,o]=function Bj(n){return(0,zr.m)(n.addEventListener)&&(0,zr.m)(n.removeEventListener)}(n)?Fj.map(u=>h=>n[u](t,h,e)):function Lj(n){return(0,zr.m)(n.addListener)&&(0,zr.m)(n.removeListener)}(n)?Pj.map(VF(n,t)):function Vj(n){return(0,zr.m)(n.on)&&(0,zr.m)(n.off)}(n)?Nj.map(VF(n,t)):[];if(!r&&(0,Oj.z)(n))return(0,Yn.z)(u=>lx(u,t,e))((0,is.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new qn.y(u=>{const h=(...g)=>u.next(1<g.length?g:g[0]);return r(h),()=>o(h)})}function VF(n,t){return e=>i=>n[e](t,i)}var BF=B(4408);const U0={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=U0;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new eo.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=U0;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=U0;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var UF=B(7565);const jj=new class Hj extends UF.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Uj extends BF.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=U0.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(U0.cancelAnimationFrame(e),t._scheduled=void 0)}});let aR,zj=1;const cx={};function HF(n){return n in cx&&(delete cx[n],!0)}const $j={setImmediate(n){const t=zj++;return cx[t]=!0,aR||(aR=Promise.resolve()),aR.then(()=>HF(t)&&n()),t},clearImmediate(n){HF(n)}},{setImmediate:Gj,clearImmediate:qj}=$j,ux={setImmediate(...n){const{delegate:t}=ux;return(t?.setImmediate||Gj)(...n)},clearImmediate(n){const{delegate:t}=ux;return(t?.clearImmediate||qj)(n)},delegate:void 0},Zj=new class Wj extends UF.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Yj extends BF.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ux.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(ux.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var Qj=B(3532);function lR(n,t=bp.z){return function Kj(n){return(0,Mi.e)((t,e)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const v=r;r=null,e.next(v)}u&&e.complete()},g=()=>{o=null,u&&e.complete()};t.subscribe((0,ai.x)(e,v=>{i=!0,r=v,o||(0,is.Xf)(n(v)).subscribe(o=(0,ai.x)(e,h,g))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function Jj(n=0,t,e=bp.P){let i=-1;return null!=t&&((0,Qj.K)(t)?e=t:i=t),new qn.y(r=>{let o=function Xj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}const e3=["contentWrapper"],t3=["*"],n3=new l.OlP("VIRTUAL_SCROLL_STRATEGY");let dx=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Gt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new qn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(lR(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(pi(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ku(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>lx(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(Nr),l.LFG(re,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jF=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Gt.x,this._elementScrolled=new qn.y(u=>this.ngZone.runOutsideAngular(()=>lx(this.elementRef.nativeElement,"scroll").pipe(qs(this._destroyed)).subscribe(u)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=F0()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==F0()?e.left=e.right:1==F0()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;aF()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const u=this.dir&&"rtl"==this.dir.value;return"start"==e?e=u?r:i:"end"==e&&(e=u?i:r),u&&2==F0()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:u&&1==F0()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(dx),l.Y36(l.R0b),l.Y36(cf,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),hx=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Gt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(lR(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Nr),l.LFG(l.R0b),l.LFG(re,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zF=new l.OlP("VIRTUAL_SCROLLABLE");let s3=(()=>{class n extends jF{constructor(e,i,r,o){super(e,i,r,o)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(dx),l.Y36(l.R0b),l.Y36(cf,8))},n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const l3=typeof requestAnimationFrame<"u"?jj:Zj;let c3=(()=>{class n extends s3{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=ps(e)}constructor(e,i,r,o,u,h,g,v){super(e,h,r,u),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=v,this._platform=(0,l.f3M)(Nr),this._detachedSubject=new Gt.x,this._renderedRangeSubject=new Gt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new qn.y(E=>this._scrollStrategy.scrolledIndexChange.subscribe(S=>Promise.resolve().then(()=>this.ngZone.run(()=>E.next(S))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=eo.w0.EMPTY,this._viewportChanges=g.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(go(null),lR(0,l3)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(qs(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function a3(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const o="horizontal"==this.orientation,u=o?"X":"Y";let g=`translate${u}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(g+=` translate${u}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=g&&(this._renderedContentTransform=g,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",o="right",u="rtl"==this.dir?.value;i="start"==e?u?o:r:"end"==e?u?r:o:e||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-h}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(n3,8),l.Y36(cf,8),l.Y36(dx),l.Y36(hx),l.Y36(zF,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&l.Gf(e3,7),2&e){let r;l.iGM(r=l.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[l._Bn([{provide:jF,useFactory:(t,e)=>t||e,deps:[[new l.FiY,new l.tBr(zF)],n]}]),l.qOj,l.jDz],ngContentSelectors:t3,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(l.F$t(),l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&e&&(l.xp6(3),l.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),H0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),cR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[N0,H0,c3,N0,H0]}),n})();const d3=[[["caption"]],[["colgroup"],["col"]]],h3=["caption","colgroup, col"];function uR(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=ps(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const ty=new l.OlP("CDK_TABLE");let ny=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),iy=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),fx=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class g3{}const _3=uR(g3);let Qu=(()=>{class n extends _3{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=ps(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ty,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,ny,5),l.Suo(r,iy,5),l.Suo(r,fx,5)),2&e){let o;l.iGM(o=l.CRH())&&(i.cell=o.first),l.iGM(o=l.CRH())&&(i.headerCell=o.first),l.iGM(o=l.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[l._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})();class dR{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let hR=(()=>{class n extends dR{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Qu),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[l.qOj]}),n})(),fR=(()=>{class n extends dR{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Qu),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[l.qOj]}),n})();class GF{constructor(){this.tasks=[],this.endTasks=[]}}const pR=new l.OlP("_COALESCED_STYLE_SCHEDULER");let qF=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Gt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new GF,this._getScheduleObservable().pipe(qs(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new GF;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,gn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Wi(1))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),mR=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof j0?e.headerCell.template:this instanceof z0?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();class y3 extends mR{}const v3=uR(y3);let j0=(()=>{class n extends v3{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(ty,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})();class b3 extends mR{}const w3=uR(b3);let z0=(()=>{class n extends w3{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(ty,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[l.qOj,l.TTD]}),n})(),px=(()=>{class n extends mR{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc),l.Y36(l.ZZ4),l.Y36(ty,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[l.qOj]}),n})(),Xu=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),gR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},dependencies:[Xu],encapsulation:2}),n})(),yR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},dependencies:[Xu],encapsulation:2}),n})(),mx=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const YF=["top","bottom","left","right"];class C3{constructor(t,e,i,r,o=!0,u=!0,h){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=u,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(V=>V)&&!i.some(V=>V))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],u=o.children.length,h=this._getCellWidths(o,r),g=this._getStickyStartColumnPositions(h,e),v=this._getStickyEndColumnPositions(h,i),E=e.lastIndexOf(!0),S=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const V="rtl"===this.direction,z=V?"right":"left",X=V?"left":"right";for(const ne of t)for(let he=0;he<u;he++){const $e=ne.children[he];e[he]&&this._addStickyStyle($e,z,g[he],he===E),i[he]&&this._addStickyStyle($e,X,v[he],he===S)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===E?[]:h.slice(0,E+1).map((ne,he)=>e[he]?ne:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===S?[]:h.slice(S).map((ne,he)=>i[he+S]?ne:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,u=[],h=[],g=[];for(let E=0,S=0;E<r.length;E++){if(!o[E])continue;u[E]=S;const V=r[E];g[E]=this._isNativeHtmlTable?Array.from(V.children):[V];const z=V.getBoundingClientRect().height;S+=z,h[E]=z}const v=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let E=0;E<r.length;E++){if(!o[E])continue;const S=u[E],V=E===v;for(const z of g[E])this._addStickyStyle(z,i,S,V)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:u,elements:g}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:u,elements:g})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);YF.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of YF)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const vR=new l.OlP("CDK_SPL");let gx=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),_x=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),yx=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),vx=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),bx=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=ps(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=ps(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,o,u,h,g,v,E,S,V,z){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=u,this._platform=g,this._viewRepeater=v,this._coalescedStyleScheduler=E,this._viewportRuler=S,this._stickyPositioningListener=V,this._ngZone=z,this._onDestroy=new Gt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new l.vpe,this.viewChange=new Fn({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(qs(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),sR(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,u)=>this._getEmbeddedViewArgs(r.item,u),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&l.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Wi(1),qs(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(u=>u.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(u=>u.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,u)=>{this._addStickyColumnStyles([o],this._headerRowDefs[u])}),this._rowDefs.forEach(o=>{const u=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===o&&u.push(i[h]);this._addStickyColumnStyles(u,o)}),r.forEach((o,u)=>{this._addStickyColumnStyles([o],this._footerRowDefs[u])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const u=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let h=0;h<u.length;h++){let g=u[h];const v=this._cachedRenderRowsMap.get(g.data);v.has(g.rowDef)?v.get(g.rowDef).push(g):v.set(g.rowDef,[g]),e.push(g)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(u=>{const h=r&&r.has(u)?r.get(u):[];if(h.length){const g=h.shift();return g.dataIndex=i,g}return{data:e,rowDef:u,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),wx(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=wx(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=wx(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=wx(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(u,h)=>u||!!h.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],sR(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;sR(this.dataSource)?e=this.dataSource.connect(this):function u3(n){return!!n&&(n instanceof qn.y||(0,zr.m)(n.lift)&&(0,zr.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Qe(this.dataSource)),this._renderChangeSubscription=e.pipe(qs(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),o=r.map(h=>h.sticky),u=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,u,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(u=>u.when&&u.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const u=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),u}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))Xu.mostRecentCellOutlet&&Xu.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const u=e.get(i).context;u.count=r,u.first=0===i,u.last=i===r-1,u.even=i%2==0,u.odd=!u.even,this.multiTemplateDataRows?(u.dataIndex=this._renderRows[i].dataIndex,u.renderIndex=i):u.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const u of r.outlets)o.appendChild(u.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new C3(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Qe()).pipe(qs(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),u=o.rootNodes[0];1===o.rootNodes.length&&u?.nodeType===this._document.ELEMENT_NODE&&(u.setAttribute("role","row"),u.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.sBO),l.Y36(l.SBq),l.$8M("role"),l.Y36(cf,8),l.Y36(re),l.Y36(Nr),l.Y36(B0),l.Y36(pR),l.Y36(hx),l.Y36(vR,12),l.Y36(l.R0b,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,mx,5),l.Suo(r,Qu,5),l.Suo(r,px,5),l.Suo(r,j0,5),l.Suo(r,z0,5)),2&e){let o;l.iGM(o=l.CRH())&&(i._noDataRow=o.first),l.iGM(o=l.CRH())&&(i._contentColumnDefs=o),l.iGM(o=l.CRH())&&(i._contentRowDefs=o),l.iGM(o=l.CRH())&&(i._contentHeaderRowDefs=o),l.iGM(o=l.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(l.Gf(gx,7),l.Gf(_x,7),l.Gf(yx,7),l.Gf(vx,7)),2&e){let r;l.iGM(r=l.CRH())&&(i._rowOutlet=r.first),l.iGM(r=l.CRH())&&(i._headerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._footerRowOutlet=r.first),l.iGM(r=l.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[l._Bn([{provide:ty,useExisting:n},{provide:B0,useClass:NF},{provide:pR,useClass:qF},{provide:vR,useValue:null}])],ngContentSelectors:h3,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(l.F$t(d3),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[gx,_x,yx,vx],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function wx(n,t){return n.concat(Array.from(t))}let E3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[cR]}),n})();const x3=[[["caption"]],[["colgroup"],["col"]]],I3=["caption","colgroup, col"];let bR=(()=>{class n extends bx{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[l._Bn([{provide:bx,useExisting:n},{provide:ty,useExisting:n},{provide:pR,useClass:qF},{provide:B0,useClass:NF},{provide:vR,useValue:null}]),l.qOj],ngContentSelectors:I3,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(l.F$t(x3),l.Hsn(0),l.Hsn(1,1),l.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[gx,_x,yx,vx],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),Cx=(()=>{class n extends ny{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matCellDef",""]],features:[l._Bn([{provide:ny,useExisting:n}]),l.qOj]}),n})(),Dx=(()=>{class n extends iy{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[l._Bn([{provide:iy,useExisting:n}]),l.qOj]}),n})(),Ex=(()=>{class n extends Qu{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[l._Bn([{provide:Qu,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),l.qOj]}),n})(),xx=(()=>{class n extends hR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[l.qOj]}),n})(),Ix=(()=>{class n extends fR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[l.qOj]}),n})(),wR=(()=>{class n extends j0{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[l._Bn([{provide:j0,useExisting:n}]),l.qOj]}),n})(),CR=(()=>{class n extends px{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[l._Bn([{provide:px,useExisting:n}]),l.qOj]}),n})(),DR=(()=>{class n extends gR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[l._Bn([{provide:gR,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},dependencies:[Xu],encapsulation:2}),n})(),ER=(()=>{class n extends yR{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[l._Bn([{provide:yR,useExisting:n}]),l.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&l.GkF(0,0)},dependencies:[Xu],encapsulation:2}),n})(),N3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ci,E3,Ci]}),n})();const V3=["mat-button",""],B3=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],U3=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],H3=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],j3=nR(ej(tj(class{constructor(n){this._elementRef=n}})));let z3=(()=>{class n extends j3{constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,l.f3M)(rx),this._isFab=!1;const u=e.nativeElement.classList;for(const h of H3)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(g=>{u.add(g)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){l.$Z()},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,i){if(1&e&&l.Gf(kF,5),2&e){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},features:[l.qOj]}),n})(),bm=(()=>{class n extends z3{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Nr),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:V3,ngContentSelectors:U3,decls:8,vars:6,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(l.F$t(B3),l._UZ(0,"span",0),l.Hsn(1),l.TgZ(2,"span",1),l.Hsn(3,1),l.qZA(),l.Hsn(4,2),l._UZ(5,"span",2)(6,"span",3)(7,"span",4)),2&e&&(l.ekj("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab),l.xp6(6),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[kF],styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),xR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ci,OF,Ci]}),n})();const q3=["*",[["mat-toolbar-row"]]],Y3=["*","mat-toolbar-row"],W3=nR(class{constructor(n){this._elementRef=n}});let ZF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),Z3=(()=>{class n extends W3{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Nr),l.Y36(re))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&l.Suo(r,ZF,5),2&e){let o;l.iGM(o=l.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[l.qOj],ngContentSelectors:Y3,decls:2,vars:0,template:function(e,i){1&e&&(l.F$t(q3),l.Hsn(0),l.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),K3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ci,Ci]}),n})();function KF(...n){const t=(0,Jr.jO)(n),{args:e,keys:i}=oc(n),r=new qn.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let g=u,v=u;for(let E=0;E<u;E++){let S=!1;(0,is.Xf)(e[E]).subscribe((0,ai.x)(o,V=>{S||(S=!0,v--),h[E]=V},()=>g--,void 0,()=>{(!g||!S)&&(v||o.next(i?sc(i,h):h),o.complete())}))}});return t?r.pipe(Rr(t)):r}class IR{}class uf{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(o=>o.toString()),r.length>0){const o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof uf?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new uf;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof uf?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Q3{encodeKey(t){return XF(t)}encodeValue(t){return XF(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const J3=/%(\d[a-f0-9])/gi,ez={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function XF(n){return encodeURIComponent(n).replace(J3,(t,e)=>ez[e]??t)}function Sx(n){return`${n}`}class df{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Q3,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function X3(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],g=e.get(u)||[];g.push(h),e.set(u,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Sx):[Sx(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new df({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Sx(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Sx(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class tz{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function JF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function eN(n){return typeof Blob<"u"&&n instanceof Blob}function tN(n){return typeof FormData<"u"&&n instanceof FormData}class $0{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function nz(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new uf),this.context||(this.context=new tz),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new df,this.urlWithParams=e}serializeBody(){return null===this.body?null:JF(this.body)||eN(this.body)||tN(this.body)||function iz(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof df?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||tN(this.body)?null:eN(this.body)?this.body.type||null:JF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof df?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let g=t.headers||this.headers,v=t.params||this.params;const E=t.context??this.context;return void 0!==t.setHeaders&&(g=Object.keys(t.setHeaders).reduce((S,V)=>S.set(V,t.setHeaders[V]),g)),t.setParams&&(v=Object.keys(t.setParams).reduce((S,V)=>S.set(V,t.setParams[V]),v)),new $0(e,i,o,{params:v,headers:g,context:E,reportProgress:h,responseType:r,withCredentials:u})}}var lo=(()=>((lo=lo||{})[lo.Sent=0]="Sent",lo[lo.UploadProgress=1]="UploadProgress",lo[lo.ResponseHeader=2]="ResponseHeader",lo[lo.DownloadProgress=3]="DownloadProgress",lo[lo.Response=4]="Response",lo[lo.User=5]="User",lo))();class rz{constructor(t,e=200,i="OK"){this.headers=t.headers||new uf,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class SR extends rz{constructor(t={}){super(t),this.type=lo.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new SR({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function TR(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let AR=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof $0)o=e;else{let g,v;g=r.headers instanceof uf?r.headers:new uf(r.headers),r.params&&(v=r.params instanceof df?r.params:new df({fromObject:r.params})),o=new $0(e,i,void 0!==r.body?r.body:null,{headers:g,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Qe(o).pipe(Oo(g=>this.handler.handle(g)));if(e instanceof $0||"events"===r.observe)return u;const h=u.pipe(pi(g=>g instanceof SR));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,dt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return h.pipe((0,dt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return h.pipe((0,dt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return h.pipe((0,dt.U)(g=>g.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new df).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,TR(r,i))}post(e,i,r={}){return this.request("POST",e,TR(r,i))}put(e,i,r={}){return this.request("PUT",e,TR(r,i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(IR))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _z=["*"];let Ax;function G0(n){return function yz(){if(void 0===Ax&&(Ax=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Ax=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Ax}()?.createHTML(n)||n}function cN(n){return Error(`Unable to find icon with the name "${n}"`)}function uN(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function dN(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class wm{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let Mx=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new wm(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw dN(r);const h=G0(u);return this._addSvgIconConfig(e,i,new wm("",h,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new wm(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(l.q3G.HTML,i);if(!o)throw dN(i);const u=G0(o);return this._addSvgIconSetConfig(e,new wm("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,e);if(!i)throw uN(e);const r=this._cachedIconsByUrl.get(i);return r?Qe(Rx(r)):this._loadSvgIconFromConfig(new wm(e,null)).pipe((0,ni.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,dt.U)(o=>Rx(o)))}getNamedSvgIcon(e,i=""){const r=hN(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):ma(cN(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Qe(Rx(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,dt.U)(i=>Rx(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Qe(r):KF(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(Po(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),Qe(null)})))).pipe((0,dt.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw cN(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,ni.b)(i=>e.svgText=i),(0,dt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Qe(null):this._fetchIcon(e).pipe((0,ni.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(G0("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(G0("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:u,value:h}=r[o];"id"!==u&&i.setAttribute(u,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function vz(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!u)throw uN(i);const h=this._inProgressUrlFetches.get(u);if(h)return h;const g=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe((0,dt.U)(v=>G0(v)),ya(()=>this._inProgressUrlFetches.delete(u)),(0,dC.B)());return this._inProgressUrlFetches.set(u,g),g}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(hN(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return wz(o)?new wm(o.url,null,o.options):new wm(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(AR,8),l.LFG(fa),l.LFG(re,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rx(n){return n.cloneNode(!0)}function hN(n,t){return n+":"+t}function wz(n){return!(!n.url||!n.options)}const Cz=nR(class{constructor(n){this._elementRef=n}}),Dz=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),Ez=new l.OlP("mat-icon-location",{providedIn:"root",factory:function xz(){const n=(0,l.f3M)(re),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),fN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Iz=fN.map(n=>`[${n}]`).join(", "),Sz=/^url\(['"]?#(.*?)['"]?\)$/;let q0=(()=>{class n extends Cz{get inline(){return this._inline}set inline(e){this._inline=ps(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,u,h){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=eo.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Iz),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)fN.forEach(u=>{const h=i[o],g=h.getAttribute(u),v=g?g.match(Sz):null;if(v){let E=r.get(h);E||(E=[],r.set(h,E)),E.push({name:u,value:v[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Wi(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Mx),l.$8M("aria-hidden"),l.Y36(Ez),l.Y36(l.qLn),l.Y36(Dz,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:_z,decls:1,vars:0,template:function(e,i){1&e&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Tz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ci,Ci]}),n})(),RR=(()=>{class n{constructor(e,i){this.el=e,this.renderer=i,i.setStyle(e.nativeElement,"color","#50514f"),i.setStyle(e.nativeElement,"backgroundColor","#9ca3db")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","appButtonClr",""]]}),n})(),kx=(()=>{class n{constructor(e,i){this.el=e,this.renderer=i,i.setStyle(e.nativeElement,"color","#50514f"),i.setStyle(e.nativeElement,"backgroundColor","#ef9ca3")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","appButtonWar",""]]}),n})();function Az(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(e);const r=l.oxw();return l.KtG(r.Logout())}),l._uU(1," Kijelentkez\xe9s "),l._UZ(2,"mat-icon",12),l.qZA()}}let kR=(()=>{class n{constructor(e){this.authenticationService=e}get IsLoggedIn(){return this.authenticationService.isLoggedIn()}Logout(){this.authenticationService.Logout()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Us))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:15,vars:1,consts:[["href","https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap","rel","stylesheet"],["href","https://fonts.googleapis.com/icon?family=Material+Icons","rel","stylesheet"],["color","primary"],["mat-button","","routerLink","/home","appButtonClr","",1,"foodButtons"],["fontIcon","home"],["mat-button","","routerLink","/food-entry","appButtonClr","",1,"foodButtons"],["fontIcon","egg"],["mat-button","","routerLink","/food-history","appButtonClr","",1,"foodButtons"],["fontIcon","history"],[1,"spacer"],["mat-raised-button","","color","accent","appButtonWar","",3,"click",4,"ngIf"],["mat-raised-button","","color","accent","appButtonWar","",3,"click"],["fontIcon","logout"]],template:function(e,i){1&e&&(l._UZ(0,"link",0)(1,"link",1),l.TgZ(2,"mat-toolbar",2)(3,"mat-toolbar-row")(4,"button",3),l._uU(5," Kez\u0151lap "),l._UZ(6,"mat-icon",4),l.qZA(),l.TgZ(7,"button",5),l._uU(8," T\xe1pl\xe1l\xe9k Bevitel "),l._UZ(9,"mat-icon",6),l.qZA(),l.TgZ(10,"button",7),l._uU(11," T\xe1pl\xe1l\xe9k El\u0151zm\xe9nyek "),l._UZ(12,"mat-icon",8),l.qZA(),l._UZ(13,"span",9),l.YNc(14,Az,3,0,"button",10),l.qZA()()),2&e&&(l.xp6(14),l.Q6J("ngIf",i.IsLoggedIn))},dependencies:[Qr,ig,bm,Z3,ZF,q0,RR,kx],styles:["[_nghost-%COMP%]     .mat-toolbar-row{background-color:#91c7b1;display:flex;justify-content:space-between;align-items:center;padding:1%}.spacer[_ngcontent-%COMP%]{flex:1}.foodButtons[_ngcontent-%COMP%]{margin-right:1%}"]}),n})(),Cm=(()=>{class n{constructor(e,i){this.el=e,this.renderer=i,i.setStyle(e.nativeElement,"color","#50514f")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","appHighlight",""]]}),n})(),pN=(()=>{class n{transform(e,i){const r=new Date(e);return`${r.getFullYear()}-${r.getMonth()+1}-${r.getDate()}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=l.Yjl({name:"formattedDate",type:n,pure:!0}),n})();function Mz(n,t){1&n&&l.GkF(0)}function Rz(n,t){1&n&&(l.TgZ(0,"th",13),l._uU(1,"D\xe1tum"),l.qZA())}function kz(n,t){if(1&n&&(l.TgZ(0,"td",14),l._uU(1),l.ALo(2,"formattedDate"),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(l.lcZ(2,1,e.date))}}function Oz(n,t){1&n&&(l.TgZ(0,"th",13),l._uU(1,"Kal\xf3ria"),l.qZA())}function Pz(n,t){if(1&n&&(l.TgZ(0,"td",14),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij("",e.calories," kal\xf3ria")}}function Fz(n,t){1&n&&l._UZ(0,"tr",15)}function Nz(n,t){1&n&&l._UZ(0,"tr",16)}function Lz(n,t){1&n&&(l.TgZ(0,"th",13),l._uU(1,"D\xe1tum"),l.qZA())}function Vz(n,t){if(1&n&&(l.TgZ(0,"td",14),l._uU(1),l.ALo(2,"formattedDate"),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(l.lcZ(2,1,e.date))}}function Bz(n,t){1&n&&(l.TgZ(0,"th",13),l._uU(1,"Kal\xf3ria"),l.qZA())}function Uz(n,t){if(1&n&&(l.TgZ(0,"td",14),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij("",e.calories," kal\xf3ria")}}function Hz(n,t){1&n&&l._UZ(0,"tr",15)}function jz(n,t){1&n&&l._UZ(0,"tr",16)}let zz=(()=>{class n{constructor(e,i){this.authenticationService=e,this.foodService=i,this.highCalorieEntries=[],this.lastNFoodEntries=[],this.displayedColumns=["date","calories"]}ngOnInit(){this.foodService.getHighCalorieEntries(2500).subscribe(e=>{this.highCalorieEntries=e}),this.foodService.getLastNFoodEntries(5).subscribe(e=>{this.lastNFoodEntries=e})}get IsLoggedIn(){return this.authenticationService.isLoggedIn()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Us),l.Y36(YM))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:35,vars:7,consts:[[4,"ngIf"],["appHighlight",""],["fxLayout","row","fxLayoutGap","20px",1,"container"],[1,"example-card"],["mat-table","",3,"dataSource"],["tableRef1",""],["matColumnDef","date"],["mat-header-cell","","appHighlight","",4,"matHeaderCellDef"],["mat-cell","","appHighlight","",4,"matCellDef"],["matColumnDef","calories"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["tableRef2",""],["mat-header-cell","","appHighlight",""],["mat-cell","","appHighlight",""],["mat-header-row",""],["mat-row",""]],template:function(e,i){1&e&&(l.YNc(0,Mz,1,0,"ng-container",0),l._UZ(1,"app-navbar"),l.TgZ(2,"h1",1),l._uU(3,"\xdcdv a t\xe1pl\xe1l\xe9k nyomonk\xf6vet\xe9s alkalmaz\xe1sban"),l.qZA(),l.TgZ(4,"div",2)(5,"mat-card",3)(6,"mat-card-header")(7,"mat-card-title",1),l._uU(8,"Magas kal\xf3riatartalm\xfa bejegyz\xe9sek"),l.qZA()(),l.TgZ(9,"mat-card-content")(10,"table",4,5),l.ynx(12,6),l.YNc(13,Rz,2,0,"th",7),l.YNc(14,kz,3,3,"td",8),l.BQk(),l.ynx(15,9),l.YNc(16,Oz,2,0,"th",7),l.YNc(17,Pz,2,1,"td",8),l.BQk(),l.YNc(18,Fz,1,0,"tr",10),l.YNc(19,Nz,1,0,"tr",11),l.qZA()()(),l.TgZ(20,"mat-card",3)(21,"mat-card-header")(22,"mat-card-title",1),l._uU(23,"Legut\xf3bbi 5 t\xe1pl\xe1l\xe9kbeviteli adat"),l.qZA()(),l.TgZ(24,"mat-card-content")(25,"table",4,12),l.ynx(27,6),l.YNc(28,Lz,2,0,"th",7),l.YNc(29,Vz,3,3,"td",8),l.BQk(),l.ynx(30,9),l.YNc(31,Bz,2,0,"th",7),l.YNc(32,Uz,2,1,"td",8),l.BQk(),l.YNc(33,Hz,1,0,"tr",10),l.YNc(34,jz,1,0,"tr",11),l.qZA()()()()),2&e&&(l.Q6J("ngIf",i.authenticationService.isLoggedIn()),l.xp6(10),l.Q6J("dataSource",i.highCalorieEntries),l.xp6(8),l.Q6J("matHeaderRowDef",i.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",i.displayedColumns),l.xp6(6),l.Q6J("dataSource",i.lastNFoodEntries),l.xp6(8),l.Q6J("matHeaderRowDef",i.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[Qr,ox,ax,FF,sx,bR,Dx,wR,Ex,Cx,CR,xx,Ix,DR,ER,kR,Cm,pN],styles:["h1[_ngcontent-%COMP%]{text-align:center}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #91C7B1;padding:8px;text-align:left}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:1px solid #91C7B1}"]}),n})();const mN=X_({passive:!0});let $z=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return mr.E;const i=Ku(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new Gt.x,u="cdk-text-field-autofilled",h=g=>{"cdk-text-field-autofill-start"!==g.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===g.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,mN),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",h,mN)}}),o}stopMonitoring(e){const i=Ku(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Nr),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),gN=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Dm=(()=>{class n extends gN{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Ol=new l.OlP("NgValueAccessor"),Yz={provide:Ol,useExisting:(0,l.Gpc)(()=>Y0),multi:!0},Zz=new l.OlP("CompositionEventMode");let Y0=(()=>{class n extends gN{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Wz(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Zz,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&l.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[l._Bn([Yz]),l.qOj]}),n})();const Kz=!1;function hf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function yN(n){return null!=n&&"number"==typeof n.length}const co=new l.OlP("NgValidators"),ff=new l.OlP("NgAsyncValidators"),Qz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Em{static min(t){return function vN(n){return t=>{if(hf(t.value)||hf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function bN(n){return t=>{if(hf(t.value)||hf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return wN(t)}static requiredTrue(t){return function CN(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function DN(n){return hf(n.value)||Qz.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function EN(n){return t=>hf(t.value)||!yN(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function xN(n){return t=>yN(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function IN(n){if(!n)return Ox;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(hf(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return kN(t)}static composeAsync(t){return ON(t)}}function wN(n){return hf(n.value)?{required:!0}:null}function Ox(n){return null}function SN(n){return null!=n}function TN(n){const t=(0,l.QGY)(n)?(0,gn.D)(n):n;if(Kz&&!(0,l.CqO)(t)){let e="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(e+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,e)}return t}function AN(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function MN(n,t){return t.map(e=>e(n))}function RN(n){return n.map(t=>function Xz(n){return!n.validate}(t)?t:e=>t.validate(e))}function kN(n){if(!n)return null;const t=n.filter(SN);return 0==t.length?null:function(e){return AN(MN(e,t))}}function OR(n){return null!=n?kN(RN(n)):null}function ON(n){if(!n)return null;const t=n.filter(SN);return 0==t.length?null:function(e){return KF(MN(e,t).map(TN)).pipe((0,dt.U)(AN))}}function PR(n){return null!=n?ON(RN(n)):null}function PN(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function FN(n){return n._rawValidators}function NN(n){return n._rawAsyncValidators}function FR(n){return n?Array.isArray(n)?n:[n]:[]}function Px(n,t){return Array.isArray(n)?n.includes(t):n===t}function LN(n,t){const e=FR(t);return FR(n).forEach(r=>{Px(e,r)||e.push(r)}),e}function VN(n,t){return FR(t).filter(e=>!Px(n,e))}class BN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=OR(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=PR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ho extends BN{get formDirective(){return null}get path(){return null}}class Ju extends BN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class UN{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let NR=(()=>{class n extends UN{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ju,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),LR=(()=>{class n extends UN{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ho,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();function HN(n,t){return n?`with name: '${t}'`:`at index: ${t}`}const UR=!1,W0="VALID",Nx="INVALID",sy="PENDING",Z0="DISABLED";function HR(n){return(Lx(n)?n.validators:n)||null}function jR(n,t){return(Lx(t)?t.asyncValidators:n)||null}function Lx(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function jN(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new l.vHH(1e3,UR?function n4(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(t):"");if(!i[e])throw new l.vHH(1001,UR?function r4(n,t){return`Cannot find form control ${HN(n,t)}`}(t,e):"")}function zN(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new l.vHH(1002,UR?function o4(n,t){return`Must supply a value for form control ${HN(n,t)}`}(t,r):"")})}class Vx{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===W0}get invalid(){return this.status===Nx}get pending(){return this.status==sy}get disabled(){return this.status===Z0}get enabled(){return this.status!==Z0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(LN(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(LN(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(VN(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(VN(t,this._rawAsyncValidators))}hasValidator(t){return Px(this._rawValidators,t)}hasAsyncValidator(t){return Px(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=sy,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Z0,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=W0,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===W0||this.status===sy)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Z0:W0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=sy,this._hasOwnPendingAsyncValidator=!0;const e=TN(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Z0:this.errors?Nx:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(sy)?sy:this._anyControlsHaveStatus(Nx)?Nx:W0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Lx(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function s4(n){return Array.isArray(n)?OR(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function a4(n){return Array.isArray(n)?PR(n):n||null}(this._rawAsyncValidators)}}class K0 extends Vx{constructor(t,e,i){super(HR(e),jR(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){zN(this,!0,t),Object.keys(t).forEach(i=>{jN(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class $N extends K0{}const xm=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Q0}),Q0="always";function Bx(n,t){return[...t.path,n]}function X0(n,t,e=Q0){zR(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function c4(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&GN(n,t)})}(n,t),function d4(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function u4(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&GN(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function l4(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Ux(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),jx(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Hx(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function zR(n,t){const e=FN(n);null!==t.validator?n.setValidators(PN(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=NN(n);null!==t.asyncValidator?n.setAsyncValidators(PN(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Hx(t._rawValidators,r),Hx(t._rawAsyncValidators,r)}function jx(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=FN(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=NN(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return Hx(t._rawValidators,i),Hx(t._rawAsyncValidators,i),e}function GN(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function qN(n,t){zR(n,t)}function GR(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function YN(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function qR(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Y0?e=o:function p4(n){return Object.getPrototypeOf(n.constructor)===Dm}(o)?i=o:r=o}),r||i||e||null}const g4={provide:Ho,useExisting:(0,l.Gpc)(()=>ew)},J0=(()=>Promise.resolve())();let ew=(()=>{class n extends Ho{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new K0({},OR(e),PR(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){J0.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),X0(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){J0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){J0.then(()=>{const i=this._findContainer(e.path),r=new K0({});qN(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){J0.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){J0.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,YN(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(co,10),l.Y36(ff,10),l.Y36(xm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([g4]),l.qOj]}),n})();function WN(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function ZN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const tw=class extends Vx{constructor(t=null,e,i){super(HR(e),jR(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lx(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=ZN(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){WN(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){WN(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){ZN(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},v4={provide:Ju,useExisting:(0,l.Gpc)(()=>YR)},XN=(()=>Promise.resolve())();let YR=(()=>{class n extends Ju{constructor(e,i,r,o,u,h){super(),this._changeDetectorRef=u,this.callSetDisabledState=h,this.control=new tw,this._registered=!1,this.update=new l.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=qR(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),GR(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){X0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){XN.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,l.D6c)(i);XN.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Bx(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Ho,9),l.Y36(co,10),l.Y36(ff,10),l.Y36(Ol,10),l.Y36(l.sBO,8),l.Y36(xm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([v4]),l.qOj,l.TTD]}),n})(),WR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const b4={provide:Ol,useExisting:(0,l.Gpc)(()=>ZR),multi:!0};let ZR=(()=>{class n extends Dm{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&l.NdJ("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[l._Bn([b4]),l.qOj]}),n})(),JN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const KR=new l.OlP("NgModelWithFormControlWarning"),x4={provide:Ho,useExisting:(0,l.Gpc)(()=>nw)};let nw=(()=>{class n extends Ho{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jx(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return X0(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Ux(e.control||null,e,!1),function m4(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,YN(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Ux(i||null,e),(n=>n instanceof tw)(r)&&(X0(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);qN(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function h4(n,t){return jx(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zR(this.form,this),this._oldForm&&jx(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(co,10),l.Y36(ff,10),l.Y36(xm,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&l.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([x4]),l.qOj,l.TTD]}),n})();const T4={provide:Ju,useExisting:(0,l.Gpc)(()=>JR)};let JR=(()=>{class n extends Ju{set isDisabled(e){}constructor(e,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=qR(0,o)}ngOnChanges(e){this._added||this._setUpControl(),GR(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Bx(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(l.Y36(Ho,13),l.Y36(co,10),l.Y36(ff,10),l.Y36(Ol,10),l.Y36(KR,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([T4]),l.qOj,l.TTD]}),n})(),Im=(()=>{class n{constructor(){this._validator=Ox}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ox,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const L4={provide:co,useExisting:(0,l.Gpc)(()=>zx),multi:!0};let zx=(()=>{class n extends Im{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.D6c,this.createValidator=e=>wN}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&l.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([L4]),l.qOj]}),n})(),mL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[JN]}),n})();class gL extends Vx{constructor(t,e,i){super(HR(e),jR(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){zN(this,!1,t),t.forEach((i,r)=>{jN(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function _L(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let z4=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return _L(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new K0(r,o)}record(e,i=null){const r=this._reduceControls(e);return new $N(r,i)}control(e,i,r){let o={};return this.useNonNullable?(_L(i)?o=i:(o.validators=i,o.asyncValidators=r),new tw(e,{...o,nonNullable:!0})):new tw(e,i,r)}array(e,i,r){const o=e.map(u=>this._createControl(u));return new gL(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof tw||e instanceof Vx?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$4=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:xm,useValue:e.callSetDisabledState??Q0}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[mL]}),n})(),G4=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:KR,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:xm,useValue:e.callSetDisabledState??Q0}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[mL]}),n})();class yL{}class q4{}const ed="*";function Sm(n,t){return{type:7,name:n,definitions:t,options:{}}}function Pl(n,t=null){return{type:4,styles:t,timings:n}}function bL(n,t=null){return{type:2,steps:n,options:t}}function Sr(n){return{type:6,styles:n,offset:null}}function pf(n,t,e){return{type:0,name:n,styles:t,options:e}}function Fa(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function CL(n){Promise.resolve().then(n)}class iw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){CL(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class DL{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?CL(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const rk="!",Y4=["matFormFieldNotchedOutline",""],W4=["*"],Z4=["textField"],K4=["iconPrefixContainer"],Q4=["textPrefixContainer"];function X4(n,t){1&n&&l._UZ(0,"span",19)}function J4(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"label",17),l.NdJ("cdkObserveContent",function(){l.CHM(e);const r=l.oxw(2);return l.KtG(r._refreshOutlineNotchWidth())}),l.Hsn(1,1),l.YNc(2,X4,1,0,"span",18),l.qZA()}if(2&n){const e=l.oxw(2);l.Q6J("floating",e._shouldLabelFloat())("cdkObserveContentDisabled",!e._hasOutline())("id",e._labelId),l.uIk("for",e._control.id)("aria-owns",e._control.id),l.xp6(2),l.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required)}}function e$(n,t){if(1&n&&l.YNc(0,J4,3,6,"label",16),2&n){const e=l.oxw();l.Q6J("ngIf",e._hasFloatingLabel())}}function t$(n,t){1&n&&l._UZ(0,"div",20)}function n$(n,t){}function i$(n,t){if(1&n&&l.YNc(0,n$,0,0,"ng-template",22),2&n){l.oxw(2);const e=l.MAs(1);l.Q6J("ngTemplateOutlet",e)}}function r$(n,t){if(1&n&&(l.TgZ(0,"div",21),l.YNc(1,i$,1,1,"ng-template",9),l.qZA()),2&n){const e=l.oxw();l.Q6J("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat())("matFormFieldNotchedOutlineLabelWidth",e._labelWidth),l.xp6(1),l.Q6J("ngIf",!e._forceDisplayInfixLabel())}}function o$(n,t){1&n&&(l.TgZ(0,"div",23,24),l.Hsn(2,2),l.qZA())}function s$(n,t){1&n&&(l.TgZ(0,"div",25,26),l.Hsn(2,3),l.qZA())}function a$(n,t){}function l$(n,t){if(1&n&&l.YNc(0,a$,0,0,"ng-template",22),2&n){l.oxw();const e=l.MAs(1);l.Q6J("ngTemplateOutlet",e)}}function c$(n,t){1&n&&(l.TgZ(0,"div",27),l.Hsn(1,4),l.qZA())}function u$(n,t){1&n&&(l.TgZ(0,"div",28),l.Hsn(1,5),l.qZA())}function d$(n,t){1&n&&l._UZ(0,"div",29)}function h$(n,t){if(1&n&&(l.TgZ(0,"div",30),l.Hsn(1,6),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState)}}function f$(n,t){if(1&n&&(l.TgZ(0,"mat-hint",34),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("id",e._hintLabelId),l.xp6(1),l.Oqu(e.hintLabel)}}function p$(n,t){if(1&n&&(l.TgZ(0,"div",31),l.YNc(1,f$,2,2,"mat-hint",32),l.Hsn(2,7),l._UZ(3,"div",33),l.Hsn(4,8),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",e.hintLabel)}}const m$=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],g$=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let rw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})();const _$=new l.OlP("MatError");let y$=0,EL=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+y$++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(e,i){2&e&&(l.Ikx("id",i.id),l.uIk("align",null),l.ekj("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"}}),n})();const v$=new l.OlP("MatPrefix"),b$=new l.OlP("MatSuffix");let xL=(()=>{class n{constructor(e){this._elementRef=e,this.floating=!1}getWidth(){return function w$(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating"}}),n})();const IL="mdc-line-ripple--active",$x="mdc-line-ripple--deactivating";let SL=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,u=o.contains($x);"opacity"===r.propertyName&&u&&o.remove(IL,$x)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove($x),e.add(IL)}deactivate(){this._elementRef.nativeElement.classList.add($x)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),n})(),TL=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.labelWidth=0,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_getNotchWidth(){return this.open?this.labelWidth>0?`calc(${this.labelWidth}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:"0px":null}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(e,i){2&e&&l.ekj("mdc-notched-outline--notched",i.open)},inputs:{labelWidth:["matFormFieldNotchedOutlineLabelWidth","labelWidth"],open:["matFormFieldNotchedOutlineOpen","open"]},attrs:Y4,ngContentSelectors:W4,decls:4,vars:2,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],[1,"mdc-notched-outline__trailing"]],template:function(e,i){1&e&&(l.F$t(),l._UZ(0,"div",0),l.TgZ(1,"div",1),l.Hsn(2),l.qZA(),l._UZ(3,"div",2)),2&e&&(l.xp6(1),l.Udp("width",i._getNotchWidth()))},encapsulation:2,changeDetection:0}),n})();const C$={transitionMessages:Sm("transitionMessages",[pf("enter",Sr({opacity:1,transform:"translateY(0%)"})),Fa("void => enter",[Sr({opacity:0,transform:"translateY(-5px)"}),Pl("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let AL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})();const ok=new l.OlP("MatFormField"),D$=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let ML=0,Gx=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ps(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._refreshOutlineNotchWidth(),this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,o,u,h,g,v){this._elementRef=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=u,this._defaults=h,this._animationMode=g,this._document=v,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+ML++,this._hintLabelId="mat-mdc-hint-"+ML++,this._subscriptAnimationState="",this._labelWidth=0,this._destroyed=new Gt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,h&&(h.appearance&&(this.appearance=h.appearance),this._hideRequiredMarker=Boolean(h?.hideRequiredMarker),h.color&&(this.color=h.color))}ngAfterViewInit(){this._updateFocusState(),this._refreshOutlineNotchWidth(),this._document?.fonts?.ready?this._document.fonts.ready.then(()=>{this._refreshOutlineNotchWidth(),this._changeDetectorRef.markForCheck()}):setTimeout(()=>this._refreshOutlineNotchWidth(),100),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(qs(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,gh.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(qs(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(qs(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||(this._labelWidth=this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,u=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+u}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.R0b),l.Y36(cf),l.Y36(Nr),l.Y36(D$,8),l.Y36(l.QbO,8),l.Y36(re))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(l.Suo(r,rw,5),l.Suo(r,rw,7),l.Suo(r,AL,5),l.Suo(r,v$,5),l.Suo(r,b$,5),l.Suo(r,_$,5),l.Suo(r,EL,5)),2&e){let o;l.iGM(o=l.CRH())&&(i._labelChildNonStatic=o.first),l.iGM(o=l.CRH())&&(i._labelChildStatic=o.first),l.iGM(o=l.CRH())&&(i._formFieldControl=o.first),l.iGM(o=l.CRH())&&(i._prefixChildren=o),l.iGM(o=l.CRH())&&(i._suffixChildren=o),l.iGM(o=l.CRH())&&(i._errorChildren=o),l.iGM(o=l.CRH())&&(i._hintChildren=o)}},viewQuery:function(e,i){if(1&e&&(l.Gf(Z4,5),l.Gf(K4,5),l.Gf(Q4,5),l.Gf(xL,5),l.Gf(TL,5),l.Gf(SL,5)),2&e){let r;l.iGM(r=l.CRH())&&(i._textField=r.first),l.iGM(r=l.CRH())&&(i._iconPrefixContainer=r.first),l.iGM(r=l.CRH())&&(i._textPrefixContainer=r.first),l.iGM(r=l.CRH())&&(i._floatingLabel=r.first),l.iGM(r=l.CRH())&&(i._notchedOutline=r.first),l.iGM(r=l.CRH())&&(i._lineRipple=r.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(e,i){2&e&&l.ekj("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:ok,useExisting:n}])],ngContentSelectors:g$,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","cdkObserveContentDisabled","id","cdkObserveContent"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen","matFormFieldNotchedOutlineLabelWidth"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(e,i){1&e&&(l.F$t(m$),l.YNc(0,e$,1,1,"ng-template",null,0,l.W1O),l.TgZ(2,"div",1,2),l.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),l.YNc(4,t$,1,0,"div",3),l.TgZ(5,"div",4),l.YNc(6,r$,2,3,"div",5),l.YNc(7,o$,3,0,"div",6),l.YNc(8,s$,3,0,"div",7),l.TgZ(9,"div",8),l.YNc(10,l$,1,1,"ng-template",9),l.Hsn(11),l.qZA(),l.YNc(12,c$,2,0,"div",10),l.YNc(13,u$,2,0,"div",11),l.qZA(),l.YNc(14,d$,1,0,"div",12),l.qZA(),l.TgZ(15,"div",13),l.YNc(16,h$,2,1,"div",14),l.YNc(17,p$,5,2,"div",15),l.qZA()),2&e&&(l.xp6(2),l.ekj("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),l.xp6(2),l.Q6J("ngIf",!i._hasOutline()&&!i._control.disabled),l.xp6(2),l.Q6J("ngIf",i._hasOutline()),l.xp6(1),l.Q6J("ngIf",i._hasIconPrefix),l.xp6(1),l.Q6J("ngIf",i._hasTextPrefix),l.xp6(2),l.Q6J("ngIf",!i._hasOutline()||i._forceDisplayInfixLabel()),l.xp6(2),l.Q6J("ngIf",i._hasTextSuffix),l.xp6(1),l.Q6J("ngIf",i._hasIconSuffix),l.xp6(1),l.Q6J("ngIf",!i._hasOutline()),l.xp6(1),l.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[Qr,Ti,Ks,So,xH,EL,xL,TL,SL],styles:['.mdc-text-field{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required::after,.mdc-floating-label--required[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;border-top:1px solid;border-bottom:1px solid;pointer-events:none}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid;flex-grow:1}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 12px * 2)}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{line-height:normal;pointer-events:all}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-10.25px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-10.25px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-10.25px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-24.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-24.75px) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-24.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - 32px)) translateY(-34.75px) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(-34.75px) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(-34.75px) scale(0.75)}100%{transform:translateX(calc(0 - -32px)) translateY(-34.75px) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(-106%) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(-106%) scale(0.75)}100%{transform:translateX(calc(0 - 0%)) translateY(-106%) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}'],encapsulation:2,data:{animation:[C$.transitionMessages]},changeDetection:0}),n})(),qx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ci,Ar,hF,Ci]}),n})();const OL=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),I$=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let S$=0;const T$=nj(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Gt.x}});let Yx=(()=>{class n extends T${get disabled(){return this._disabled}set disabled(e){this._disabled=ps(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Em.required)??!1}set required(e){this._required=ps(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&sF().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ps(e)}constructor(e,i,r,o,u,h,g,v,E,S){super(h,o,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=v,this._formField=S,this._uid="mat-input-"+S$++,this.focused=!1,this.stateChanges=new Gt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(X=>sF().has(X)),this._iOSKeyupListener=X=>{const ne=X.target;!ne.value&&0===ne.selectionStart&&0===ne.selectionEnd&&(ne.setSelectionRange(1,1),ne.setSelectionRange(0,0))};const V=this._elementRef.nativeElement,z=V.nodeName.toLowerCase();this._inputValueAccessor=g||V,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&E.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===z,this._isTextarea="textarea"===z,this._isInFormField=!!S,this._isNativeSelect&&(this.controlType=V.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){I$.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Nr),l.Y36(Ju,10),l.Y36(ew,8),l.Y36(nw,8),l.Y36(uj),l.Y36(OL,10),l.Y36($z),l.Y36(l.R0b),l.Y36(ok,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(e,i){1&e&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(l.Ikx("id",i.id)("disabled",i.disabled)("required",i.required),l.uIk("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),l.ekj("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:AL,useExisting:n}]),l.qOj,l.TTD]}),n})(),A$=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ci,qx,qx,Gz,Ci]}),n})(),ow=(()=>{class n{constructor(e,i){this.el=e,this.renderer=i,i.setStyle(e.nativeElement,"color","#50514f"),i.setStyle(e.nativeElement,"backgroundColor","#b9d9c3")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","appButtonMod",""]]}),n})(),PL=(()=>{class n{constructor(e,i){this.authenticationService=e,this.router=i}ngOnInit(){}navigateToSignUp(){this.router.navigate(["/register"])}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Us),l.Y36(Zi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-sign-in"]],decls:28,vars:0,consts:[["href","https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap","rel","stylesheet"],["href","https://fonts.googleapis.com/icon?family=Material+Icons","rel","stylesheet"],[1,"authBlock"],["appHighlight","",1,"authTitle"],[1,"formField"],["fontIcon","mail"],["matInput","","type","email","placeholder","Email","required",""],["userEmail",""],["fontIcon","lock"],["matInput","","type","password","placeholder","Jelsz\xf3","required",""],["userPassword",""],["mat-raised-button","","appButtonClr","",1,"login",3,"click"],["fontIcon","login"],["mat-raised-button","","appButtonWar","",1,"login",3,"click"],["mat-raised-button","","appButtonMod","",1,"register",3,"click"],["fontIcon","autorenew"]],template:function(e,i){if(1&e){const r=l.EpF();l._UZ(0,"link",0)(1,"link",1),l.TgZ(2,"mat-card",2)(3,"mat-card-title",3),l._uU(4,"Bejelentkez\xe9s"),l.qZA(),l.TgZ(5,"mat-card-content")(6,"mat-form-field",4)(7,"mat-label"),l._UZ(8,"mat-icon",5),l._uU(9," Email "),l.qZA(),l._UZ(10,"input",6,7),l.qZA(),l.TgZ(12,"mat-form-field",4)(13,"mat-label"),l._UZ(14,"mat-icon",8),l._uU(15," Jelsz\xf3 "),l.qZA(),l._UZ(16,"input",9,10),l.qZA()(),l.TgZ(18,"mat-card-actions")(19,"button",11),l.NdJ("click",function(){l.CHM(r);const u=l.MAs(11),h=l.MAs(17);return l.KtG(i.authenticationService.SignIn(u.value,h.value))}),l._uU(20," Bejelentkez\xe9s "),l._UZ(21,"mat-icon",12),l.qZA(),l.TgZ(22,"button",13),l.NdJ("click",function(){return i.authenticationService.GoogleAuth()}),l._uU(23," Bejelentkez\xe9s Google Fi\xf3kkal "),l._UZ(24,"mat-icon",12),l.qZA(),l.TgZ(25,"button",14),l.NdJ("click",function(){return i.navigateToSignUp()}),l._uU(26," Regisztr\xe1ci\xf3 "),l._UZ(27,"mat-icon",15),l.qZA()()()}},dependencies:[ox,oR,ax,sx,Yx,Gx,rw,bm,q0,Cm,RR,kx,ow],styles:[".authBlock[_ngcontent-%COMP%]{background-color:#91c7b1;max-width:40%;margin:5% auto;padding:5%;text-align:center;border-radius:5%}.authTitle[_ngcontent-%COMP%]{font-size:24px;color:mat-color(#91C7B1,default);margin-bottom:15%}.formField[_ngcontent-%COMP%]{width:100%;margin-bottom:5%}mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:5%}mat-card-actions[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{flex-basis:100%}mat-card-actions[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%]{display:block;margin:0 auto}"]}),n})(),M$=(()=>{class n{constructor(e,i){this.authenticationService=e,this.router=i}ngOnInit(){}navigateToSignIn(){this.router.navigate(["/login"])}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Us),l.Y36(Zi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-sign-up"]],decls:25,vars:0,consts:[["href","https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap","rel","stylesheet"],["href","https://fonts.googleapis.com/icon?family=Material+Icons","rel","stylesheet"],[1,"authBlock"],["appHighlight","",1,"authTitle"],[1,"formField"],["fontIcon","mail"],["matInput","","type","email","placeholder","Email","required",""],["userEmail",""],["fontIcon","lock"],["matInput","","type","password","placeholder","Jelsz\xf3","required",""],["userPassword",""],["mat-raised-button","","appButtonClr","",1,"register",3,"click"],["fontIcon","login"],["mat-raised-button","","appButtonMod","",1,"login",3,"click"],["fontIcon","autorenew"]],template:function(e,i){if(1&e){const r=l.EpF();l._UZ(0,"link",0)(1,"link",1),l.TgZ(2,"mat-card",2)(3,"mat-card-title",3),l._uU(4,"Regisztr\xe1ci\xf3"),l.qZA(),l.TgZ(5,"mat-card-content")(6,"mat-form-field",4)(7,"mat-label"),l._UZ(8,"mat-icon",5),l._uU(9," Email "),l.qZA(),l._UZ(10,"input",6,7),l.qZA(),l.TgZ(12,"mat-form-field",4)(13,"mat-label"),l._UZ(14,"mat-icon",8),l._uU(15," Jelsz\xf3 "),l.qZA(),l._UZ(16,"input",9,10),l.qZA()(),l.TgZ(18,"mat-card-actions")(19,"button",11),l.NdJ("click",function(){l.CHM(r);const u=l.MAs(11),h=l.MAs(17);return l.KtG(i.authenticationService.SignUp(u.value,h.value))}),l._uU(20," Regisztr\xe1ci\xf3 "),l._UZ(21,"mat-icon",12),l.qZA(),l.TgZ(22,"button",13),l.NdJ("click",function(){return i.navigateToSignIn()}),l._uU(23," Bejelentkez\xe9s "),l._UZ(24,"mat-icon",14),l.qZA()()()}},dependencies:[ox,oR,ax,sx,Yx,Gx,rw,bm,q0,Cm,RR,ow],styles:[".authBlock[_ngcontent-%COMP%]{background-color:#91c7b1;max-width:40%;margin:5% auto;padding:5%;text-align:center;border-radius:5%}.authTitle[_ngcontent-%COMP%]{font-size:24px;color:mat-color(#91C7B1,default);margin-bottom:15%}.formField[_ngcontent-%COMP%]{width:100%;margin-bottom:5%}mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;align-items:center}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:5%}mat-card-actions[_ngcontent-%COMP%]   .login[_ngcontent-%COMP%]{display:block;margin:0 auto}mat-card-actions[_ngcontent-%COMP%]   .register[_ngcontent-%COMP%]{flex-basis:100%}"]}),n})();function R$(n,t){1&n&&l.GkF(0)}let k$=(()=>{class n{constructor(e,i,r,o){this.userService=e,this.foodService=i,this.authenticationService=r,this.router=o}ngOnInit(){this.userService.currentUser.subscribe(e=>{this.currentUser=e})}saveEntry(){const i={date:this.date?.valueOf||(new Date).toISOString().split("T")[0],calories:this.calories,carbohydrates:this.carbohydrates,protein:this.protein,fat:this.fat};this.foodService.saveFoodEntry(this.currentUser.uid,i).then(()=>{this.router.navigate(["/food-history"])}).catch(r=>{console.error("Error saving food entry: ",r)})}get IsLoggedIn(){return this.authenticationService.isLoggedIn()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Dg),l.Y36(YM),l.Y36(Us),l.Y36(Zi))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-food-entry"]],decls:31,vars:5,consts:[["href","https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap","rel","stylesheet"],["href","https://fonts.googleapis.com/icon?family=Material+Icons","rel","stylesheet"],[4,"ngIf"],[1,"container"],["appHighlight",""],[1,"form",3,"ngSubmit"],["appearance","outline",1,"form-group"],["fontIcon","local_fire_department"],["matInput","","type","number","name","calories","required","",3,"ngModel","ngModelChange"],["fontIcon","bakery_dining"],["matInput","","type","number","name","carbohydrates","required","",3,"ngModel","ngModelChange"],["fontIcon","scatter_plot"],["matInput","","type","number","name","protein","required","",3,"ngModel","ngModelChange"],["fontIcon","water_drop"],["matInput","","type","number","name","fat","required","",3,"ngModel","ngModelChange"],["mat-raised-button","","type","submit","appButtonMod",""]],template:function(e,i){1&e&&(l._UZ(0,"link",0)(1,"link",1),l.YNc(2,R$,1,0,"ng-container",2),l._UZ(3,"app-navbar"),l.TgZ(4,"div",3)(5,"h1",4),l._uU(6,"T\xe1pl\xe1l\xe9k bevitel"),l.qZA(),l.TgZ(7,"form",5),l.NdJ("ngSubmit",function(){return i.saveEntry()}),l.TgZ(8,"mat-form-field",6)(9,"mat-label"),l._UZ(10,"mat-icon",7),l._uU(11," Kal\xf3ria "),l.qZA(),l.TgZ(12,"input",8),l.NdJ("ngModelChange",function(o){return i.calories=o}),l.qZA()(),l.TgZ(13,"mat-form-field",6)(14,"mat-label"),l._UZ(15,"mat-icon",9),l._uU(16," Sz\xe9nhidr\xe1t "),l.qZA(),l.TgZ(17,"input",10),l.NdJ("ngModelChange",function(o){return i.carbohydrates=o}),l.qZA()(),l.TgZ(18,"mat-form-field",6)(19,"mat-label"),l._UZ(20,"mat-icon",11),l._uU(21," Protein "),l.qZA(),l.TgZ(22,"input",12),l.NdJ("ngModelChange",function(o){return i.protein=o}),l.qZA()(),l.TgZ(23,"mat-form-field",6)(24,"mat-label"),l._UZ(25,"mat-icon",13),l._uU(26," Zs\xedr "),l.qZA(),l.TgZ(27,"input",14),l.NdJ("ngModelChange",function(o){return i.fat=o}),l.qZA()(),l._UZ(28,"br"),l.TgZ(29,"button",15),l._uU(30,"Ment\xe9s"),l.qZA()()()),2&e&&(l.xp6(2),l.Q6J("ngIf",i.authenticationService.isLoggedIn()),l.xp6(10),l.Q6J("ngModel",i.calories),l.xp6(5),l.Q6J("ngModel",i.carbohydrates),l.xp6(5),l.Q6J("ngModel",i.protein),l.xp6(5),l.Q6J("ngModel",i.fat))},dependencies:[Qr,WR,Y0,ZR,NR,LR,zx,YR,ew,Yx,Gx,rw,bm,q0,kR,Cm,ow],styles:["h1[_ngcontent-%COMP%]{text-align:center}.form[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:space-between;text-align:center;margin:1% auto}.form-group[_ngcontent-%COMP%]{color:#f2f2f2}"]}),n})();class sk{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ak extends sk{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class FL extends sk{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class O$ extends sk{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class lk{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ak?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof FL?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof O$?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class P$ extends lk{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,g=this._document.createComment("dom-portal");h.parentNode.insertBefore(g,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(h,g)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let ck=(()=>{class n extends lk{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(o,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(re))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),sw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const NL=aF();class F${constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ir(-this._previousScrollPosition.left),t.style.top=Ir(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),NL&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),NL&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class N${constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class LL{enable(){}disable(){}attach(){}}function uk(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function VL(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class L${constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();uk(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let V$=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new LL,this.close=u=>new N$(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new F$(this._viewportRuler,this._document),this.reposition=u=>new L$(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(dx),l.LFG(hx),l.LFG(l.R0b),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class BL{constructor(t){if(this.scrollStrategy=new LL,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class B${constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let UL=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U$=(()=>{class n extends UL{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(re),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),H$=(()=>{class n extends UL{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=lf(o)},this._clickListener=o=>{const u=lf(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let v=g.length-1;v>-1;v--){const E=g[v];if(E._outsidePointerEvents.observers.length<1||!E.hasAttached())continue;if(E.overlayElement.contains(u)||E.overlayElement.contains(h))break;const S=E._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(o)):S.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(re),l.LFG(Nr),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wx=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||QM()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),QM()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(re),l.LFG(Nr))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class aw{constructor(t,e,i,r,o,u,h,g,v,E=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=g,this._outsideClickDispatcher=v,this._animationsDisabled=E,this._backdropElement=null,this._backdropClick=new Gt.x,this._attachments=new Gt.x,this._detachments=new Gt.x,this._locationChanges=eo.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new Gt.x,this._outsidePointerEvents=new Gt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Wi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ir(this._config.width),t.height=Ir(this._config.height),t.minWidth=Ir(this._config.minWidth),t.minHeight=Ir(this._config.minHeight),t.maxWidth=Ir(this._config.maxWidth),t.maxHeight=Ir(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=tx(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(qs((0,gh.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const HL="cdk-overlay-connected-position-bounding-box",j$=/([A-Za-z%]+)$/;class z${get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Gt.x,this._resizeSubscription=eo.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(HL),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let g=this._getOriginPoint(t,r,h),v=this._getOverlayPoint(g,e,h),E=this._getOverlayFit(v,e,i,h);if(E.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,g);this._canFitWithFlexibleDimensions(E,v,i)?o.push({position:h,origin:g,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(g,h)}):(!u||u.overlayFit.visibleArea<E.visibleArea)&&(u={overlayFit:E,overlayPoint:v,originPoint:g,position:h,overlayRect:e})}if(o.length){let h=null,g=-1;for(const v of o){const E=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);E>g&&(g=E,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Tm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(HL),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=zL(e);let{x:u,y:h}=t,g=this._getOffset(r,"x"),v=this._getOffset(r,"y");g&&(u+=g),v&&(h+=v);let V=0-h,z=h+o.height-i.height,X=this._subtractOverflows(o.width,0-u,u+o.width-i.width),ne=this._subtractOverflows(o.height,V,z),he=X*ne;return{visibleArea:he,isCompletelyWithinViewport:o.width*o.height===he,fitsInViewportVertically:ne===o.height,fitsInViewportHorizontally:X==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,u=jL(this._overlayRef.getConfig().minHeight),h=jL(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=u&&u<=r)&&(t.fitsInViewportHorizontally||null!=h&&h<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=zL(e),o=this._viewportRect,u=Math.max(t.x+r.width-o.width,0),h=Math.max(t.y+r.height-o.height,0),g=Math.max(o.top-i.top-t.y,0),v=Math.max(o.left-i.left-t.x,0);let E=0,S=0;return E=r.width<=o.width?v||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,S=r.height<=o.height?g||-h:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:E,y:S},{x:t.x+E,y:t.y+S}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new B$(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,u,h,E,S,V;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const z=Math.min(i.bottom-t.y+i.top,t.y),X=this._lastBoundingBoxSize.height;o=2*z,u=t.y-z,o>X&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-X/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)V=i.width-t.x+this._viewportMargin,E=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)S=t.x,E=i.right-t.x;else{const z=Math.min(i.right-t.x+i.left,t.x),X=this._lastBoundingBoxSize.width;E=2*z,S=t.x-z,E>X&&!this._isInitialRender&&!this._growAfterOpen&&(S=t.x-X/2)}return{top:u,left:S,bottom:h,right:V,width:E,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Ir(i.height),r.top=Ir(i.top),r.bottom=Ir(i.bottom),r.width=Ir(i.width),r.left=Ir(i.left),r.right=Ir(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Ir(o)),u&&(r.maxWidth=Ir(u))}this._lastBoundingBoxSize=i,Tm(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Tm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Tm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const E=this._viewportRuler.getViewportScrollPosition();Tm(i,this._getExactOverlayY(e,t,E)),Tm(i,this._getExactOverlayX(e,t,E))}else i.position="static";let h="",g=this._getOffset(e,"x"),v=this._getOffset(e,"y");g&&(h+=`translateX(${g}px) `),v&&(h+=`translateY(${v}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=Ir(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Ir(u.maxWidth):o&&(i.maxWidth="")),Tm(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Ir(o.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Ir(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:VL(t,i),isOriginOutsideView:uk(t,i),isOverlayClipped:VL(e,i),isOverlayOutsideView:uk(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&tx(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Tm(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function jL(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(j$);return e&&"px"!==e?null:parseFloat(t)}return n||null}function zL(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const $L="cdk-global-overlay-wrapper";class $${constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add($L),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:h}=i,g=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),v=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),E=this._xPosition,S=this._xOffset,V="rtl"===this._overlayRef.getConfig().direction;let z="",X="",ne="";g?ne="flex-start":"center"===E?(ne="center",V?X=S:z=S):V?"left"===E||"end"===E?(ne="flex-end",z=S):("right"===E||"start"===E)&&(ne="flex-start",X=S):"left"===E||"start"===E?(ne="flex-start",z=S):("right"===E||"end"===E)&&(ne="flex-end",X=S),t.position=this._cssPosition,t.marginLeft=g?"0":z,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=g?"0":X,e.justifyContent=ne,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove($L),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let G$=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new $$}flexibleConnectedTo(e){return new z$(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(hx),l.LFG(re),l.LFG(Nr),l.LFG(Wx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q$=0,td=(()=>{class n{constructor(e,i,r,o,u,h,g,v,E,S,V,z){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=g,this._document=v,this._directionality=E,this._location=S,this._outsideClickDispatcher=V,this._animationsModuleType=z}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new BL(e);return u.direction=u.direction||this._directionality.value,new aw(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+q$++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new P$(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(V$),l.LFG(Wx),l.LFG(l._Vd),l.LFG(G$),l.LFG(U$),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(re),l.LFG(cf),l.LFG(Ue),l.LFG(H$),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Z$={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[td],useFactory:function W$(n){return()=>n.scrollStrategies.reposition()}};let lw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[td,Z$],imports:[N0,sw,cR,cR]}),n})();function K$(n,t){}class Zx{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let GL=(()=>{class n extends lk{constructor(e,i,r,o,u,h,g,v){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=u,this._ngZone=h,this._overlayRef=g,this._focusMonitor=v,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=E=>{this._portalOutlet.hasAttached();const S=this._portalOutlet.attachDomPortal(E);return this._contentAttached(),S},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=KM(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=KM();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=KM())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(JM),l.Y36(re,8),l.Y36(Zx),l.Y36(nx),l.Y36(l.R0b),l.Y36(aw),l.Y36(rx))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&l.Gf(ck,7),2&e){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&l.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&l.YNc(0,K$,0,0,"ng-template",0)},dependencies:[ck],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class dk{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Gt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!ex(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const qL=new l.OlP("DialogScrollStrategy"),Q$=new l.OlP("DialogData"),X$=new l.OlP("DefaultDialogConfig"),e6={provide:qL,deps:[td],useFactory:function J$(n){return()=>n.scrollStrategies.block()}};let t6=0,YL=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,o,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Gt.x,this._afterOpenedAtThisLevel=new Gt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=lc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(go(void 0))),this._scrollStrategy=h}open(e,i){(i={...this._defaultOptions||new Zx,...i}).id=i.id||"cdk-dialog-"+t6++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),u=this._overlay.create(o),h=new dk(u,i),g=this._attachContainer(u,h,i);return h.containerInstance=g,this._attachDialogContent(e,h,g,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){hk(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){hk(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),hk(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new BL({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector||r.viewContainerRef?.injector,u=[{provide:Zx,useValue:r},{provide:dk,useValue:i},{provide:aw,useValue:e}];let h;r.container?"function"==typeof r.container?h=r.container:(h=r.container.type,u.push(...r.container.providers(r))):h=GL;const g=new ak(h,r.viewContainerRef,l.zs3.create({parent:o||this._injector,providers:u}),r.componentFactoryResolver);return e.attach(g).instance}_attachDialogContent(e,i,r,o){if(e instanceof l.Rgc){const u=this._createInjector(o,i,r,void 0);let h={$implicit:o.data,dialogRef:i};o.templateContext&&(h={...h,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new FL(e,null,h,u))}else{const u=this._createInjector(o,i,r,this._injector),h=r.attachComponentPortal(new ak(e,o.viewContainerRef,u,o.componentFactoryResolver));i.componentInstance=h.instance}}_createInjector(e,i,r,o){const u=e.injector||e.viewContainerRef?.injector,h=[{provide:Q$,useValue:e.data},{provide:dk,useValue:i}];return e.providers&&("function"==typeof e.providers?h.push(...e.providers(i,e,r)):h.push(...e.providers)),e.direction&&(!u||!u.get(cf,null,{optional:!0}))&&h.push({provide:cf,useValue:{value:e.direction,change:Qe()}}),l.zs3.create({parent:u||o,providers:h})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,u)=>{o?u.setAttribute("aria-hidden",o):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(td),l.LFG(l.zs3),l.LFG(X$,8),l.LFG(n,12),l.LFG(Wx),l.LFG(qL))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function hk(n,t){let e=n.length;for(;e--;)t(n[e])}let n6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[YL,e6],imports:[lw,sw,tR,sw]}),n})();function r6(n,t){}class Kx{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const fk="mdc-dialog--open",WL="mdc-dialog--opening",ZL="mdc-dialog--closing";let a6=(()=>{class n extends GL{constructor(e,i,r,o,u,h,g,v){super(e,i,r,o,u,h,g,v),this._animationStateChanged=new l.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(JM),l.Y36(re,8),l.Y36(Kx),l.Y36(nx),l.Y36(l.R0b),l.Y36(aw),l.Y36(rx))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],features:[l.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();const KL="--mat-dialog-transition-duration";function QL(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?XM(n.substring(0,n.length-2)):n.endsWith("s")?1e3*XM(n.substring(0,n.length-1)):"0"===n?0:null}let l6=(()=>{class n extends a6{constructor(e,i,r,o,u,h,g,v,E){super(e,i,r,o,u,h,g,E),this._animationMode=v,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._hostElement=this._elementRef.nativeElement,this._openAnimationDuration=this._animationsEnabled?QL(this._config.enterAnimationDuration)??150:0,this._closeAnimationDuration=this._animationsEnabled?QL(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._openAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._closeAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._openAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(KL,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(WL),this._hostElement.classList.add(fk),this._waitForAnimationToComplete(this._openAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(fk),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._closeAnimationDuration}),this._hostElement.classList.remove(fk),this._animationsEnabled?(this._hostElement.style.setProperty(KL,`${this._openAnimationDuration}ms`),this._hostElement.classList.add(ZL),this._waitForAnimationToComplete(this._closeAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_clearAnimationClasses(){this._hostElement.classList.remove(WL),this._hostElement.classList.remove(ZL)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(JM),l.Y36(re,8),l.Y36(Kx),l.Y36(nx),l.Y36(l.R0b),l.Y36(aw),l.Y36(l.QbO,8),l.Y36(rx))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:8,hostBindings:function(e,i){2&e&&(l.Ikx("id",i._config.id),l.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.ekj("_mat-animation-noopable",!i._animationsEnabled))},features:[l.qOj],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(l.TgZ(0,"div",0)(1,"div",1),l.YNc(2,r6,0,0,"ng-template",2),l.qZA()())},dependencies:[ck],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;transform:scale(0.8);opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{transform:none;opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{display:block;width:100%;height:100%}.mat-mdc-dialog-container{outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, var(--mdc-shape-medium, 4px))}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title,.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__actions,.mat-mdc-dialog-container.mdc-dialog--scrollable.mdc-dialog-scroll-divider-footer .mdc-dialog__actions{border-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container.mdc-dialog--scrollable .mdc-dialog__title{border-bottom-color:var(--mdc-dialog-with-divider-divider-color, black)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, "Arial");line-height:var(--mdc-dialog-subhead-line-height, 14px);font-size:var(--mdc-dialog-subhead-size, 14px);font-weight:var(--mdc-dialog-subhead-weight, 500);letter-spacing:var(--mdc-dialog-subhead-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, black)}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, "Arial");line-height:var(--mdc-dialog-supporting-text-line-height, 14px);font-size:var(--mdc-dialog-supporting-text-size, 14px);font-weight:var(--mdc-dialog-supporting-text-weight, 500);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 1px)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, black)}.mat-mdc-dialog-container .mdc-dialog__container{transition-duration:var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container{transition:none}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-actions{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2}),n})();class Qx{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Gt.x,this._beforeClosed=new Gt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(pi(r=>"opened"===r.state),Wi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(pi(r=>"closed"===r.state),Wi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,gh.T)(this.backdropClick(),this.keydownEvents().pipe(pi(r=>27===r.keyCode&&!this.disableClose&&!ex(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function c6(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(pi(e=>"closing"===e.state),Wi(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const pk=new l.OlP("MatMdcDialogData"),u6=new l.OlP("mat-mdc-dialog-default-options"),XL=new l.OlP("mat-mdc-dialog-scroll-strategy"),h6={provide:XL,deps:[td],useFactory:function d6(n){return()=>n.scrollStrategies.block()}};let f6=0,p6=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,o,u,h,g,v,E,S){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=g,this._dialogContainerType=v,this._dialogDataToken=E,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Gt.x,this._afterOpenedAtThisLevel=new Gt.x,this._idPrefix="mat-dialog-",this.dialogConfigClass=Kx,this.afterAllClosed=lc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(go(void 0))),this._scrollStrategy=h,this._dialog=i.get(YL)}open(e,i){let r;(i={...this._defaultOptions||new Kx,...i}).id=i.id||`${this._idPrefix}${f6++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:Zx,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,h,g)=>(r=new this._dialogRefConstructor(u,i,g),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:g},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),mk=(()=>{class n extends p6{constructor(e,i,r,o,u,h,g,v){super(e,i,o,h,g,u,Qx,l6,pk,v),this._idPrefix="mat-mdc-dialog-"}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(td),l.LFG(l.zs3),l.LFG(Ue,8),l.LFG(u6,8),l.LFG(XL),l.LFG(n,12),l.LFG(Wx),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),m6=0,JL=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-mdc-dialog-title-"+m6++}ngOnInit(){this._dialogRef||(this._dialogRef=function g6(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Qx,8),l.Y36(l.SBq),l.Y36(mk))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(e,i){2&e&&l.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),e2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"]}),n})(),t2=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:4,hostBindings:function(e,i){2&e&&l.ekj("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),_6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[mk,h6],imports:[n6,lw,sw,Ci,Ci]}),n})(),y6=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this.data=i,this.formBuilder=r,this.formGroup=this.formBuilder.group({date:[i.date,Em.required],calories:[i.calories,Em.required],carbohydrates:[i.carbohydrates,Em.required],protein:[i.protein,Em.required],fat:[i.fat,Em.required]})}ngOnInit(){}onSave(){if(this.formGroup.valid){const e=this.formGroup.value,i={date:e.date,calories:parseInt(e.calories,10),carbohydrates:parseInt(e.carbohydrates,10),protein:parseInt(e.protein,10),fat:parseInt(e.fat,10)};this.dialogRef.close(i)}}onCancel(){this.dialogRef.close()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Qx),l.Y36(pk),l.Y36(z4))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-edit-entry-dialog"]],decls:19,vars:1,consts:[["mat-dialog-title","","appHighlight",""],["appHighlight",""],[3,"formGroup"],["matInput","","placeholder","D\xe1tum","formControlName","date"],["matInput","","placeholder","Kal\xf3ria","formControlName","calories"],["matInput","","placeholder","Karbonhidr\xe1t","formControlName","carbohydrates"],["matInput","","placeholder","Protein","formControlName","protein"],["matInput","","placeholder","Zs\xedr","formControlName","fat"],["mat-button","","appButtonMod","",3,"click"],["mat-button","","appHighlight","",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"h2",0),l._uU(1,"Szerkeszt\xe9s"),l.qZA(),l.TgZ(2,"mat-dialog-content",1)(3,"form",2)(4,"mat-form-field"),l._UZ(5,"input",3),l.qZA(),l.TgZ(6,"mat-form-field"),l._UZ(7,"input",4),l.qZA(),l.TgZ(8,"mat-form-field"),l._UZ(9,"input",5),l.qZA(),l.TgZ(10,"mat-form-field"),l._UZ(11,"input",6),l.qZA(),l.TgZ(12,"mat-form-field"),l._UZ(13,"input",7),l.qZA()()(),l.TgZ(14,"mat-dialog-actions")(15,"button",8),l.NdJ("click",function(){return i.onSave()}),l._uU(16,"Ment\xe9s"),l.qZA(),l.TgZ(17,"button",9),l.NdJ("click",function(){return i.onCancel()}),l._uU(18,"M\xe9gse"),l.qZA()()),2&e&&(l.xp6(3),l.Q6J("formGroup",i.formGroup))},dependencies:[WR,Y0,NR,LR,nw,JR,Yx,Gx,bm,JL,e2,t2,Cm,ow]}),n})(),v6=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Qx),l.Y36(pk))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-delete-entry-dialog"]],decls:9,vars:0,consts:[["mat-dialog-title","","appHighlight",""],["appHighlight",""],["mat-button","","color","warn","appButtonWar","",3,"click"],["mat-button","","appHighlight","",3,"click"]],template:function(e,i){1&e&&(l.TgZ(0,"h2",0),l._uU(1,"T\xf6rl\xe9s meger\u0151s\xedt\xe9se"),l.qZA(),l.TgZ(2,"mat-dialog-content",1),l._uU(3," Biztosan t\xf6r\xf6lni szeretn\xe9d ezt a bejegyz\xe9st?\n"),l.qZA(),l.TgZ(4,"mat-dialog-actions")(5,"button",2),l.NdJ("click",function(){return i.dialogRef.close(!0)}),l._uU(6,"Igen, biztos t\xf6rl\xf6m"),l.qZA(),l.TgZ(7,"button",3),l.NdJ("click",function(){return i.dialogRef.close()}),l._uU(8,"M\xe9gsem"),l.qZA()())},dependencies:[bm,JL,e2,t2,Cm,kx]}),n})();function b6(n,t){1&n&&l.GkF(0)}function w6(n,t){1&n&&(l.TgZ(0,"th",16),l._uU(1,"D\xe1tum"),l.qZA())}function C6(n,t){if(1&n&&(l.TgZ(0,"td",17),l._uU(1),l.ALo(2,"formattedDate"),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(l.lcZ(2,1,e.date))}}function D6(n,t){1&n&&(l.TgZ(0,"th",16),l._uU(1,"Kal\xf3ria"),l.qZA())}function E6(n,t){if(1&n&&(l.TgZ(0,"td",17),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(e.calories)}}function x6(n,t){1&n&&(l.TgZ(0,"th",16),l._uU(1,"Karbonhidr\xe1t"),l.qZA())}function I6(n,t){if(1&n&&(l.TgZ(0,"td",17),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(e.carbohydrates)}}function S6(n,t){1&n&&(l.TgZ(0,"th",16),l._uU(1,"Protein"),l.qZA())}function T6(n,t){if(1&n&&(l.TgZ(0,"td",17),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(e.protein)}}function A6(n,t){1&n&&(l.TgZ(0,"th",16),l._uU(1,"Zs\xedr"),l.qZA())}function M6(n,t){if(1&n&&(l.TgZ(0,"td",17),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.Oqu(e.fat)}}function R6(n,t){1&n&&(l.TgZ(0,"th",16),l._uU(1,"M\u0171veletek"),l.qZA())}function k6(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"td",17)(1,"button",18),l.NdJ("click",function(){const o=l.CHM(e).$implicit,u=l.oxw(2);return l.KtG(u.openEditDialog(o))}),l._uU(2," M\xf3dos\xedt\xe1s "),l._UZ(3,"mat-icon",19),l.qZA(),l.TgZ(4,"button",20),l.NdJ("click",function(){const o=l.CHM(e).$implicit,u=l.oxw(2);return l.KtG(u.openDeleteDialog(o))}),l._uU(5," T\xf6rl\xe9s "),l._UZ(6,"mat-icon",21),l.qZA()()}}function O6(n,t){1&n&&l._UZ(0,"tr",22)}function P6(n,t){1&n&&l._UZ(0,"tr",23)}function F6(n,t){if(1&n&&(l.TgZ(0,"div")(1,"table",5),l.ynx(2,6),l.YNc(3,w6,2,0,"th",7),l.YNc(4,C6,3,3,"td",8),l.BQk(),l.ynx(5,9),l.YNc(6,D6,2,0,"th",7),l.YNc(7,E6,2,1,"td",8),l.BQk(),l.ynx(8,10),l.YNc(9,x6,2,0,"th",7),l.YNc(10,I6,2,1,"td",8),l.BQk(),l.ynx(11,11),l.YNc(12,S6,2,0,"th",7),l.YNc(13,T6,2,1,"td",8),l.BQk(),l.ynx(14,12),l.YNc(15,A6,2,0,"th",7),l.YNc(16,M6,2,1,"td",8),l.BQk(),l.ynx(17,13),l.YNc(18,R6,2,0,"th",7),l.YNc(19,k6,7,0,"td",8),l.BQk(),l.YNc(20,O6,1,0,"tr",14),l.YNc(21,P6,1,0,"tr",15),l.qZA()()),2&n){const e=l.oxw();l.xp6(1),l.Q6J("dataSource",e.foodEntries),l.xp6(19),l.Q6J("matHeaderRowDef",e.displayedColumns),l.xp6(1),l.Q6J("matRowDefColumns",e.displayedColumns)}}function N6(n,t){1&n&&(l.TgZ(0,"p"),l._uU(1,"Nincsenek t\xe1pl\xe1l\xe9k el\u0151zm\xe9nyek."),l.qZA())}let L6=(()=>{class n{constructor(e,i,r,o){this.userService=e,this.authenticationService=i,this.foodService=r,this.dialog=o,this.user=null,this.foodEntries=[],this.displayedColumns=["date","calories","carbohydrates","protein","fat","actions"]}ngOnInit(){this.userService.currentUser$.subscribe(e=>{this.user=e,this.user&&this.loadFoodEntries()})}loadFoodEntries(){this.user&&this.foodService.getFoodEntries(this.user.uid).subscribe(e=>{this.foodEntries=e})}get IsLoggedIn(){return this.authenticationService.isLoggedIn()}openEditDialog(e){this.dialog.open(y6,{data:e}).afterClosed().subscribe(r=>{r&&this.foodService.updateFoodEntry(this.user.uid,e.id,r).then(()=>{this.loadFoodEntries()})})}openDeleteDialog(e){this.dialog.open(v6).afterClosed().subscribe(r=>{r&&this.foodService.deleteFoodEntry(this.user.uid,e.id).then(()=>{this.loadFoodEntries()})})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Dg),l.Y36(Us),l.Y36(YM),l.Y36(mk))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-food-history"]],decls:7,vars:3,consts:[["href","https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap","rel","stylesheet"],["href","https://fonts.googleapis.com/icon?family=Material+Icons","rel","stylesheet"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["noEntries",""],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","date"],["mat-header-cell","","appHighlight","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","calories"],["matColumnDef","carbohydrates"],["matColumnDef","protein"],["matColumnDef","fat"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","appHighlight",""],["mat-cell",""],["mat-button","","appButtonMod","",1,"historyButton",3,"click"],["fontIcon","edit"],["mat-button","","appButtonWar","",1,"historyButton",3,"click"],["fontIcon","delete"],["mat-header-row",""],["mat-row",""]],template:function(e,i){if(1&e&&(l._UZ(0,"link",0)(1,"link",1),l.YNc(2,b6,1,0,"ng-container",2),l._UZ(3,"app-navbar"),l.YNc(4,F6,22,3,"div",3),l.YNc(5,N6,2,0,"ng-template",null,4,l.W1O)),2&e){const r=l.MAs(6);l.xp6(2),l.Q6J("ngIf",i.authenticationService.isLoggedIn()),l.xp6(2),l.Q6J("ngIf",i.foodEntries.length>0)("ngIfElse",r)}},dependencies:[Qr,bm,q0,bR,Dx,wR,Ex,Cx,CR,xx,Ix,DR,ER,kR,Cm,kx,ow,pN],styles:["table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid #91C7B1;padding:8px;text-align:left}.historyButton[_ngcontent-%COMP%]{margin-right:1%}"]}),n})(),gk=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(){return!!this.authService.isLoggedIn()||(this.router.navigate(["/login"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Us),l.LFG(Zi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_k=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return!this.authService.isLoggedIn()||(this.router.navigate(["/food-history"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Us),l.LFG(Zi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const V6=[{path:"home",component:zz,canActivate:[gk]},{path:"",component:PL,canActivate:[_k]},{path:"login",component:PL,canActivate:[_k]},{path:"register",component:M$,canActivate:[_k]},{path:"food-entry",component:k$,canActivate:[gk]},{path:"food-history",component:L6,canActivate:[gk]}];let B6=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[fS.forRoot(V6),fS]}),n})();function r2(n){return new l.vHH(3e3,!1)}function bG(){return typeof window<"u"&&typeof window.document<"u"}function yk(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function mf(n){switch(n.length){case 0:return new iw;case 1:return n[0];default:return new DL(n)}}function o2(n,t,e,i,r=new Map,o=new Map){const u=[],h=[];let g=-1,v=null;if(i.forEach(E=>{const S=E.get("offset"),V=S==g,z=V&&v||new Map;E.forEach((X,ne)=>{let he=ne,$e=X;if("offset"!==ne)switch(he=t.normalizePropertyName(he,u),$e){case rk:$e=r.get(ne);break;case ed:$e=o.get(ne);break;default:$e=t.normalizeStyleValue(ne,he,$e,u)}z.set(he,$e)}),V||h.push(z),v=z,g=S}),u.length)throw function lG(n){return new l.vHH(3502,!1)}();return h}function vk(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&bk(e,"start",n)));break;case"done":n.onDone(()=>i(e&&bk(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&bk(e,"destroy",n)))}}function bk(n,t,e){const o=wk(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function wk(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Ys(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function s2(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let Ck=(n,t)=>!1,a2=(n,t,e)=>[],l2=null;function Dk(n){const t=n.parentNode||n.host;return t===l2?null:t}(yk()||typeof Element<"u")&&(bG()?(l2=(()=>document.documentElement)(),Ck=(n,t)=>{for(;t;){if(t===n)return!0;t=Dk(t)}return!1}):Ck=(n,t)=>n.contains(t),a2=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Am=null,c2=!1;const u2=Ck,d2=a2;let h2=(()=>{class n{validateStyleProperty(e){return function CG(n){Am||(Am=function DG(){return typeof document<"u"?document.body:null}()||{},c2=!!Am.style&&"WebkitAppearance"in Am.style);let t=!0;return Am.style&&!function wG(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Am.style,!t&&c2&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Am.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return u2(e,i)}getParentElement(e){return Dk(e)}query(e,i,r){return d2(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],g){return new iw(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ek=(()=>{class n{}return n.NOOP=new h2,n})();const EG=1e3,xk="ng-enter",Xx="ng-leave",Jx="ng-trigger",eI=".ng-trigger",p2="ng-animating",Ik=".ng-animating";function nd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Sk(parseFloat(t[1]),t[2])}function Sk(n,t){return"s"===t?n*EG:n}function tI(n,t,e){return n.hasOwnProperty("duration")?n:function IG(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(r2()),{duration:0,delay:0,easing:""};r=Sk(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(o=Sk(parseFloat(g),h[4]));const v=h[5];v&&(u=v)}else r=n;if(!e){let h=!1,g=t.length;r<0&&(t.push(function U6(){return new l.vHH(3100,!1)}()),h=!0),o<0&&(t.push(function H6(){return new l.vHH(3101,!1)}()),h=!0),h&&t.splice(g,0,r2())}return{duration:r,delay:o,easing:u}}(n,t,e)}function cw(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function m2(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function gf(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function _2(n,t,e){return e?t+":"+e+";":""}function y2(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=_2(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=_2(0,MG(e),n.style[e]));n.setAttribute("style",t)}function Uc(n,t,e){n.style&&(t.forEach((i,r)=>{const o=Ak(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),yk()&&y2(n))}function Mm(n,t){n.style&&(t.forEach((e,i)=>{const r=Ak(i);n.style[r]=""}),yk()&&y2(n))}function uw(n){return Array.isArray(n)?1==n.length?n[0]:bL(n):n}const Tk=new RegExp("{{\\s*(.+?)\\s*}}","g");function v2(n){let t=[];if("string"==typeof n){let e;for(;e=Tk.exec(n);)t.push(e[1]);Tk.lastIndex=0}return t}function dw(n,t,e){const i=n.toString(),r=i.replace(Tk,(o,u)=>{let h=t[u];return null==h&&(e.push(function z6(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function nI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const AG=/-+([a-z0-9])/g;function Ak(n){return n.replace(AG,(...t)=>t[1].toUpperCase())}function MG(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ws(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function $6(n){return new l.vHH(3004,!1)}()}}function b2(n,t){return window.getComputedStyle(n)[t]}const oI="*";function NG(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function LG(n,t,e){if(":"==n[0]){const g=function VG(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function rG(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof g)return void t.push(g);n=g}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function iG(n){return new l.vHH(3015,!1)}()),t;const r=i[1],o=i[2],u=i[3];t.push(w2(r,u));"<"==o[0]&&!(r==oI&&u==oI)&&t.push(w2(u,r))}(i,e,t)):e.push(n),e}const sI=new Set(["true","1"]),aI=new Set(["false","0"]);function w2(n,t){const e=sI.has(n)||aI.has(n),i=sI.has(t)||aI.has(t);return(r,o)=>{let u=n==oI||n==r,h=t==oI||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?sI.has(n):aI.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?sI.has(t):aI.has(t)),u&&h}}const BG=new RegExp("s*:selfs*,?","g");function Mk(n,t,e,i){return new UG(n).build(t,e,i)}class UG{constructor(t){this._driver=t}build(t,e,i){const r=new zG(e);return this._resetContextStyleTimingState(r),Ws(this,uw(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function q6(){return new l.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const g=h,v=g.name;v.toString().split(/\s*,\s*/).forEach(E=>{g.name=E,o.push(this.visitState(g,e))}),g.name=v}else if(1==h.type){const g=this.visitTransition(h,e);i+=g.queryCount,r+=g.depCount,u.push(g)}else e.errors.push(function Y6(){return new l.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{v2(g).forEach(v=>{u.hasOwnProperty(v)||o.add(v)})})}),o.size&&(nI(o.values()),e.errors.push(function W6(n,t){return new l.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ws(this,uw(t.animation),e);return{type:1,matchers:NG(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Rm(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ws(this,i,e)),options:Rm(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=Ws(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:Rm(t.options)}}visitAnimate(t,e){const i=function GG(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Rk(tI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=Rk(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=tI(e,t);return Rk(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Sr({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const v={};i.easing&&(v.easing=i.easing),u=Sr(v)}e.currentTime+=i.duration+i.delay;const g=this.visitStyle(u,e);g.isEmptyStep=h,r=g}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===ed?i.push(h):e.errors.push(new l.vHH(3002,!1)):i.push(m2(h));let o=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let g of h.values())if(g.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,g)=>{const v=e.collectedStyles.get(e.currentQuerySelector),E=v.get(g);let S=!0;E&&(o!=r&&o>=E.startTime&&r<=E.endTime&&(e.errors.push(function K6(n,t,e,i,r){return new l.vHH(3010,!1)}()),S=!1),o=E.startTime),S&&v.set(g,{startTime:o,endTime:r}),e.options&&function TG(n,t,e){const i=t.params||{},r=v2(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function j6(n){return new l.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Q6(){return new l.vHH(3011,!1)}()),i;let o=0;const u=[];let h=!1,g=!1,v=0;const E=t.steps.map($e=>{const at=this._makeStyleAst($e,e);let it=null!=at.offset?at.offset:function $G(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(at.styles),wt=0;return null!=it&&(o++,wt=at.offset=it),g=g||wt<0||wt>1,h=h||wt<v,v=wt,u.push(wt),at});g&&e.errors.push(function X6(){return new l.vHH(3012,!1)}()),h&&e.errors.push(function J6(){return new l.vHH(3200,!1)}());const S=t.steps.length;let V=0;o>0&&o<S?e.errors.push(function eG(){return new l.vHH(3202,!1)}()):0==o&&(V=1/(S-1));const z=S-1,X=e.currentTime,ne=e.currentAnimateTimings,he=ne.duration;return E.forEach(($e,at)=>{const it=V>0?at==z?1:V*at:u[at],wt=it*he;e.currentTime=X+ne.delay+wt,ne.duration=wt,this._validateStyleAst($e,e),$e.offset=it,i.styles.push($e)}),i}visitReference(t,e){return{type:8,animation:Ws(this,uw(t.animation),e),options:Rm(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Rm(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Rm(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function HG(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(BG,"")),n=n.replace(/@\*/g,eI).replace(/@\w+/g,e=>eI+"-"+e.slice(1)).replace(/:animating/g,Ik),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ys(e.collectedStyles,e.currentQuerySelector,new Map);const h=Ws(this,uw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Rm(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function tG(){return new l.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:tI(t.timings,e.errors,!0);return{type:12,animation:Ws(this,uw(t.animation),e),timings:i,options:null}}}class zG{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Rm(n){return n?(n=cw(n)).params&&(n.params=function jG(n){return n?cw(n):null}(n.params)):n={},n}function Rk(n,t,e){return{duration:n,delay:t,easing:e}}function kk(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class lI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const WG=new RegExp(":enter","g"),KG=new RegExp(":leave","g");function Ok(n,t,e,i,r,o=new Map,u=new Map,h,g,v=[]){return(new QG).buildKeyframes(n,t,e,i,r,o,u,h,g,v)}class QG{buildKeyframes(t,e,i,r,o,u,h,g,v,E=[]){v=v||new lI;const S=new Pk(t,e,v,r,o,E,[]);S.options=g;const V=g.delay?nd(g.delay):0;S.currentTimeline.delayNextStep(V),S.currentTimeline.setStyles([u],null,S.errors,g),Ws(this,i,S);const z=S.timelines.filter(X=>X.containsAnimation());if(z.length&&h.size){let X;for(let ne=z.length-1;ne>=0;ne--){const he=z[ne];if(he.element===e){X=he;break}}X&&!X.allowOnlyTimelineStyles()&&X.setStyles([h],null,S.errors,g)}return z.length?z.map(X=>X.buildKeyframes()):[kk(e,[],[],[],0,V,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const u="number"==typeof o?o:nd(dw(o,r?.params??{},e.errors));i.delayNextStep(u)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?nd(i.duration):null,h=null!=i.delay?nd(i.delay):null;return 0!==u&&t.forEach(g=>{const v=e.appendInstructionToTimeline(g,u,h);o=Math.max(o,v.duration+v.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ws(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=cI);const u=nd(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Ws(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?nd(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),Ws(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return tI(e.params?dw(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(g=>{h.forwardTime((g.offset||0)*o),h.setStyles(g.styles,g.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?nd(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=cI);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let g=null;h.forEach((v,E)=>{e.currentQueryIndex=E;const S=e.createSubContext(t.options,v);o&&S.delayNextStep(o),v===e.element&&(g=S.currentTimeline),Ws(this,t.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),g&&(e.currentTimeline.mergeTimelineCollectedStyles(g),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let g=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":g=h-g;break;case"full":g=i.currentStaggerTime}const E=e.currentTimeline;g&&E.delayNextStep(g);const S=E.currentTime;Ws(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const cI={};class Pk{constructor(t,e,i,r,o,u,h,g){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new uI(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=nd(i.duration)),null!=i.delay&&(r.delay=nd(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=dw(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new Pk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=cI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new XG(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(WG,"."+this._enterClassName)).replace(KG,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!o&&0==h.length&&u.push(function nG(n){return new l.vHH(3014,!1)}()),h}}class uI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new uI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ed),this._currentKeyframe.set(e,ed);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},u=function JG(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,ed)}else gf(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,g]of u){const v=dw(g,o,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??ed),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,g)=>{const v=gf(h,new Map,this._backFill);v.forEach((E,S)=>{E===rk?t.add(S):E===ed&&e.add(S)}),i||v.set("offset",g/this.duration),r.push(v)});const o=t.size?nI(t.values()):[],u=e.size?nI(e.values()):[];if(i){const h=r[0],g=new Map(h);h.set("offset",0),g.set("offset",1),r=[h,g]}return kk(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class XG extends uI{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,g=gf(t[0]);g.set("offset",0),o.push(g);const v=gf(t[0]);v.set("offset",E2(h)),o.push(v);const E=t.length-1;for(let S=1;S<=E;S++){let V=gf(t[S]);const z=V.get("offset");V.set("offset",E2((e+z*i)/u)),o.push(V)}i=u,e=0,r="",t=o}return kk(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function E2(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Fk{}const e5=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class t5 extends Fk{normalizePropertyName(t,e){return Ak(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(e5.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function G6(n,t){return new l.vHH(3005,!1)}())}return u+o}}function x2(n,t,e,i,r,o,u,h,g,v,E,S,V){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:g,preStyleProps:v,postStyleProps:E,totalTime:S,errors:V}}const Nk={};class I2{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function n5(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,u,h,g,v,E){const S=[],V=this.ast.options&&this.ast.options.params||Nk,X=this.buildStyles(i,h&&h.params||Nk,S),ne=g&&g.params||Nk,he=this.buildStyles(r,ne,S),$e=new Set,at=new Map,it=new Map,wt="void"===r,zt={params:r5(ne,V),delay:this.ast.options?.delay},dn=E?[]:Ok(t,e,this.ast.animation,o,u,X,he,zt,v,S);let Rn=0;if(dn.forEach(id=>{Rn=Math.max(id.duration+id.delay,Rn)}),S.length)return x2(e,this._triggerName,i,r,wt,X,he,[],[],at,it,Rn,S);dn.forEach(id=>{const rd=id.element,G2=Ys(at,rd,new Set);id.preStyleProps.forEach(km=>G2.add(km));const pw=Ys(it,rd,new Set);id.postStyleProps.forEach(km=>pw.add(km)),rd!==e&&$e.add(rd)});const Wr=nI($e.values());return x2(e,this._triggerName,i,r,wt,X,he,dn,Wr,at,it,Rn)}}function r5(n,t){const e=cw(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class o5{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=cw(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=dw(u,r,e));const g=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,g,u,e),i.set(h,u)})}),i}}class a5{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new o5(r.style,r.options&&r.options.params||{},i))}),S2(this.states,"true","1"),S2(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new I2(t,r,this.states))}),this.fallbackTransition=function l5(n,t,e){return new I2(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function S2(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const c5=new lI;class u5{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=[],o=Mk(this._driver,e,i,r);if(i.length)throw function cG(n){return new l.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=o2(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let u;const h=new Map;if(o?(u=Ok(this._driver,e,o,xk,Xx,new Map,new Map,i,c5,r),u.forEach(E=>{const S=Ys(h,E.element,new Map);E.postStyleProps.forEach(V=>S.set(V,null))})):(r.push(function uG(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function dG(n){return new l.vHH(3504,!1)}();h.forEach((E,S)=>{E.forEach((V,z)=>{E.set(z,this._driver.computeStyle(S,z,ed))})});const v=mf(u.map(E=>{const S=h.get(E.element);return this._buildPlayer(E,new Map,S)}));return this._playersById.set(t,v),v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function hG(n){return new l.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=wk(e,"","","");return vk(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const T2="ng-animate-queued",Lk="ng-animate-disabled",m5=[],A2={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},g5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Na="__ng_removed";class Vk{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function b5(n){return n??null}(i?t.value:t),i){const o=cw(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const hw="void",Bk=new Vk(hw);class _5{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,La(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function fG(n,t){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function pG(n){return new l.vHH(3303,!1)}();if(!function w5(n){return"start"==n||"done"==n}(i))throw function mG(n,t){return new l.vHH(3400,!1)}();const o=Ys(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=Ys(this._engine.statesByElement,t,new Map);return h.has(e)||(La(t,Jx),La(t,Jx+"-"+e),h.set(e,Bk)),()=>{this._engine.afterFlush(()=>{const g=o.indexOf(u);g>=0&&o.splice(g,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function gG(n){return new l.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new Uk(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(La(t,Jx),La(t,Jx+"-"+e),this._engine.statesByElement.set(t,h=new Map));let g=h.get(e);const v=new Vk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),h.set(e,v),g||(g=Bk),v.value!==hw&&g.value===v.value){if(!function E5(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(g.params,v.params)){const ne=[],he=o.matchStyles(g.value,g.params,ne),$e=o.matchStyles(v.value,v.params,ne);ne.length?this._engine.reportError(ne):this._engine.afterFlush(()=>{Mm(t,he),Uc(t,$e)})}return}const V=Ys(this._engine.playersByElement,t,[]);V.forEach(ne=>{ne.namespaceId==this.id&&ne.triggerName==e&&ne.queued&&ne.destroy()});let z=o.matchTransition(g.value,v.value,t,v.params),X=!1;if(!z){if(!r)return;z=o.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:z,fromState:g,toState:v,player:u,isFallbackTransition:X}),X||(La(t,T2),u.onStart(()=>{ay(t,T2)})),u.onDone(()=>{let ne=this.players.indexOf(u);ne>=0&&this.players.splice(ne,1);const he=this._engine.playersByElement.get(t);if(he){let $e=he.indexOf(u);$e>=0&&he.splice($e,1)}}),this.players.push(u),V.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,eI,!0);i.forEach(r=>{if(r[Na])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(o.forEach((g,v)=>{if(u.set(v,g.value),this._triggers.has(v)){const E=this.trigger(t,v,hw,r);E&&h.push(E)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&mf(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const g=this._triggers.get(u).fallbackTransition,v=i.get(u)||Bk,E=new Vk(hw),S=new Uk(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:g,fromState:v,toState:E,player:S,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Na];(!o||o===A2)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){La(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const g=wk(o,i.triggerName,i.fromState.value,i.toState.value);g._data=t,vk(i.player,h.phase,g,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class y5{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new _5(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const g=r.get(h);if(g){const v=i.indexOf(g);i.splice(v+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(dI(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!dI(e))return;const o=e[Na];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),La(t,Lk)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ay(t,Lk))}removeNode(t,e,i,r){if(dI(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Na]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return dI(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,eI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Ik,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return mf(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Na];if(e&&e.setForRemoval){if(t[Na]=A2,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Lk)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)La(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?mf(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function _G(n){return new l.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new lI,r=[],o=new Map,u=[],h=new Map,g=new Map,v=new Map,E=new Set;this.disabledNodes.forEach(Et=>{E.add(Et);const Bt=this.driver.query(Et,".ng-animate-queued",!0);for(let Qt=0;Qt<Bt.length;Qt++)E.add(Bt[Qt])});const S=this.bodyNode,V=Array.from(this.statesByElement.keys()),z=k2(V,this.collectedEnterElements),X=new Map;let ne=0;z.forEach((Et,Bt)=>{const Qt=xk+ne++;X.set(Bt,Qt),Et.forEach(In=>La(In,Qt))});const he=[],$e=new Set,at=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const Bt=this.collectedLeaveElements[Et],Qt=Bt[Na];Qt&&Qt.setForRemoval&&(he.push(Bt),$e.add(Bt),Qt.hasAnimation?this.driver.query(Bt,".ng-star-inserted",!0).forEach(In=>$e.add(In)):at.add(Bt))}const it=new Map,wt=k2(V,Array.from($e));wt.forEach((Et,Bt)=>{const Qt=Xx+ne++;it.set(Bt,Qt),Et.forEach(In=>La(In,Qt))}),t.push(()=>{z.forEach((Et,Bt)=>{const Qt=X.get(Bt);Et.forEach(In=>ay(In,Qt))}),wt.forEach((Et,Bt)=>{const Qt=it.get(Bt);Et.forEach(In=>ay(In,Qt))}),he.forEach(Et=>{this.processLeaveNode(Et)})});const zt=[],dn=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(e).forEach(Qt=>{const In=Qt.player,Zr=Qt.element;if(zt.push(In),this.collectedEnterElements.length){const xo=Zr[Na];if(xo&&xo.setForMove){if(xo.previousTriggersValues&&xo.previousTriggersValues.has(Qt.triggerName)){const Om=xo.previousTriggersValues.get(Qt.triggerName),Va=this.statesByElement.get(Qt.element);if(Va&&Va.has(Qt.triggerName)){const gI=Va.get(Qt.triggerName);gI.value=Om,Va.set(Qt.triggerName,gI)}}return void In.destroy()}}const Hc=!S||!this.driver.containsElement(S,Zr),Zs=it.get(Zr),_f=X.get(Zr),ji=this._buildInstruction(Qt,i,_f,Zs,Hc);if(ji.errors&&ji.errors.length)return void dn.push(ji);if(Hc)return In.onStart(()=>Mm(Zr,ji.fromStyles)),In.onDestroy(()=>Uc(Zr,ji.toStyles)),void r.push(In);if(Qt.isFallbackTransition)return In.onStart(()=>Mm(Zr,ji.fromStyles)),In.onDestroy(()=>Uc(Zr,ji.toStyles)),void r.push(In);const W2=[];ji.timelines.forEach(xo=>{xo.stretchStartingKeyframe=!0,this.disabledNodes.has(xo.element)||W2.push(xo)}),ji.timelines=W2,i.append(Zr,ji.timelines),u.push({instruction:ji,player:In,element:Zr}),ji.queriedElements.forEach(xo=>Ys(h,xo,[]).push(In)),ji.preStyleProps.forEach((xo,Om)=>{if(xo.size){let Va=g.get(Om);Va||g.set(Om,Va=new Set),xo.forEach((gI,qk)=>Va.add(qk))}}),ji.postStyleProps.forEach((xo,Om)=>{let Va=v.get(Om);Va||v.set(Om,Va=new Set),xo.forEach((gI,qk)=>Va.add(qk))})});if(dn.length){const Et=[];dn.forEach(Bt=>{Et.push(function yG(n,t){return new l.vHH(3505,!1)}())}),zt.forEach(Bt=>Bt.destroy()),this.reportError(Et)}const Rn=new Map,Wr=new Map;u.forEach(Et=>{const Bt=Et.element;i.has(Bt)&&(Wr.set(Bt,Bt),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,Rn))}),r.forEach(Et=>{const Bt=Et.element;this._getPreviousPlayers(Bt,!1,Et.namespaceId,Et.triggerName,null).forEach(In=>{Ys(Rn,Bt,[]).push(In),In.destroy()})});const id=he.filter(Et=>P2(Et,g,v)),rd=new Map;R2(rd,this.driver,at,v,ed).forEach(Et=>{P2(Et,g,v)&&id.push(Et)});const pw=new Map;z.forEach((Et,Bt)=>{R2(pw,this.driver,new Set(Et),g,rk)}),id.forEach(Et=>{const Bt=rd.get(Et),Qt=pw.get(Et);rd.set(Et,new Map([...Array.from(Bt?.entries()??[]),...Array.from(Qt?.entries()??[])]))});const km=[],q2=[],Y2={};u.forEach(Et=>{const{element:Bt,player:Qt,instruction:In}=Et;if(i.has(Bt)){if(E.has(Bt))return Qt.onDestroy(()=>Uc(Bt,In.toStyles)),Qt.disabled=!0,Qt.overrideTotalTime(In.totalTime),void r.push(Qt);let Zr=Y2;if(Wr.size>1){let Zs=Bt;const _f=[];for(;Zs=Zs.parentNode;){const ji=Wr.get(Zs);if(ji){Zr=ji;break}_f.push(Zs)}_f.forEach(ji=>Wr.set(ji,Zr))}const Hc=this._buildAnimation(Qt.namespaceId,In,Rn,o,pw,rd);if(Qt.setRealPlayer(Hc),Zr===Y2)km.push(Qt);else{const Zs=this.playersByElement.get(Zr);Zs&&Zs.length&&(Qt.parentPlayer=mf(Zs)),r.push(Qt)}}else Mm(Bt,In.fromStyles),Qt.onDestroy(()=>Uc(Bt,In.toStyles)),q2.push(Qt),E.has(Bt)&&r.push(Qt)}),q2.forEach(Et=>{const Bt=o.get(Et.element);if(Bt&&Bt.length){const Qt=mf(Bt);Et.setRealPlayer(Qt)}}),r.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<he.length;Et++){const Bt=he[Et],Qt=Bt[Na];if(ay(Bt,Xx),Qt&&Qt.hasAnimation)continue;let In=[];if(h.size){let Hc=h.get(Bt);Hc&&Hc.length&&In.push(...Hc);let Zs=this.driver.query(Bt,Ik,!0);for(let _f=0;_f<Zs.length;_f++){let ji=h.get(Zs[_f]);ji&&ji.length&&In.push(...ji)}}const Zr=In.filter(Hc=>!Hc.destroyed);Zr.length?C5(this,Bt,Zr):this.processLeaveNode(Bt)}return he.length=0,km.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const Bt=this.players.indexOf(Et);this.players.splice(Bt,1)}),Et.play()}),km}elementContainsData(t,e){let i=!1;const r=e[Na];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const g=!o||o==hw;h.forEach(v=>{v.queued||!g&&v.triggerName!=r||u.push(v)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const g of e.timelines){const v=g.element,E=v!==o,S=Ys(i,v,[]);this._getPreviousPlayers(v,E,u,h,e.toState).forEach(z=>{const X=z.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),z.destroy(),S.push(z)})}Mm(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,g=e.element,v=[],E=new Set,S=new Set,V=e.timelines.map(X=>{const ne=X.element;E.add(ne);const he=ne[Na];if(he&&he.removedBeforeQueried)return new iw(X.duration,X.delay);const $e=ne!==g,at=function D5(n){const t=[];return O2(n,t),t}((i.get(ne)||m5).map(Rn=>Rn.getRealPlayer())).filter(Rn=>!!Rn.element&&Rn.element===ne),it=o.get(ne),wt=u.get(ne),zt=o2(0,this._normalizer,0,X.keyframes,it,wt),dn=this._buildPlayer(X,zt,at);if(X.subTimeline&&r&&S.add(ne),$e){const Rn=new Uk(t,h,ne);Rn.setRealPlayer(dn),v.push(Rn)}return dn});v.forEach(X=>{Ys(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function v5(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,X.element,X))}),E.forEach(X=>La(X,p2));const z=mf(V);return z.onDestroy(()=>{E.forEach(X=>ay(X,p2)),Uc(g,e.toStyles)}),S.forEach(X=>{Ys(r,X,[]).push(z)}),z}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new iw(t.duration,t.delay)}}class Uk{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new iw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>vk(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ys(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dI(n){return n&&1===n.nodeType}function M2(n,t){const e=n.style.display;return n.style.display=t??"none",e}function R2(n,t,e,i,r){const o=[];e.forEach(g=>o.push(M2(g)));const u=[];i.forEach((g,v)=>{const E=new Map;g.forEach(S=>{const V=t.computeStyle(v,S,r);E.set(S,V),(!V||0==V.length)&&(v[Na]=g5,u.push(v))}),n.set(v,E)});let h=0;return e.forEach(g=>M2(g,o[h++])),u}function k2(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const i=1,r=new Set(t),o=new Map;function u(h){if(!h)return i;let g=o.get(h);if(g)return g;const v=h.parentNode;return g=e.has(v)?v:r.has(v)?i:u(v),o.set(h,g),g}return t.forEach(h=>{const g=u(h);g!==i&&e.get(g).push(h)}),e}function La(n,t){n.classList?.add(t)}function ay(n,t){n.classList?.remove(t)}function C5(n,t,e){mf(e).onDone(()=>n.processLeaveNode(t))}function O2(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof DL?O2(i.players,t):t.push(i)}}function P2(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class hI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new y5(t,e,i),this._timelineEngine=new u5(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const g=[],v=[],E=Mk(this._driver,o,g,v);if(g.length)throw function aG(n,t){return new l.vHH(3404,!1)}();h=function s5(n,t,e){return new a5(n,t,e)}(r,E,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=s2(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=s2(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let I5=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Uc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Uc(this._element,this._initialStyles),this._endStyles&&(Uc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Mm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mm(this._element,this._endStyles),this._endStyles=null),Uc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Hk(n){let t=null;return n.forEach((e,i)=>{(function S5(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class F2{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:b2(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class T5{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return u2(t,e)}getParentElement(t){return Dk(t)}query(t,e,i){return d2(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,u=[]){const g={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(g.easing=o);const v=new Map,E=u.filter(z=>z instanceof F2);(function RG(n,t){return 0===n||0===t})(i,r)&&E.forEach(z=>{z.currentSnapshot.forEach((X,ne)=>v.set(ne,X))});let S=function SG(n){return n.length?n[0]instanceof Map?n:n.map(t=>m2(t)):[]}(e).map(z=>gf(z));S=function kG(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<t.length;o++){let u=t[o];r.forEach(h=>u.set(h,b2(n,h)))}}return t}(t,S,v);const V=function x5(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Hk(t[0]),t.length>1&&(i=Hk(t[t.length-1]))):t instanceof Map&&(e=Hk(t)),e||i?new I5(n,e,i):null}(t,S);return new F2(t,S,g,V)}}let A5=(()=>{class n extends yL{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?bL(e):e;return N2(this._renderer,null,i,"register",[r]),new M5(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(re))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class M5 extends q4{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new R5(this._id,t,e||{},this._renderer)}}class R5{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return N2(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function N2(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const L2="@.disabled";let k5=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let E=this._rendererCache.get(o);return E||(E=new V2("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,E)),E}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const g=E=>{Array.isArray(E)?E.forEach(g):this.engine.registerTrigger(u,h,e,E.name,E)};return i.data.animation.forEach(g),new O5(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(hI),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class V2{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==L2?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class O5 extends V2{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==L2?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function P5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function F5(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let N5=(()=>{class n extends hI{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(re),l.LFG(Ek),l.LFG(Fk),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const B2=[{provide:yL,useClass:A5},{provide:Fk,useFactory:function L5(){return new t5}},{provide:hI,useClass:N5},{provide:l.FYo,useFactory:function V5(n,t,e){return new k5(n,t,e)},deps:[rr,hI,l.R0b]}],jk=[{provide:Ek,useFactory:()=>new T5},{provide:l.QbO,useValue:"BrowserAnimations"},...B2],U2=[{provide:Ek,useClass:h2},{provide:l.QbO,useValue:"NoopAnimations"},...B2];let B5=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?U2:jk}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:jk,imports:[Ms]}),n})(),U5=(()=>{class n{constructor(){this.title="nutrition-tracker"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,i){1&e&&l._UZ(0,"router-outlet")},dependencies:[Cy]}),n})();const G5={provide:new l.OlP("mat-select-scroll-strategy"),deps:[td],useFactory:function $5(n){return()=>n.scrollStrategies.reposition()}};let q5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[G5],imports:[Ar,lw,PF,Ci,H0,qx,PF,Ci]}),n})();const K5={provide:new l.OlP("mat-tooltip-scroll-strategy"),deps:[td],useFactory:function Z5(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let X5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[K5],imports:[tR,Ar,lw,Ci,Ci,H0]}),n})(),zk=(()=>{class n{constructor(){this.changes=new Gt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const r8={provide:zk,deps:[[new l.FiY,new l.tp0,zk]],useFactory:function n8(n){return n||new zk}};let o8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[r8],imports:[Ar,xR,q5,X5]}),n})(),l8=(()=>{class n{constructor(){this.changes=new Gt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y8={provide:new l.OlP("mat-datepicker-scroll-strategy"),deps:[td],useFactory:function _8(n){return()=>n.scrollStrategies.reposition()}};let x8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[l8,y8],imports:[Ar,xR,lw,tR,sw,Ci,H0]}),n})();const I8_firebaseConfig={apiKey:"AIzaSyCSGD4gKgI0u6xrKj3BgCKmusgIwDJIOB8",authDomain:"nutritiontracker-9e32e.firebaseapp.com",databaseURL:"https://nutritiontracker-9e32e.firebaseio.com",projectId:"nutritiontracker-9e32e",storageBucket:"nutritiontracker-9e32e.appspot.com",messagingSenderId:"189361016416",appId:"1:189361016416:web:f27fa7d89bd92831c2bd05",measurementId:"G-H3M2GVM343"};let S8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[U5]}),n.\u0275inj=l.cJS({providers:[Us],imports:[Ms,B6,ss.hO.initializeApp(I8_firebaseConfig),kC,B5,$4,G4,kj,A$,qx,xR,K3,Tz,N3,o8,_6,x8,cj]}),n})();Mf().bootstrapModule(S8).catch(n=>console.error(n))},9751:(vt,Se,B)=>{B.d(Se,{y:()=>ye});var l=B(930),$=B(727),F=B(8822),se=B(9635),ue=B(2416),re=B(576),Ee=B(2806);let ye=(()=>{class te{constructor(Ae){Ae&&(this._subscribe=Ae)}lift(Ae){const Ke=new te;return Ke.source=this,Ke.operator=Ae,Ke}subscribe(Ae,Ke,ct){const ve=function q(te){return te&&te instanceof l.Lv||function W(te){return te&&(0,re.m)(te.next)&&(0,re.m)(te.error)&&(0,re.m)(te.complete)}(te)&&(0,$.Nn)(te)}(Ae)?Ae:new l.Hp(Ae,Ke,ct);return(0,Ee.x)(()=>{const{operator:ke,source:Fe}=this;ve.add(ke?ke.call(ve,Fe):Fe?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Ae){try{return this._subscribe(Ae)}catch(Ke){Ae.error(Ke)}}forEach(Ae,Ke){return new(Ke=be(Ke))((ct,ve)=>{const ke=new l.Hp({next:Fe=>{try{Ae(Fe)}catch(Ue){ve(Ue),ke.unsubscribe()}},error:ve,complete:ct});this.subscribe(ke)})}_subscribe(Ae){var Ke;return null===(Ke=this.source)||void 0===Ke?void 0:Ke.subscribe(Ae)}[F.L](){return this}pipe(...Ae){return(0,se.U)(Ae)(this)}toPromise(Ae){return new(Ae=be(Ae))((Ke,ct)=>{let ve;this.subscribe(ke=>ve=ke,ke=>ct(ke),()=>Ke(ve))})}}return te.create=He=>new te(He),te})();function be(te){var He;return null!==(He=te??ue.v.Promise)&&void 0!==He?He:Promise}},7579:(vt,Se,B)=>{B.d(Se,{x:()=>Ee});var l=B(9751),$=B(727);const se=(0,B(3888).d)(be=>function(){be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=B(8737),re=B(2806);let Ee=(()=>{class be extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const te=new ye(this,this);return te.operator=q,te}_throwIfClosed(){if(this.closed)throw new se}next(q){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(q)}})}error(q){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:te}=this;for(;te.length;)te.shift().error(q)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:te,isStopped:He,observers:Ae}=this;return te||He?$.Lc:(this.currentObservers=null,Ae.push(q),new $.w0(()=>{this.currentObservers=null,(0,ue.P)(Ae,q)}))}_checkFinalizedStatuses(q){const{hasError:te,thrownError:He,isStopped:Ae}=this;te?q.error(He):Ae&&q.complete()}asObservable(){const q=new l.y;return q.source=this,q}}return be.create=(W,q)=>new ye(W,q),be})();class ye extends Ee{constructor(W,q){super(),this.destination=W,this.source=q}next(W){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===te||te.call(q,W)}error(W){var q,te;null===(te=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===te||te.call(q,W)}complete(){var W,q;null===(q=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===q||q.call(W)}_subscribe(W){var q,te;return null!==(te=null===(q=this.source)||void 0===q?void 0:q.subscribe(W))&&void 0!==te?te:$.Lc}}},930:(vt,Se,B)=>{B.d(Se,{Hp:()=>ct,Lv:()=>te});var l=B(576),$=B(727),F=B(2416),se=B(7849),ue=B(5032);const re=be("C",void 0,void 0);function be(Te,xe,Oe){return{kind:Te,value:xe,error:Oe}}var W=B(3410),q=B(2806);class te extends $.w0{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,$.Nn)(xe)&&xe.add(this)):this.destination=Ue}static create(xe,Oe,je){return new ct(xe,Oe,je)}next(xe){this.isStopped?Fe(function ye(Te){return be("N",Te,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?Fe(function Ee(Te){return be("E",void 0,Te)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?Fe(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Ae(Te,xe){return He.call(Te,xe)}class Ke{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:Oe}=this;if(Oe.next)try{Oe.next(xe)}catch(je){ve(je)}}error(xe){const{partialObserver:Oe}=this;if(Oe.error)try{Oe.error(xe)}catch(je){ve(je)}else ve(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(Oe){ve(Oe)}}}class ct extends te{constructor(xe,Oe,je){let Ne;if(super(),(0,l.m)(xe)||!xe)Ne={next:xe??void 0,error:Oe??void 0,complete:je??void 0};else{let ce;this&&F.v.useDeprecatedNextContext?(ce=Object.create(xe),ce.unsubscribe=()=>this.unsubscribe(),Ne={next:xe.next&&Ae(xe.next,ce),error:xe.error&&Ae(xe.error,ce),complete:xe.complete&&Ae(xe.complete,ce)}):Ne=xe}this.destination=new Ke(Ne)}}function ve(Te){F.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Te):(0,se.h)(Te)}function Fe(Te,xe){const{onStoppedNotification:Oe}=F.v;Oe&&W.z.setTimeout(()=>Oe(Te,xe))}const Ue={closed:!0,next:ue.Z,error:function ke(Te){throw Te},complete:ue.Z}},727:(vt,Se,B)=>{B.d(Se,{Lc:()=>re,w0:()=>ue,Nn:()=>Ee});var l=B(576);const F=(0,B(3888).d)(be=>function(q){be(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((te,He)=>`${He+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var se=B(8737);class ue{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Ae of q)Ae.remove(this);else q.remove(this);const{initialTeardown:te}=this;if((0,l.m)(te))try{te()}catch(Ae){W=Ae instanceof F?Ae.errors:[Ae]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Ae of He)try{ye(Ae)}catch(Ke){W=W??[],Ke instanceof F?W=[...W,...Ke.errors]:W.push(Ke)}}if(W)throw new F(W)}}add(W){var q;if(W&&W!==this)if(this.closed)ye(W);else{if(W instanceof ue){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(W)}}_hasParent(W){const{_parentage:q}=this;return q===W||Array.isArray(q)&&q.includes(W)}_addParent(W){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(W),q):q?[q,W]:W}_removeParent(W){const{_parentage:q}=this;q===W?this._parentage=null:Array.isArray(q)&&(0,se.P)(q,W)}remove(W){const{_finalizers:q}=this;q&&(0,se.P)(q,W),W instanceof ue&&W._removeParent(this)}}ue.EMPTY=(()=>{const be=new ue;return be.closed=!0,be})();const re=ue.EMPTY;function Ee(be){return be instanceof ue||be&&"closed"in be&&(0,l.m)(be.remove)&&(0,l.m)(be.add)&&(0,l.m)(be.unsubscribe)}function ye(be){(0,l.m)(be)?be():be.unsubscribe()}},2416:(vt,Se,B)=>{B.d(Se,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(vt,Se,B)=>{B.d(Se,{E:()=>$});const $=new(B(9751).y)(ue=>ue.complete())},8996:(vt,Se,B)=>{B.d(Se,{D:()=>xe});var l=B(8421),$=B(5363),F=B(9468),re=B(9751),ye=B(2202),be=B(576),W=B(9672);function te(Oe,je){if(!Oe)throw new Error("Iterable cannot be null");return new re.y(Ne=>{(0,W.f)(Ne,je,()=>{const ce=Oe[Symbol.asyncIterator]();(0,W.f)(Ne,je,()=>{ce.next().then(ot=>{ot.done?Ne.complete():Ne.next(ot.value)})},0,!0)})})}var He=B(3670),Ae=B(8239),Ke=B(1144),ct=B(6495),ve=B(2206),ke=B(4532),Fe=B(3260);function xe(Oe,je){return je?function Te(Oe,je){if(null!=Oe){if((0,He.c)(Oe))return function se(Oe,je){return(0,l.Xf)(Oe).pipe((0,F.R)(je),(0,$.Q)(je))}(Oe,je);if((0,Ke.z)(Oe))return function Ee(Oe,je){return new re.y(Ne=>{let ce=0;return je.schedule(function(){ce===Oe.length?Ne.complete():(Ne.next(Oe[ce++]),Ne.closed||this.schedule())})})}(Oe,je);if((0,Ae.t)(Oe))return function ue(Oe,je){return(0,l.Xf)(Oe).pipe((0,F.R)(je),(0,$.Q)(je))}(Oe,je);if((0,ve.D)(Oe))return te(Oe,je);if((0,ct.T)(Oe))return function q(Oe,je){return new re.y(Ne=>{let ce;return(0,W.f)(Ne,je,()=>{ce=Oe[ye.h](),(0,W.f)(Ne,je,()=>{let ot,Mt;try{({value:ot,done:Mt}=ce.next())}catch(ut){return void Ne.error(ut)}Mt?Ne.complete():Ne.next(ot)},0,!0)}),()=>(0,be.m)(ce?.return)&&ce.return()})}(Oe,je);if((0,Fe.L)(Oe))return function Ue(Oe,je){return te((0,Fe.Q)(Oe),je)}(Oe,je)}throw(0,ke.z)(Oe)}(Oe,je):(0,l.Xf)(Oe)}},8421:(vt,Se,B)=>{B.d(Se,{Xf:()=>He});var l=B(655),$=B(1144),F=B(8239),se=B(9751),ue=B(3670),re=B(2206),Ee=B(4532),ye=B(6495),be=B(3260),W=B(576),q=B(7849),te=B(8822);function He(Te){if(Te instanceof se.y)return Te;if(null!=Te){if((0,ue.c)(Te))return function Ae(Te){return new se.y(xe=>{const Oe=Te[te.L]();if((0,W.m)(Oe.subscribe))return Oe.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,$.z)(Te))return function Ke(Te){return new se.y(xe=>{for(let Oe=0;Oe<Te.length&&!xe.closed;Oe++)xe.next(Te[Oe]);xe.complete()})}(Te);if((0,F.t)(Te))return function ct(Te){return new se.y(xe=>{Te.then(Oe=>{xe.closed||(xe.next(Oe),xe.complete())},Oe=>xe.error(Oe)).then(null,q.h)})}(Te);if((0,re.D)(Te))return ke(Te);if((0,ye.T)(Te))return function ve(Te){return new se.y(xe=>{for(const Oe of Te)if(xe.next(Oe),xe.closed)return;xe.complete()})}(Te);if((0,be.L)(Te))return function Fe(Te){return ke((0,be.Q)(Te))}(Te)}throw(0,Ee.z)(Te)}function ke(Te){return new se.y(xe=>{(function Ue(Te,xe){var Oe,je,Ne,ce;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Oe=(0,l.KL)(Te);!(je=yield Oe.next()).done;)if(xe.next(je.value),xe.closed)return}catch(ot){Ne={error:ot}}finally{try{je&&!je.done&&(ce=Oe.return)&&(yield ce.call(Oe))}finally{if(Ne)throw Ne.error}}xe.complete()})})(Te,xe).catch(Oe=>xe.error(Oe))})}},6451:(vt,Se,B)=>{B.d(Se,{T:()=>re});var l=B(8189),$=B(8421),F=B(515),se=B(3269),ue=B(8996);function re(...Ee){const ye=(0,se.yG)(Ee),be=(0,se._6)(Ee,1/0),W=Ee;return W.length?1===W.length?(0,$.Xf)(W[0]):(0,l.J)(be)((0,ue.D)(W,ye)):F.E}},5403:(vt,Se,B)=>{B.d(Se,{x:()=>$});var l=B(930);function $(se,ue,re,Ee,ye){return new F(se,ue,re,Ee,ye)}class F extends l.Lv{constructor(ue,re,Ee,ye,be,W){super(ue),this.onFinalize=be,this.shouldUnsubscribe=W,this._next=re?function(q){try{re(q)}catch(te){ue.error(te)}}:super._next,this._error=ye?function(q){try{ye(q)}catch(te){ue.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(q){ue.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},4004:(vt,Se,B)=>{B.d(Se,{U:()=>F});var l=B(4482),$=B(5403);function F(se,ue){return(0,l.e)((re,Ee)=>{let ye=0;re.subscribe((0,$.x)(Ee,be=>{Ee.next(se.call(ue,be,ye++))}))})}},8189:(vt,Se,B)=>{B.d(Se,{J:()=>F});var l=B(5577),$=B(4671);function F(se=1/0){return(0,l.z)($.y,se)}},5577:(vt,Se,B)=>{B.d(Se,{z:()=>ye});var l=B(4004),$=B(8421),F=B(4482),se=B(9672),ue=B(5403),Ee=B(576);function ye(be,W,q=1/0){return(0,Ee.m)(W)?ye((te,He)=>(0,l.U)((Ae,Ke)=>W(te,Ae,He,Ke))((0,$.Xf)(be(te,He))),q):("number"==typeof W&&(q=W),(0,F.e)((te,He)=>function re(be,W,q,te,He,Ae,Ke,ct){const ve=[];let ke=0,Fe=0,Ue=!1;const Te=()=>{Ue&&!ve.length&&!ke&&W.complete()},xe=je=>ke<te?Oe(je):ve.push(je),Oe=je=>{Ae&&W.next(je),ke++;let Ne=!1;(0,$.Xf)(q(je,Fe++)).subscribe((0,ue.x)(W,ce=>{He?.(ce),Ae?xe(ce):W.next(ce)},()=>{Ne=!0},void 0,()=>{if(Ne)try{for(ke--;ve.length&&ke<te;){const ce=ve.shift();Ke?(0,se.f)(W,Ke,()=>Oe(ce)):Oe(ce)}Te()}catch(ce){W.error(ce)}}))};return be.subscribe((0,ue.x)(W,xe,()=>{Ue=!0,Te()})),()=>{ct?.()}}(te,He,be,q)))}},5363:(vt,Se,B)=>{B.d(Se,{Q:()=>se});var l=B(9672),$=B(4482),F=B(5403);function se(ue,re=0){return(0,$.e)((Ee,ye)=>{Ee.subscribe((0,F.x)(ye,be=>(0,l.f)(ye,ue,()=>ye.next(be),re),()=>(0,l.f)(ye,ue,()=>ye.complete(),re),be=>(0,l.f)(ye,ue,()=>ye.error(be),re)))})}},3099:(vt,Se,B)=>{B.d(Se,{B:()=>ue});var l=B(8421),$=B(7579),F=B(930),se=B(4482);function ue(Ee={}){const{connector:ye=(()=>new $.x),resetOnError:be=!0,resetOnComplete:W=!0,resetOnRefCountZero:q=!0}=Ee;return te=>{let He,Ae,Ke,ct=0,ve=!1,ke=!1;const Fe=()=>{Ae?.unsubscribe(),Ae=void 0},Ue=()=>{Fe(),He=Ke=void 0,ve=ke=!1},Te=()=>{const xe=He;Ue(),xe?.unsubscribe()};return(0,se.e)((xe,Oe)=>{ct++,!ke&&!ve&&Fe();const je=Ke=Ke??ye();Oe.add(()=>{ct--,0===ct&&!ke&&!ve&&(Ae=re(Te,q))}),je.subscribe(Oe),!He&&ct>0&&(He=new F.Hp({next:Ne=>je.next(Ne),error:Ne=>{ke=!0,Fe(),Ae=re(Ue,be,Ne),je.error(Ne)},complete:()=>{ve=!0,Fe(),Ae=re(Ue,W),je.complete()}}),(0,l.Xf)(xe).subscribe(He))})(te)}}function re(Ee,ye,...be){if(!0===ye)return void Ee();if(!1===ye)return;const W=new F.Hp({next:()=>{W.unsubscribe(),Ee()}});return(0,l.Xf)(ye(...be)).subscribe(W)}},9468:(vt,Se,B)=>{B.d(Se,{R:()=>$});var l=B(4482);function $(F,se=0){return(0,l.e)((ue,re)=>{re.add(F.schedule(()=>ue.subscribe(re),se))})}},8505:(vt,Se,B)=>{B.d(Se,{b:()=>ue});var l=B(576),$=B(4482),F=B(5403),se=B(4671);function ue(re,Ee,ye){const be=(0,l.m)(re)||Ee||ye?{next:re,error:Ee,complete:ye}:re;return be?(0,$.e)((W,q)=>{var te;null===(te=be.subscribe)||void 0===te||te.call(be);let He=!0;W.subscribe((0,F.x)(q,Ae=>{var Ke;null===(Ke=be.next)||void 0===Ke||Ke.call(be,Ae),q.next(Ae)},()=>{var Ae;He=!1,null===(Ae=be.complete)||void 0===Ae||Ae.call(be),q.complete()},Ae=>{var Ke;He=!1,null===(Ke=be.error)||void 0===Ke||Ke.call(be,Ae),q.error(Ae)},()=>{var Ae,Ke;He&&(null===(Ae=be.unsubscribe)||void 0===Ae||Ae.call(be)),null===(Ke=be.finalize)||void 0===Ke||Ke.call(be)}))}):se.y}},4408:(vt,Se,B)=>{B.d(Se,{o:()=>ue});var l=B(727);class $ extends l.w0{constructor(Ee,ye){super()}schedule(Ee,ye=0){return this}}const F={setInterval(re,Ee,...ye){const{delegate:be}=F;return be?.setInterval?be.setInterval(re,Ee,...ye):setInterval(re,Ee,...ye)},clearInterval(re){const{delegate:Ee}=F;return(Ee?.clearInterval||clearInterval)(re)},delegate:void 0};var se=B(8737);class ue extends ${constructor(Ee,ye){super(Ee,ye),this.scheduler=Ee,this.work=ye,this.pending=!1}schedule(Ee,ye=0){var be;if(this.closed)return this;this.state=Ee;const W=this.id,q=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(q,W,ye)),this.pending=!0,this.delay=ye,this.id=null!==(be=this.id)&&void 0!==be?be:this.requestAsyncId(q,this.id,ye),this}requestAsyncId(Ee,ye,be=0){return F.setInterval(Ee.flush.bind(Ee,this),be)}recycleAsyncId(Ee,ye,be=0){if(null!=be&&this.delay===be&&!1===this.pending)return ye;null!=ye&&F.clearInterval(ye)}execute(Ee,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const be=this._execute(Ee,ye);if(be)return be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,ye){let W,be=!1;try{this.work(Ee)}catch(q){be=!0,W=q||new Error("Scheduled action threw falsy error")}if(be)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:ye}=this,{actions:be}=ye;this.work=this.state=this.scheduler=null,this.pending=!1,(0,se.P)(be,this),null!=Ee&&(this.id=this.recycleAsyncId(ye,Ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(vt,Se,B)=>{B.d(Se,{v:()=>F});var l=B(6063);class ${constructor(ue,re=$.now){this.schedulerActionCtor=ue,this.now=re}schedule(ue,re=0,Ee){return new this.schedulerActionCtor(this,ue).schedule(Ee,re)}}$.now=l.l.now;class F extends ${constructor(ue,re=$.now){super(ue,re),this.actions=[],this._active=!1}flush(ue){const{actions:re}=this;if(this._active)return void re.push(ue);let Ee;this._active=!0;do{if(Ee=ue.execute(ue.state,ue.delay))break}while(ue=re.shift());if(this._active=!1,Ee){for(;ue=re.shift();)ue.unsubscribe();throw Ee}}}},4986:(vt,Se,B)=>{B.d(Se,{P:()=>se,z:()=>F});var l=B(4408);const F=new(B(7565).v)(l.o),se=F},6063:(vt,Se,B)=>{B.d(Se,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(vt,Se,B)=>{B.d(Se,{z:()=>l});const l={setTimeout($,F,...se){const{delegate:ue}=l;return ue?.setTimeout?ue.setTimeout($,F,...se):setTimeout($,F,...se)},clearTimeout($){const{delegate:F}=l;return(F?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(vt,Se,B)=>{B.d(Se,{h:()=>$});const $=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(vt,Se,B)=>{B.d(Se,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(vt,Se,B)=>{B.d(Se,{_6:()=>re,jO:()=>se,yG:()=>ue});var l=B(576),$=B(3532);function F(Ee){return Ee[Ee.length-1]}function se(Ee){return(0,l.m)(F(Ee))?Ee.pop():void 0}function ue(Ee){return(0,$.K)(F(Ee))?Ee.pop():void 0}function re(Ee,ye){return"number"==typeof F(Ee)?Ee.pop():ye}},8737:(vt,Se,B)=>{function l($,F){if($){const se=$.indexOf(F);0<=se&&$.splice(se,1)}}B.d(Se,{P:()=>l})},3888:(vt,Se,B)=>{function l($){const se=$(ue=>{Error.call(ue),ue.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}B.d(Se,{d:()=>l})},2806:(vt,Se,B)=>{B.d(Se,{O:()=>se,x:()=>F});var l=B(2416);let $=null;function F(ue){if(l.v.useDeprecatedSynchronousErrorHandling){const re=!$;if(re&&($={errorThrown:!1,error:null}),ue(),re){const{errorThrown:Ee,error:ye}=$;if($=null,Ee)throw ye}}else ue()}function se(ue){l.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=ue)}},9672:(vt,Se,B)=>{function l($,F,se,ue=0,re=!1){const Ee=F.schedule(function(){se(),re?$.add(this.schedule(null,ue)):this.unsubscribe()},ue);if($.add(Ee),!re)return Ee}B.d(Se,{f:()=>l})},4671:(vt,Se,B)=>{function l($){return $}B.d(Se,{y:()=>l})},1144:(vt,Se,B)=>{B.d(Se,{z:()=>l});const l=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(vt,Se,B)=>{B.d(Se,{D:()=>$});var l=B(576);function $(F){return Symbol.asyncIterator&&(0,l.m)(F?.[Symbol.asyncIterator])}},576:(vt,Se,B)=>{function l($){return"function"==typeof $}B.d(Se,{m:()=>l})},3670:(vt,Se,B)=>{B.d(Se,{c:()=>F});var l=B(8822),$=B(576);function F(se){return(0,$.m)(se[l.L])}},6495:(vt,Se,B)=>{B.d(Se,{T:()=>F});var l=B(2202),$=B(576);function F(se){return(0,$.m)(se?.[l.h])}},8239:(vt,Se,B)=>{B.d(Se,{t:()=>$});var l=B(576);function $(F){return(0,l.m)(F?.then)}},3260:(vt,Se,B)=>{B.d(Se,{L:()=>se,Q:()=>F});var l=B(655),$=B(576);function F(ue){return(0,l.FC)(this,arguments,function*(){const Ee=ue.getReader();try{for(;;){const{value:ye,done:be}=yield(0,l.qq)(Ee.read());if(be)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ye)}}finally{Ee.releaseLock()}})}function se(ue){return(0,$.m)(ue?.getReader)}},3532:(vt,Se,B)=>{B.d(Se,{K:()=>$});var l=B(576);function $(F){return F&&(0,l.m)(F.schedule)}},4482:(vt,Se,B)=>{B.d(Se,{A:()=>$,e:()=>F});var l=B(576);function $(se){return(0,l.m)(se?.lift)}function F(se){return ue=>{if($(ue))return ue.lift(function(re){try{return se(re,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(vt,Se,B)=>{function l(){}B.d(Se,{Z:()=>l})},9635:(vt,Se,B)=>{B.d(Se,{U:()=>F,z:()=>$});var l=B(4671);function $(...se){return F(se)}function F(se){return 0===se.length?l.y:1===se.length?se[0]:function(re){return se.reduce((Ee,ye)=>ye(Ee),re)}}},7849:(vt,Se,B)=>{B.d(Se,{h:()=>F});var l=B(2416),$=B(3410);function F(se){$.z.setTimeout(()=>{const{onUnhandledError:ue}=l.v;if(!ue)throw se;ue(se)})}},4532:(vt,Se,B)=>{function l($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}B.d(Se,{z:()=>l})},655:(vt,Se,B)=>{function se(_e,ge){var Ie={};for(var Re in _e)Object.prototype.hasOwnProperty.call(_e,Re)&&ge.indexOf(Re)<0&&(Ie[Re]=_e[Re]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(Re=Object.getOwnPropertySymbols(_e);We<Re.length;We++)ge.indexOf(Re[We])<0&&Object.prototype.propertyIsEnumerable.call(_e,Re[We])&&(Ie[Re[We]]=_e[Re[We]])}return Ie}function te(_e,ge,Ie,Re){return new(Ie||(Ie=Promise))(function(Ge,gt){function qe($t){try{xt(Re.next($t))}catch(St){gt(St)}}function Ut($t){try{xt(Re.throw($t))}catch(St){gt(St)}}function xt($t){$t.done?Ge($t.value):function We(Ge){return Ge instanceof Ie?Ge:new Ie(function(gt){gt(Ge)})}($t.value).then(qe,Ut)}xt((Re=Re.apply(_e,ge||[])).next())})}function Te(_e){return this instanceof Te?(this.v=_e,this):new Te(_e)}function xe(_e,ge,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,Re=Ie.apply(_e,ge||[]),Ge=[];return We={},gt("next"),gt("throw"),gt("return"),We[Symbol.asyncIterator]=function(){return this},We;function gt(an){Re[an]&&(We[an]=function(Hn){return new Promise(function(kn,zi){Ge.push([an,Hn,kn,zi])>1||qe(an,Hn)})})}function qe(an,Hn){try{!function Ut(an){an.value instanceof Te?Promise.resolve(an.value.v).then(xt,$t):St(Ge[0][2],an)}(Re[an](Hn))}catch(kn){St(Ge[0][3],kn)}}function xt(an){qe("next",an)}function $t(an){qe("throw",an)}function St(an,Hn){an(Hn),Ge.shift(),Ge.length&&qe(Ge[0][0],Ge[0][1])}}function je(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,ge=_e[Symbol.asyncIterator];return ge?ge.call(_e):(_e=function ct(_e){var ge="function"==typeof Symbol&&Symbol.iterator,Ie=ge&&_e[ge],Re=0;if(Ie)return Ie.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&Re>=_e.length&&(_e=void 0),{value:_e&&_e[Re++],done:!_e}}};throw new TypeError(ge?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),Ie={},Re("next"),Re("throw"),Re("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function Re(Ge){Ie[Ge]=_e[Ge]&&function(gt){return new Promise(function(qe,Ut){!function We(Ge,gt,qe,Ut){Promise.resolve(Ut).then(function(xt){Ge({value:xt,done:qe})},gt)}(qe,Ut,(gt=_e[Ge](gt)).done,gt.value)})}}}B.d(Se,{FC:()=>xe,KL:()=>je,_T:()=>se,mG:()=>te,qq:()=>Te})},4650:(vt,Se,B)=>{B.d(Se,{$8M:()=>nl,$WT:()=>qi,$Z:()=>aC,AFp:()=>Jp,ALo:()=>d_,AaK:()=>ye,BQk:()=>wg,CHM:()=>Yc,CRH:()=>ri,CZH:()=>An,CqO:()=>$S,D6c:()=>mE,EJc:()=>Oi,EiD:()=>AI,EpF:()=>jS,F$t:()=>Ev,F4k:()=>zS,FYo:()=>Ly,FiY:()=>Os,Gf:()=>Lu,GfV:()=>Hw,GkF:()=>SC,Gpc:()=>q,Hsn:()=>xv,Ikx:()=>Wv,JOm:()=>At,JVY:()=>bw,JZr:()=>ct,KtG:()=>Ya,L6k:()=>ww,LAX:()=>th,LFG:()=>qt,Lbi:()=>Co,Lck:()=>bD,MAs:()=>yv,MMx:()=>Oh,NdJ:()=>TC,OlP:()=>pn,Oqu:()=>Og,P3R:()=>kw,PXZ:()=>zh,Q6J:()=>_p,QGY:()=>wv,QbO:()=>LT,Qsj:()=>HI,R0b:()=>Er,RDi:()=>bI,Rgc:()=>Zp,SBq:()=>ch,Sil:()=>BT,Suo:()=>Ib,TTD:()=>fd,TgZ:()=>Ch,Udp:()=>Dp,W1O:()=>Je,X6Q:()=>tm,XFs:()=>_t,Xpm:()=>Yt,Xts:()=>Sy,Y36:()=>ph,YKP:()=>kh,YNc:()=>_v,Yjl:()=>cn,Yz7:()=>St,Z0I:()=>zi,ZZ4:()=>n0,_Bn:()=>vD,_UZ:()=>bv,_Vd:()=>lh,_c5:()=>Zh,_uU:()=>Vv,aQg:()=>Fc,c2e:()=>or,cJS:()=>Hn,cg1:()=>Zv,dDg:()=>XD,dqk:()=>mn,eBb:()=>EI,eFA:()=>zb,eJc:()=>m_,ekj:()=>Ag,eoX:()=>xr,f3M:()=>Nn,g9A:()=>Hu,h0i:()=>Pu,hGG:()=>pE,hij:()=>Ip,iGM:()=>Kt,ifc:()=>L,ip1:()=>Rb,jDz:()=>hb,kL8:()=>QC,lG2:()=>kt,lcZ:()=>Cb,lqb:()=>wu,lri:()=>QD,mCW:()=>nh,n5z:()=>ou,oAB:()=>oe,oxw:()=>Dv,pB0:()=>Cw,q3G:()=>mi,q4F:()=>jw,qLn:()=>ep,qOj:()=>ov,qZA:()=>vv,qzn:()=>bo,rWj:()=>Vb,sBO:()=>Ml,s_b:()=>lt,soG:()=>zs,tBr:()=>oc,tb:()=>eE,tp0:()=>dt,uIk:()=>fv,vHH:()=>ve,vpe:()=>ro,wAp:()=>Pt,xp6:()=>Jw,ynx:()=>bg,z2F:()=>w_,z3N:()=>Ls,zSh:()=>yc,zs3:()=>dh});var l=B(7579),$=B(727),F=B(9751),se=B(6451),ue=B(3099);function re(s){for(let a in s)if(s[a]===re)return a;throw Error("Could not find renamed property on target object.")}function Ee(s,a){for(const c in a)a.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=a[c])}function ye(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ye).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function be(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const W=re({__forward_ref__:re});function q(s){return s.__forward_ref__=q,s.toString=function(){return ye(this())},s}function te(s){return He(s)?s():s}function He(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===q}function Ae(s){return s&&!!s.\u0275providers}const ct="https://g.co/ng/security#xss";class ve extends Error{constructor(a,c){super(ke(a,c)),this.code=a}}function ke(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}function Fe(s){return"string"==typeof s?s:null==s?"":String(s)}function je(s,a){throw new ve(-201,!1)}function gt(s,a){null==s&&function qe(s,a,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,s,null,"!=")}function St(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Hn(s){return{providers:s.providers||[],imports:s.imports||[]}}function kn(s){return si(s,ur)||si(s,ms)}function zi(s){return null!==kn(s)}function si(s,a){return s.hasOwnProperty(a)?s[a]:null}function cr(s){return s&&(s.hasOwnProperty(Kr)||s.hasOwnProperty(Wn))?s[Kr]:null}const ur=re({\u0275prov:re}),Kr=re({\u0275inj:re}),ms=re({ngInjectableDef:re}),Wn=re({ngInjectorDef:re});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let jn;function Zn(s){const a=jn;return jn=s,a}function $i(s,a,c){const d=kn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&_t.Optional?null:void 0!==a?a:void je(ye(s))}const mn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Kn={},Pi="__NG_DI_FLAG__",zn="ngTempTokenPath",dr="ngTokenPath",$n=/\n/gm,Di="\u0275",ln="__source";let Lr;function un(s){const a=Lr;return Lr=s,a}function hr(s,a=_t.Default){if(void 0===Lr)throw new ve(-203,!1);return null===Lr?$i(s,void 0,a):Lr.get(s,a&_t.Optional?null:void 0,a)}function qt(s,a=_t.Default){return(function uo(){return jn}()||hr)(te(s),a)}function Nn(s,a=_t.Default){return qt(s,Fi(a))}function Fi(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Xn(s){const a=[];for(let c=0;c<s.length;c++){const d=te(s[c]);if(Array.isArray(d)){if(0===d.length)throw new ve(900,!1);let f,m=_t.Default;for(let y=0;y<d.length;y++){const D=d[y],I=Gi(D);"number"==typeof I?-1===I?f=D.token:m|=I:f=D}a.push(qt(f,m))}else a.push(qt(d))}return a}function er(s,a){return s[Pi]=a,s.prototype[Pi]=a,s}function Gi(s){return s[Pi]}function j(s){return{toString:s}.toString()}var N=(()=>((N=N||{})[N.OnPush=0]="OnPush",N[N.Default=1]="Default",N))(),L=(()=>{return(s=L||(L={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",L;var s})();const k={},Q=[],Ce=re({\u0275cmp:re}),rt=re({\u0275dir:re}),Rt=re({\u0275pipe:re}),Tt=re({\u0275mod:re}),rn=re({\u0275fac:re}),Ot=re({__NG_ELEMENT_ID__:re});let Sn=0;function Yt(s){return j(()=>{const a=Fl(s),c={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||L.Emulated,id:"c"+Sn++,styles:s.styles||Q,_:null,schemas:s.schemas||null,tView:null};yf(c);const d=s.dependencies;return c.directiveDefs=gs(d,!1),c.pipeDefs=gs(d,!0),c})}function Io(s){return bt(s)||_n(s)}function pe(s){return null!==s}function oe(s){return j(()=>({type:s.type,bootstrap:s.bootstrap||Q,declarations:s.declarations||Q,imports:s.imports||Q,exports:s.exports||Q,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function yt(s,a){if(null==s)return k;const c={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,a&&(a[f]=m)}return c}function kt(s){return j(()=>{const a=Fl(s);return yf(a),a})}function cn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function bt(s){return s[Ce]||null}function _n(s){return s[rt]||null}function fn(s){return s[Rt]||null}function qi(s){const a=bt(s)||_n(s)||fn(s);return null!==a&&a.standalone}function xi(s,a){const c=s[Tt]||null;if(!c&&!0===a)throw new Error(`Type ${ye(s)} does not have '\u0275mod' property.`);return c}function Fl(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Q,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yt(s.inputs,a),outputs:yt(s.outputs)}}function yf(s){s.features?.forEach(a=>a(s))}function gs(s,a){if(!s)return null;const c=a?fn:Io;return()=>("function"==typeof s?s():s).map(d=>c(d)).filter(pe)}const Ii=0,nt=1,on=2,On=3,yn=4,jo=5,Si=6,Ba=7,Gn=8,Ua=9,Qr=10,Xt=11,Nl=12,Vr=13,Ks=14,So=15,ui=16,_s=17,ys=18,Tr=19,vs=20,Ti=21,En=22,jc=1,Ha=2,Qs=7,zo=8,bs=9,Ni=10;function nr(s){return Array.isArray(s)&&"object"==typeof s[jc]}function Xr(s){return Array.isArray(s)&&!0===s[jc]}function ws(s){return 0!=(4&s.flags)}function Ll(s){return s.componentOffset>-1}function ja(s){return 1==(1&s.flags)}function fr(s){return!!s.template}function $o(s){return 0!=(256&s[on])}function To(s,a){return s.hasOwnProperty(rn)?s[rn]:null}class hd{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function fd(){return Vl}function Vl(s){return s.type.prototype.ngOnChanges&&(s.setInput=Yo),Df}function Df(){const s=Bl(this),a=s?.current;if(a){const c=s.previous;if(c===k)s.previous=a;else for(let d in a)c[d]=a[d];s.current=null,this.ngOnChanges(a)}}function Yo(s,a,c,d){const f=this.declaredInputs[c],m=Bl(s)||function Ef(s,a){return s[zc]=a}(s,{previous:k,current:null}),y=m.current||(m.current={}),D=m.previous,I=D[f];y[f]=new hd(I&&I.currentValue,a,D===k),s[d]=a}fd.ngInherit=!0;const zc="__ngSimpleChanges__";function Bl(s){return s[zc]||null}const Ln=function(s,a,c){};function di(s){for(;Array.isArray(s);)s=s[Ii];return s}function Es(s,a){return di(a[s])}function Li(s,a){return di(a[s.index])}function Hl(s,a){return s.data[a]}function ir(s,a){return s[a]}function Ai(s,a){const c=a[s];return nr(c)?c:c[Ii]}function Wo(s){return 64==(64&s[on])}function Ao(s,a){return null==a?null:s[a]}function qa(s){s[ys]=0}function ta(s,a){s[jo]+=a;let c=s,d=s[On];for(;null!==d&&(1===a&&1===c[jo]||-1===a&&0===c[jo]);)d[jo]+=a,c=d,d=d[On]}const Nt={lFrame:Za(null),bindingsEnabled:!0};function md(){return Nt.bindingsEnabled}function me(){return Nt.lFrame.lView}function jt(){return Nt.lFrame.tView}function Yc(s){return Nt.lFrame.contextLView=s,s[Gn]}function Ya(s){return Nt.lFrame.contextLView=null,s}function Jn(){let s=_d();for(;null!==s&&64===s.type;)s=s.parent;return s}function _d(){return Nt.lFrame.currentTNode}function Ur(s,a){const c=Nt.lFrame;c.currentTNode=s,c.isParent=a}function zl(){return Nt.lFrame.isParent}function yd(){Nt.lFrame.isParent=!1}function Mo(){return Nt.lFrame.bindingIndex++}function wd(s,a){const c=Nt.lFrame;c.bindingIndex=c.bindingRootIndex=s,ei(a)}function ei(s){Nt.lFrame.currentDirectiveIndex=s}function Wa(){return Nt.lFrame.currentQueryIndex}function Cd(s){Nt.lFrame.currentQueryIndex=s}function Gl(s){const a=s[nt];return 2===a.type?a.declTNode:1===a.type?s[Si]:null}function Dd(s,a,c){if(c&_t.SkipSelf){let f=a,m=s;for(;!(f=f.parent,null!==f||c&_t.Host||(f=Gl(m),null===f||(m=m[So],10&f.type))););if(null===f)return!1;a=f,s=m}const d=Nt.lFrame=Wc();return d.currentTNode=a,d.lView=s,!0}function ra(s){const a=Wc(),c=s[nt];Nt.lFrame=a,a.currentTNode=c.firstChild,a.lView=s,a.tView=c,a.contextLView=s,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Wc(){const s=Nt.lFrame,a=null===s?null:s.child;return null===a?Za(s):a}function Za(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Zc(){const s=Nt.lFrame;return Nt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const ql=Zc;function Ed(){const s=Zc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Yi(){return Nt.lFrame.selectedIndex}function po(s){Nt.lFrame.selectedIndex=s}function Pn(){const s=Nt.lFrame;return Hl(s.tView,s.selectedIndex)}function Yl(s,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const m=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:D,ngAfterViewInit:I,ngAfterViewChecked:M,ngOnDestroy:O}=m;y&&(s.contentHooks??(s.contentHooks=[])).push(-c,y),D&&((s.contentHooks??(s.contentHooks=[])).push(c,D),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(c,D)),I&&(s.viewHooks??(s.viewHooks=[])).push(-c,I),M&&((s.viewHooks??(s.viewHooks=[])).push(c,M),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(c,M)),null!=O&&(s.destroyHooks??(s.destroyHooks=[])).push(c,O)}}function Xc(s,a,c){Wl(s,a,3,c)}function Td(s,a,c,d){(3&s[on])===c&&Wl(s,a,c,d)}function Ad(s,a){let c=s[on];(3&c)===a&&(c&=2047,c+=1,s[on]=c)}function Wl(s,a,c,d){const m=d??-1,y=a.length-1;let D=0;for(let I=void 0!==d?65535&s[ys]:0;I<y;I++)if("number"==typeof a[I+1]){if(D=a[I],null!=d&&D>=d)break}else a[I]<0&&(s[ys]+=65536),(D<m||-1==m)&&(sa(s,c,a,I),s[ys]=(4294901760&s[ys])+I+2),I++}function sa(s,a,c,d){const f=c[d]<0,m=c[d+1],D=s[f?-c[d]:c[d]];if(f){if(s[on]>>11<s[ys]>>16&&(3&s[on])===a){s[on]+=2048,Ln(4,D,m);try{m.call(D)}finally{Ln(5,D,m)}}}else{Ln(4,D,m);try{m.call(D)}finally{Ln(5,D,m)}}}const Ka=-1;class Ro{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function aa(s,a,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const m=c[d++],y=c[d++],D=c[d++];s.setAttribute(a,y,D,m)}else{const m=f,y=c[++d];Qo(m)?s.setProperty(a,m,y):s.setAttribute(a,m,y),d++}}return d}function Rd(s){return 3===s||4===s||6===s}function Qo(s){return 64===s.charCodeAt(0)}function Is(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?c=f:0===c||la(s,c,f,null,-1===c||2===c?a[++d]:null)}}return s}function la(s,a,c,d,f){let m=0,y=s.length;if(-1===a)y=-1;else for(;m<s.length;){const D=s[m++];if("number"==typeof D){if(D===a){y=-1;break}if(D>a){y=m-1;break}}}for(;m<s.length;){const D=s[m];if("number"==typeof D)break;if(D===c){if(null===d)return void(null!==f&&(s[m+1]=f));if(d===s[m+1])return void(s[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==y&&(s.splice(y,0,a),m=y+1),s.splice(m++,0,c),null!==d&&s.splice(m++,0,d),null!==f&&s.splice(m++,0,f)}function Ss(s){return s!==Ka}function ca(s){return 32767&s}function Ja(s,a){let c=function Xa(s){return s>>16}(s),d=a;for(;c>0;)d=d[So],c--;return d}let eu=!0;function el(s){const a=eu;return eu=s,a}const tu=255,Ql=5;let nu=0;const rr={};function iu(s,a){const c=Od(s,a);if(-1!==c)return c;const d=a[nt];d.firstCreatePass&&(s.injectorIndex=a.length,mo(d.data,s),mo(a,null),mo(d.blueprint,null));const f=ti(s,a),m=s.injectorIndex;if(Ss(f)){const y=ca(f),D=Ja(f,a),I=D[nt].data;for(let M=0;M<8;M++)a[m+M]=D[y+M]|I[y+M]}return a[m+8]=f,m}function mo(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Od(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function ti(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,f=a;for(;null!==f;){if(d=Ts(f),null===d)return Ka;if(c++,f=f[So],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Ka}function Xo(s,a,c){!function kd(s,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Ot)&&(d=c[Ot]),null==d&&(d=c[Ot]=nu++);const f=d&tu;a.data[s+(f>>Ql)]|=1<<f}(s,a,c)}function Pd(s,a,c){if(c&_t.Optional||void 0!==s)return s;je()}function tl(s,a,c,d){if(c&_t.Optional&&void 0===d&&(d=null),!(c&(_t.Self|_t.Host))){const f=s[Ua],m=Zn(void 0);try{return f?f.get(a,d,c&_t.Optional):$i(a,d,c&_t.Optional)}finally{Zn(m)}}return Pd(d,0,c)}function Fd(s,a,c,d=_t.Default,f){if(null!==s){if(1024&a[on]){const y=function Mf(s,a,c,d,f){let m=s,y=a;for(;null!==m&&null!==y&&1024&y[on]&&!(256&y[on]);){const D=Jl(m,y,c,d|_t.Self,rr);if(D!==rr)return D;let I=m.parent;if(!I){const M=y[Ti];if(M){const O=M.get(c,rr,d);if(O!==rr)return O}I=Ts(y),y=y[So]}m=I}return f}(s,a,c,d,rr);if(y!==rr)return y}const m=Jl(s,a,c,d,rr);if(m!==rr)return m}return tl(a,c,d,f)}function Jl(s,a,c,d,f){const m=function Af(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Ot)?s[Ot]:void 0;return"number"==typeof a?a>=0?a&tu:ru:a}(c);if("function"==typeof m){if(!Dd(a,s,d))return d&_t.Host?Pd(f,0,d):tl(a,c,d,f);try{const y=m(d);if(null!=y||d&_t.Optional)return y;je()}finally{ql()}}else if("number"==typeof m){let y=null,D=Od(s,a),I=Ka,M=d&_t.Host?a[ui][Si]:null;for((-1===D||d&_t.SkipSelf)&&(I=-1===D?ti(s,a):a[D+8],I!==Ka&&ec(d,!1)?(y=a[nt],D=ca(I),a=Ja(I,a)):D=-1);-1!==D;){const O=a[nt];if(Jo(m,D,O.data)){const H=hi(D,a,c,y,d,M);if(H!==rr)return H}I=a[D+8],I!==Ka&&ec(d,a[nt].data[D+8]===M)&&Jo(m,D,a)?(y=O,D=ca(I),a=Ja(I,a)):D=-1}}return f}function hi(s,a,c,d,f,m){const y=a[nt],D=y.data[s+8],O=ua(D,y,c,null==d?Ll(D)&&eu:d!=y&&0!=(3&D.type),f&_t.Host&&m===D);return null!==O?Vn(a,y,O,D):rr}function ua(s,a,c,d,f){const m=s.providerIndexes,y=a.data,D=1048575&m,I=s.directiveStart,O=m>>20,Y=f?D+O:s.directiveEnd;for(let ee=d?D:D+O;ee<Y;ee++){const De=y[ee];if(ee<I&&c===De||ee>=I&&De.type===c)return ee}if(f){const ee=y[I];if(ee&&fr(ee)&&ee.type===c)return I}return null}function Vn(s,a,c,d){let f=s[c];const m=a.data;if(function Hm(s){return s instanceof Ro}(f)){const y=f;y.resolving&&function Te(s,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new ve(-200,`Circular dependency in DI detected for ${s}${c}`)}(function Ue(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Fe(s)}(m[c]));const D=el(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?Zn(y.injectImpl):null;Dd(s,d,_t.Default);try{f=s[c]=y.factory(void 0,m,s,d),a.firstCreatePass&&c>=d.directiveStart&&function Um(s,a,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(d){const y=Vl(a);(c.preOrderHooks??(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(s,y)}f&&(c.preOrderHooks??(c.preOrderHooks=[])).push(0-s,f),m&&((c.preOrderHooks??(c.preOrderHooks=[])).push(s,m),(c.preOrderCheckHooks??(c.preOrderCheckHooks=[])).push(s,m))}(c,m[c],a)}finally{null!==I&&Zn(I),el(D),y.resolving=!1,ql()}}return f}function Jo(s,a,c){return!!(c[a+(s>>Ql)]&1<<s)}function ec(s,a){return!(s&_t.Self||s&_t.Host&&a)}class da{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return Fd(this._tNode,this._lView,a,Fi(d),c)}}function ru(){return new da(Jn(),me())}function ou(s){return j(()=>{const a=s.prototype.constructor,c=a[rn]||es(a),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const m=f[rn]||es(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function es(s){return He(s)?()=>{const a=es(te(s));return a&&a()}:To(s)}function Ts(s){const a=s[nt],c=a.type;return 2===c?a.declTNode:1===c?s[Si]:null}function nl(s){return function Xl(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const c=s.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(Rd(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===a)return c[f+1];f+=2}}}return null}(Jn(),s)}const Ms="__parameters__";function Rs(s,a,c){return j(()=>{const d=function Nd(s){return function(...c){if(s){const d=s(...c);for(const f in d)this[f]=d[f]}}}(a);function f(...m){if(this instanceof f)return d.apply(this,m),this;const y=new f(...m);return D.annotation=y,D;function D(I,M,O){const H=I.hasOwnProperty(Ms)?I[Ms]:Object.defineProperty(I,Ms,{value:[]})[Ms];for(;H.length<=O;)H.push(null);return(H[O]=H[O]||[]).push(y),I}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class pn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=St({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ts(s,a){s.forEach(c=>Array.isArray(c)?ts(c,a):a(c))}function du(s,a,c){a>=s.length?s.push(c):s.splice(a,0,c)}function il(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function ha(s,a){const c=[];for(let d=0;d<s;d++)c.push(a);return c}function Hr(s,a,c){let d=Jr(s,a);return d>=0?s[1|d]=c:(d=~d,function rl(s,a,c,d){let f=s.length;if(f==a)s.push(c,d);else if(1===f)s.push(d,s[0]),s[0]=c;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=c,s[a+1]=d}}(s,d,a,c)),d}function gn(s,a){const c=Jr(s,a);if(c>=0)return s[1|c]}function Jr(s,a){return function Gt(s,a,c){let d=0,f=s.length>>c;for(;f!==d;){const m=d+(f-d>>1),y=s[m<<c];if(a===y)return m<<c;y>a?f=m:d=m+1}return~(f<<c)}(s,a,1)}const oc=er(Rs("Inject",s=>({token:s})),-1),Os=er(Rs("Optional"),8),dt=er(Rs("SkipSelf"),4);var At=(()=>((At=At||{})[At.Important=1]="Important",At[At.DashCase=2]="DashCase",At))();const $d=new Map;let no=0;const ie="__ngContext__";function le(s,a){nr(a)?(s[ie]=a[vs],function qd(s){$d.set(s[vs],s)}(a)):s[ie]=a}let yo;function vo(s,a){return yo(s,a)}function Wd(s){const a=s[On];return Xr(a)?a[On]:a}function fl(s){return Vf(s[Vr])}function pl(s){return Vf(s[yn])}function Vf(s){for(;null!==s&&!Xr(s);)s=s[yn];return s}function va(s,a,c,d,f){if(null!=d){let m,y=!1;Xr(d)?m=d:nr(d)&&(y=!0,d=d[Ii]);const D=di(d);0===s&&null!==c?null==f?_r(a,c,D):en(a,c,D,f||null,!0):1===s&&null!==c?en(a,c,D,f||null,!0):2===s?function py(s,a,c){const d=Fo(s,a);d&&function ba(s,a,c,d){s.removeChild(a,c,d)}(s,d,a,c)}(a,D,y):3===s&&a.destroyNode(D),null!=m&&function Gf(s,a,c,d,f){const m=c[Qs];m!==di(c)&&va(a,s,d,m,f);for(let D=Ni;D<c.length;D++){const I=c[D];$f(I[nt],I,s,a,d,m)}}(a,s,m,c,f)}}function Uf(s,a,c){return s.createElement(a,c)}function C(s,a){const c=s[bs],d=c.indexOf(a),f=a[On];512&a[on]&&(a[on]&=-513,ta(f,-1)),c.splice(d,1)}function R(s,a){if(s.length<=Ni)return;const c=Ni+a,d=s[c];if(d){const f=d[_s];null!==f&&f!==s&&C(f,d),a>0&&(s[c-1][yn]=d[yn]);const m=il(s,Ni+a);!function zm(s,a){$f(s,a,a[Xt],2,null,null),a[Ii]=null,a[Si]=null}(d[nt],d);const y=m[Tr];null!==y&&y.detachView(m[nt]),d[On]=null,d[yn]=null,d[on]&=-65}return d}function P(s,a){if(!(128&a[on])){const c=a[Xt];c.destroyNode&&$f(s,a,c,3,null,null),function b(s){let a=s[Vr];if(!a)return J(s[nt],s);for(;a;){let c=null;if(nr(a))c=a[Vr];else{const d=a[Ni];d&&(c=d)}if(!c){for(;a&&!a[yn]&&a!==s;)nr(a)&&J(a[nt],a),a=a[On];null===a&&(a=s),nr(a)&&J(a[nt],a),c=a&&a[yn]}a=c}}(a)}}function J(s,a){if(!(128&a[on])){a[on]&=-65,a[on]|=128,function Be(s,a){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const f=a[c[d]];if(!(f instanceof Ro)){const m=c[d+1];if(Array.isArray(m))for(let y=0;y<m.length;y+=2){const D=f[m[y]],I=m[y+1];Ln(4,D,I);try{I.call(D)}finally{Ln(5,D,I)}}else{Ln(4,f,m);try{m.call(f)}finally{Ln(5,f,m)}}}}}(s,a),function de(s,a){const c=s.cleanup,d=a[Ba];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const y=c[m+3];y>=0?d[f=y]():d[f=-y].unsubscribe(),m+=2}else{const y=d[f=c[m+1]];c[m].call(y)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();a[Ba]=null}}(s,a),1===a[nt].type&&a[Xt].destroy();const c=a[_s];if(null!==c&&Xr(a[On])){c!==a[On]&&C(c,a);const d=a[Tr];null!==d&&d.detachView(s)}!function w(s){$d.delete(s[vs])}(a)}}function Xe(s,a,c){return function Ct(s,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[Ii];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:m}=s.data[d.directiveStart+f];if(m===L.None||m===L.Emulated)return null}return Li(d,c)}}(s,a.parent,c)}function en(s,a,c,d,f){s.insertBefore(a,c,d,f)}function _r(s,a,c){s.appendChild(a,c)}function Ns(s,a,c,d,f){null!==d?en(s,a,c,d,f):_r(s,a,c)}function Fo(s,a){return s.parentNode(a)}function Zd(s,a,c){return wa(s,a,c)}let Kd,yu,_y,$m,wa=function _u(s,a,c){return 40&s.type?Li(s,c):null};function mc(s,a,c,d){const f=Xe(s,d,a),m=a[Xt],D=Zd(d.parent||a[Si],d,a);if(null!=f)if(Array.isArray(c))for(let I=0;I<c.length;I++)Ns(m,f,c[I],D,!1);else Ns(m,f,c,D,!1);void 0!==Kd&&Kd(m,d,a,c,f)}function Xd(s,a){if(null!==a){const c=a.type;if(3&c)return Li(a,s);if(4&c)return Ca(-1,s[a.index]);if(8&c){const d=a.child;if(null!==d)return Xd(s,d);{const f=s[a.index];return Xr(f)?Ca(-1,f):di(f)}}if(32&c)return vo(a,s)()||di(s[a.index]);{const d=gc(s,a);return null!==d?Array.isArray(d)?d[0]:Xd(Wd(s[ui]),d):Xd(s,a.next)}}return null}function gc(s,a){return null!==a?s[ui][Si].projection[a.projection]:null}function Ca(s,a){const c=Ni+s+1;if(c<a.length){const d=a[c],f=d[nt].firstChild;if(null!==f)return Xd(d,f)}return a[Qs]}function zf(s,a,c,d,f,m,y){for(;null!=c;){const D=d[c.index],I=c.type;if(y&&0===a&&(D&&le(di(D),d),c.flags|=2),32!=(32&c.flags))if(8&I)zf(s,a,c.child,d,f,m,!1),va(a,s,f,D,m);else if(32&I){const M=vo(c,d);let O;for(;O=M();)va(a,s,f,O,m);va(a,s,f,D,m)}else 16&I?my(s,a,d,c,f,m):va(a,s,f,D,m);c=y?c.projectionNext:c.next}}function $f(s,a,c,d,f,m){zf(c,d,s.firstChild,a,f,m,!1)}function my(s,a,c,d,f,m){const y=c[ui],I=y[Si].projection[d.projection];if(Array.isArray(I))for(let M=0;M<I.length;M++)va(a,s,f,I[M],m);else zf(s,a,I,y[On],f,m,!0)}function _c(s,a,c){""===c?s.removeAttribute(a,"class"):s.setAttribute(a,"class",c)}function qf(s,a,c){const{mergedAttrs:d,classes:f,styles:m}=c;null!==d&&aa(s,a,d),null!==f&&_c(s,a,f),null!==m&&function gy(s,a,c){s.setAttribute(a,"style",c)}(s,a,m)}function Jd(s){return function Yf(){if(void 0===yu&&(yu=null,mn.trustedTypes))try{yu=mn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return yu}()?.createHTML(s)||s}function bI(s){_y=s}function yw(s){return function yy(){if(void 0===$m&&($m=null,mn.trustedTypes))try{$m=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return $m}()?.createScriptURL(s)||s}class vu{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ct})`}}class wI extends vu{getTypeName(){return"HTML"}}class CI extends vu{getTypeName(){return"Style"}}class DI extends vu{getTypeName(){return"Script"}}class vw extends vu{getTypeName(){return"URL"}}class by extends vu{getTypeName(){return"ResourceURL"}}function Ls(s){return s instanceof vu?s.changingThisBreaksApplicationSecurity:s}function bo(s,a){const c=function eh(s){return s instanceof vu&&s.getTypeName()||null}(s);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${ct})`)}return c===a}function bw(s){return new wI(s)}function ww(s){return new CI(s)}function EI(s){return new DI(s)}function th(s){return new vw(s)}function Cw(s){return new by(s)}class Gm{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(Jd(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class Ew{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=Jd(a),c}}const xw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nh(s){return(s=String(s)).match(xw)?s:"unsafe:"+s}function Vs(s){const a={};for(const c of s.split(","))a[c]=!0;return a}function Wf(...s){const a={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const ih=Vs("area,br,col,hr,img,wbr"),Iw=Vs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Sw=Vs("rp,rt"),qm=Wf(ih,Wf(Iw,Vs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wf(Sw,Vs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Wf(Sw,Iw)),Ym=Vs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zf=Wf(Ym,Vs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Cy=Vs("script,style,template");class SI{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!qm.hasOwnProperty(c))return this.sanitizedSomething=!0,!Cy.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),y=m.name,D=y.toLowerCase();if(!Zf.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let I=m.value;Ym[D]&&(I=nh(I)),this.buf.push(" ",y,'="',Ey(I),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();qm.hasOwnProperty(c)&&!ih.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(Ey(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const TI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Dy=/([^\#-~ |!])/g;function Ey(s){return s.replace(/&/g,"&amp;").replace(TI,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(Dy,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xy;function AI(s,a){let c=null;try{xy=xy||function Dw(s){const a=new Ew(s);return function wy(){try{return!!(new window.DOMParser).parseFromString(Jd(""),"text/html")}catch{return!1}}()?new Gm(a):a}(s);let d=a?String(a):"";c=xy.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=c.innerHTML,c=xy.getInertBodyElement(d)}while(d!==m);return Jd((new SI).sanitizeChildren(Aw(c)||c))}finally{if(c){const d=Aw(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Aw(s){return"content"in s&&function Zk(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var mi=(()=>((mi=mi||{})[mi.NONE=0]="NONE",mi[mi.HTML=1]="HTML",mi[mi.STYLE=2]="STYLE",mi[mi.SCRIPT=3]="SCRIPT",mi[mi.URL=4]="URL",mi[mi.RESOURCE_URL=5]="RESOURCE_URL",mi))();function Mw(s){const a=Qf();return a?a.sanitize(mi.URL,s)||"":bo(s,"URL")?Ls(s):nh(Fe(s))}function Zm(s){const a=Qf();if(a)return yw(a.sanitize(mi.RESOURCE_URL,s)||"");if(bo(s,"ResourceURL"))return yw(Ls(s));throw new ve(904,!1)}function kw(s,a,c){return function kI(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?Zm:Mw}(a,c)(s)}function Qf(){const s=me();return s&&s[Nl]}const Sy=new pn("ENVIRONMENT_INITIALIZER"),bu=new pn("INJECTOR",-1),rh=new pn("INJECTOR_DEF_TYPES");class Ow{get(a,c=Kn){if(c===Kn){const d=new Error(`NullInjectorError: No provider for ${ye(a)}!`);throw d.name="NullInjectorError",d}return c}}function Xf(...s){return{\u0275providers:oh(0,s),\u0275fromNgModule:!0}}function oh(s,...a){const c=[],d=new Set;let f;return ts(a,m=>{const y=m;Ty(y,c,[],d)&&(f||(f=[]),f.push(y))}),void 0!==f&&Pw(f,c),c}function Pw(s,a){for(let c=0;c<s.length;c++){const{providers:f}=s[c];Ay(f,m=>{a.push(m)})}}function Ty(s,a,c,d){if(!(s=te(s)))return!1;let f=null,m=cr(s);const y=!m&&bt(s);if(m||y){if(y&&!y.standalone)return!1;f=s}else{const I=s.ngModule;if(m=cr(I),!m)return!1;f=I}const D=d.has(f);if(y){if(D)return!1;if(d.add(f),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const M of I)Ty(M,a,c,d)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let M;d.add(f);try{ts(m.imports,O=>{Ty(O,a,c,d)&&(M||(M=[]),M.push(O))})}finally{}void 0!==M&&Pw(M,a)}if(!D){const M=To(f)||(()=>new f);a.push({provide:f,useFactory:M,deps:Q},{provide:rh,useValue:f,multi:!0},{provide:Sy,useValue:()=>qt(f),multi:!0})}const I=m.providers;null==I||D||Ay(I,O=>{a.push(O)})}}return f!==s&&void 0!==s.providers}function Ay(s,a){for(let c of s)Ae(c)&&(c=c.\u0275providers),Array.isArray(c)?Ay(c,a):a(c)}const PI=re({provide:String,useValue:re});function My(s){return null!==s&&"object"==typeof s&&PI in s}function ml(s){return"function"==typeof s}const yc=new pn("Set Injector scope."),Qm={},NI={};let Ry;function Xm(){return void 0===Ry&&(Ry=new Ow),Ry}class wu{}class Nw extends wu{get destroyed(){return this._destroyed}constructor(a,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ah(a,y=>this.processProvider(y)),this.records.set(bu,sh(void 0,this)),f.has("environment")&&this.records.set(wu,sh(void 0,this));const m=this.records.get(yc);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(rh.multi,Q,_t.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const c=un(this),d=Zn(void 0);try{return a()}finally{un(c),Zn(d)}}get(a,c=Kn,d=_t.Default){this.assertNotDestroyed(),d=Fi(d);const f=un(this),m=Zn(void 0);try{if(!(d&_t.SkipSelf)){let D=this.records.get(a);if(void 0===D){const I=function Fy(s){return"function"==typeof s||"object"==typeof s&&s instanceof pn}(a)&&kn(a);D=I&&this.injectableDefInScope(I)?sh(ky(a),Qm):null,this.records.set(a,D)}if(null!=D)return this.hydrate(a,D)}return(d&_t.Self?Xm():this.parent).get(a,c=d&_t.Optional&&c===Kn?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[zn]=y[zn]||[]).unshift(ye(a)),f)throw y;return function tr(s,a,c,d){const f=s[zn];throw a[ln]&&f.unshift(a[ln]),s.message=function G(s,a,c,d=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==Di?s.slice(2):s;let f=ye(a);if(Array.isArray(a))f=a.map(ye).join(" -> ");else if("object"==typeof a){let m=[];for(let y in a)if(a.hasOwnProperty(y)){let D=a[y];m.push(y+":"+("string"==typeof D?JSON.stringify(D):ye(D)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${s.replace($n,"\n  ")}`}("\n"+s.message,f,c,d),s[dr]=f,s[zn]=null,s}(y,a,"R3InjectorError",this.source)}throw y}finally{Zn(m),un(f)}}resolveInjectorInitializers(){const a=un(this),c=Zn(void 0);try{const d=this.get(Sy.multi,Q,_t.Self);for(const f of d)f()}finally{un(a),Zn(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(ye(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ve(205,!1)}processProvider(a){let c=ml(a=te(a))?a:te(a&&a.provide);const d=function VI(s){return My(s)?sh(void 0,s.useValue):sh(Oy(s),Qm)}(a);if(ml(a)||!0!==a.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=sh(void 0,Qm,!0),f.factory=()=>Xn(f.multi),this.records.set(c,f)),c=a,f.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===Qm&&(c.value=NI,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Lw(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=te(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function ky(s){const a=kn(s),c=null!==a?a.factory:To(s);if(null!==c)return c;if(s instanceof pn)throw new ve(204,!1);if(s instanceof Function)return function LI(s){const a=s.length;if(a>0)throw ha(a,"?"),new ve(204,!1);const c=function lr(s){return s&&(s[ur]||s[ms])||null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new ve(204,!1)}function Oy(s,a,c){let d;if(ml(s)){const f=te(s);return To(f)||ky(f)}if(My(s))d=()=>te(s.useValue);else if(function Fw(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Xn(s.deps||[]));else if(function FI(s){return!(!s||!s.useExisting)}(s))d=()=>qt(te(s.useExisting));else{const f=te(s&&(s.useClass||s.provide));if(!function Py(s){return!!s.deps}(s))return To(f)||ky(f);d=()=>new f(...Xn(s.deps))}return d}function sh(s,a,c=!1){return{factory:s,value:a,multi:c?[]:void 0}}function ah(s,a){for(const c of s)Array.isArray(c)?ah(c,a):c&&Ae(c)?ah(c.\u0275providers,a):a(c)}class BI{}class Vw{}class Uw{resolveComponentFactory(a){throw function UI(s){const a=Error(`No component factory found for ${ye(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let lh=(()=>{class s{}return s.NULL=new Uw,s})();function Jm(){return gl(Jn(),me())}function gl(s,a){return new ch(Li(s,a))}let ch=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=Jm,s})();function Jf(s){return s instanceof ch?s.nativeElement:s}class Ly{}let HI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function jI(){const s=me(),c=Ai(Jn().index,s);return(nr(c)?c:s)[Xt]}(),s})(),zI=(()=>{class s{}return s.\u0275prov=St({token:s,providedIn:"root",factory:()=>null}),s})();class Hw{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const jw=new Hw("15.2.9"),eg={},Vy="ngOriginalError";function By(s){return s[Vy]}class ep{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&By(a);for(;c&&By(c);)c=By(c);return c||null}}function Ea(s){return s instanceof Function?s():s}function Ww(s,a,c){let d=s.length;for(;;){const f=s.indexOf(a,c);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const m=a.length;if(f+m===d||s.charCodeAt(f+m)<=32)return f}c=f+1}}const Uy="ng-template";function Hy(s,a,c){let d=0,f=!0;for(;d<s.length;){let m=s[d++];if("string"==typeof m&&f){const y=s[d++];if(c&&"class"===m&&-1!==Ww(y.toLowerCase(),a,0))return!0}else{if(1===m){for(;d<s.length&&"string"==typeof(m=s[d++]);)if(m.toLowerCase()===a)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function jy(s){return 4===s.type&&s.value!==Uy}function uh(s,a,c){return a===(4!==s.type||c?s.value:Uy)}function zy(s,a,c){let d=4;const f=s.attrs||[],m=function Kw(s){for(let a=0;a<s.length;a++)if(Rd(s[a]))return a;return s.length}(f);let y=!1;for(let D=0;D<a.length;D++){const I=a[D];if("number"!=typeof I){if(!y)if(4&d){if(d=2|1&d,""!==I&&!uh(s,I,c)||""===I&&1===a.length){if(Bs(d))return!1;y=!0}}else{const M=8&d?I:a[++D];if(8&d&&null!==s.attrs){if(!Hy(s.attrs,M,c)){if(Bs(d))return!1;y=!0}continue}const H=Zw(8&d?"class":I,f,jy(s),c);if(-1===H){if(Bs(d))return!1;y=!0;continue}if(""!==M){let Y;Y=H>m?"":f[H+1].toLowerCase();const ee=8&d?Y:null;if(ee&&-1!==Ww(ee,M,0)||2&d&&M!==Y){if(Bs(d))return!1;y=!0}}}}else{if(!y&&!Bs(d)&&!Bs(I))return!1;if(y&&Bs(I))continue;y=!1,d=I|1&d}}return Bs(d)||y}function Bs(s){return 0==(1&s)}function Zw(s,a,c,d){if(null===a)return-1;let f=0;if(d||!c){let m=!1;for(;f<a.length;){const y=a[f];if(y===s)return f;if(3===y||6===y)m=!0;else{if(1===y||2===y){let D=a[++f];for(;"string"==typeof D;)D=a[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=m?1:2}return-1}return function Qw(s,a){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,s)}function np(s,a,c=!1){for(let d=0;d<a.length;d++)if(zy(s,a[d],c))return!0;return!1}function KI(s,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function Xw(s,a){return s?":not("+a.trim()+")":a}function QI(s){let a=s[0],c=1,d=2,f="",m=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const D=s[++c];f+="["+y+(D.length>0?'="'+D+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!Bs(y)&&(a+=Xw(m,f),f=""),d=y,m=m||!Bs(d);c++}return""!==f&&(a+=Xw(m,f)),a}const Wt={};function Jw(s){eC(jt(),me(),Yi()+s,!1)}function eC(s,a,c,d){if(!d)if(3==(3&a[on])){const m=s.preOrderCheckHooks;null!==m&&Xc(a,m,c)}else{const m=s.preOrderHooks;null!==m&&Td(a,m,0,c)}po(c)}function nC(s,a=null,c=null,d){const f=$y(s,a,c,d);return f.resolveInjectorInitializers(),f}function $y(s,a=null,c=null,d,f=new Set){const m=[c||Q,Xf(s)];return d=d||("object"==typeof s?void 0:ye(s)),new Nw(m,a||Xm(),d||null,f)}let dh=(()=>{class s{static create(c,d){if(Array.isArray(c))return nC({name:""},d,c,"");{const f=c.name??"";return nC({name:f},c.parent,c.providers,f)}}}return s.THROW_IF_NOT_FOUND=Kn,s.NULL=new Ow,s.\u0275prov=St({token:s,providedIn:"any",factory:()=>qt(bu)}),s.__NG_ELEMENT_ID__=-1,s})();function ph(s,a=_t.Default){const c=me();return null===c?qt(s,a):Fd(Jn(),c,te(s),a)}function aC(){throw new Error("invalid")}function lC(s,a){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const m=c[d+1];if(-1!==m){const y=s.data[m];Cd(c[d]),y.contentQueries(2,a[m],m)}}}function og(s,a,c,d,f,m,y,D,I,M,O){const H=a.blueprint.slice();return H[Ii]=f,H[on]=76|d,(null!==O||s&&1024&s[on])&&(H[on]|=1024),qa(H),H[On]=H[So]=s,H[Gn]=c,H[Qr]=y||s&&s[Qr],H[Xt]=D||s&&s[Xt],H[Nl]=I||s&&s[Nl]||null,H[Ua]=M||s&&s[Ua]||null,H[Si]=m,H[vs]=function Gd(){return no++}(),H[Ti]=O,H[ui]=2==a.type?s[ui]:H,H}function sp(s,a,c,d,f){let m=s.data[a];if(null===m)m=function we(s,a,c,d,f){const m=_d(),y=zl(),I=s.data[a]=function Qy(s,a,c,d,f,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?m:m&&m.parent,c,a,d,f);return null===s.firstChild&&(s.firstChild=I),null!==m&&(y?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I,I.prev=m)),I}(s,a,c,d,f),function bd(){return Nt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const y=function na(){const s=Nt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();m.injectorIndex=null===y?-1:y.injectorIndex}return Ur(m,!0),m}function ap(s,a,c,d){if(0===c)return-1;const f=a.length;for(let m=0;m<c;m++)a.push(d),s.blueprint.push(d),s.data.push(null);return f}function wn(s,a,c){ra(a);try{const d=s.viewQuery;null!==d&&lp(1,d,c);const f=s.template;null!==f&&_l(s,a,f,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&lC(s,a),s.staticViewQueries&&lp(2,s.viewQuery,c);const m=s.components;null!==m&&function cC(s,a){for(let c=0;c<a.length;c++)xS(s,a[c])}(a,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[on]&=-5,Ed()}}function xa(s,a,c,d){const f=a[on];if(128!=(128&f)){ra(a);try{qa(a),function Ko(s){return Nt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&_l(s,a,c,2,d);const y=3==(3&f);if(y){const M=s.preOrderCheckHooks;null!==M&&Xc(a,M,null)}else{const M=s.preOrderHooks;null!==M&&Td(a,M,0,null),Ad(a,0)}if(function DS(s){for(let a=fl(s);null!==a;a=pl(a)){if(!a[Ha])continue;const c=a[bs];for(let d=0;d<c.length;d++){const f=c[d];512&f[on]||ta(f[On],1),f[on]|=512}}}(a),function CS(s){for(let a=fl(s);null!==a;a=pl(a))for(let c=Ni;c<a.length;c++){const d=a[c],f=d[nt];Wo(d)&&xa(f,d,f.template,d[Gn])}}(a),null!==s.contentQueries&&lC(s,a),y){const M=s.contentCheckHooks;null!==M&&Xc(a,M)}else{const M=s.contentHooks;null!==M&&Td(a,M,1),Ad(a,1)}!function pS(s,a){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)po(~f);else{const m=f,y=c[++d],D=c[++d];wd(y,m),D(2,a[m])}}}finally{po(-1)}}(s,a);const D=s.components;null!==D&&function mS(s,a){for(let c=0;c<a.length;c++)ES(s,a[c])}(a,D);const I=s.viewQuery;if(null!==I&&lp(2,I,d),y){const M=s.viewCheckHooks;null!==M&&Xc(a,M)}else{const M=s.viewHooks;null!==M&&Td(a,M,2),Ad(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[on]&=-41,512&a[on]&&(a[on]&=-513,ta(a[On],-1))}finally{Ed()}}}function _l(s,a,c,d,f){const m=Yi(),y=2&d;try{po(-1),y&&a.length>En&&eC(s,a,En,!1),Ln(y?2:0,f),c(d,f)}finally{po(m),Ln(y?3:1,f)}}function mh(s,a,c){if(ws(a)){const f=a.directiveEnd;for(let m=a.directiveStart;m<f;m++){const y=s.data[m];y.contentQueries&&y.contentQueries(1,c[m],m)}}}function gh(s,a,c){md()&&(function c1(s,a,c,d){const f=c.directiveStart,m=c.directiveEnd;Ll(c)&&function _C(s,a,c){const d=Li(a,s),f=uC(c),m=s[Qr],y=ug(s,og(s,f,null,c.onPush?32:16,d,a,m,m.createRenderer(d,c),null,null,null));s[a.index]=y}(a,c,s.data[f+c.componentOffset]),s.firstCreatePass||iu(c,a),le(d,a);const y=c.initialInputs;for(let D=f;D<m;D++){const I=s.data[D],M=Vn(a,s,D,c);le(M,a),null!==y&&wS(0,D-f,M,I,0,y),fr(I)&&(Ai(c.index,a)[Gn]=Vn(a,s,D,c))}}(s,a,c,Li(c,a)),64==(64&c.flags)&&bS(s,a,c))}function _h(s,a,c=Li){const d=a.localNames;if(null!==d){let f=a.index+1;for(let m=0;m<d.length;m+=2){const y=d[m+1],D=-1===y?c(a,s):s[y];s[f++]=D}}}function uC(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Zy(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Zy(s,a,c,d,f,m,y,D,I,M){const O=En+d,H=O+f,Y=function dC(s,a){const c=[];for(let d=0;d<a;d++)c.push(d<s?null:Wt);return c}(O,H),ee="function"==typeof M?M():M;return Y[nt]={type:s,blueprint:Y,template:c,queries:null,viewQuery:D,declTNode:a,data:Y.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:H,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:ee,incompleteFirstPass:!1}}function Ky(s,a,c,d){const f=cp(a);null===c?f.push(d):(f.push(c),s.firstCreatePass&&up(s).push(d,f.length-1))}function yr(s,a,c,d){for(let f in s)if(s.hasOwnProperty(f)){c=null===c?{}:c;const m=s[f];null===d?ss(c,a,f,m):d.hasOwnProperty(f)&&ss(c,a,d[f],m)}return c}function ss(s,a,c,d){s.hasOwnProperty(c)?s[c].push(a,d):s[c]=[a,d]}function No(s,a,c,d,f,m,y,D){const I=Li(a,c);let O,M=a.inputs;!D&&null!=M&&(O=M[d])?(ev(s,c,O,d,f),Ll(a)&&function l1(s,a){const c=Ai(a,s);16&c[on]||(c[on]|=32)}(c,a.index)):3&a.type&&(d=function sg(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=y?y(f,a.value||"",d):f,m.setProperty(I,d,f))}function mC(s,a,c,d){if(md()){const f=null===d?null:{"":-1},m=function d1(s,a){const c=s.directiveRegistry;let d=null,f=null;if(c)for(let m=0;m<c.length;m++){const y=c[m];if(np(a,y.selectors,!1))if(d||(d=[]),fr(y))if(null!==y.findHostDirectiveDefs){const D=[];f=f||new Map,y.findHostDirectiveDefs(y,D,f),d.unshift(...D,y),gC(s,a,D.length)}else d.unshift(y),gC(s,a,0);else f=f||new Map,y.findHostDirectiveDefs?.(y,d,f),d.push(y)}return null===d?null:[d,f]}(s,c);let y,D;null===m?y=D=null:[y,D]=m,null!==y&&_S(s,a,c,y,f,D),f&&function h1(s,a,c){if(a){const d=s.localNames=[];for(let f=0;f<a.length;f+=2){const m=c[a[f+1]];if(null==m)throw new ve(-301,!1);d.push(a[f],m)}}}(c,d,f)}c.mergedAttrs=Is(c.mergedAttrs,c.attrs)}function _S(s,a,c,d,f,m){for(let M=0;M<d.length;M++)Xo(iu(c,a),s,d[M].type);!function p1(s,a,c){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+c,s.providerIndexes=a}(c,s.data.length,d.length);for(let M=0;M<d.length;M++){const O=d[M];O.providersResolver&&O.providersResolver(O)}let y=!1,D=!1,I=ap(s,a,d.length,null);for(let M=0;M<d.length;M++){const O=d[M];c.mergedAttrs=Is(c.mergedAttrs,O.hostAttrs),Xy(s,c,a,I,O),f1(I,O,f),null!==O.contentQueries&&(c.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(c.flags|=64);const H=O.type.prototype;!y&&(H.ngOnChanges||H.ngOnInit||H.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(c.index),y=!0),!D&&(H.ngOnChanges||H.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(c.index),D=!0),I++}!function fC(s,a,c){const f=a.directiveEnd,m=s.data,y=a.attrs,D=[];let I=null,M=null;for(let O=a.directiveStart;O<f;O++){const H=m[O],Y=c?c.get(H):null,De=Y?Y.outputs:null;I=yr(H.inputs,O,I,Y?Y.inputs:null),M=yr(H.outputs,O,M,De);const ze=null===I||null===y||jy(a)?null:ag(I,O,y);D.push(ze)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=8),I.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=D,a.inputs=I,a.outputs=M}(s,c,m)}function bS(s,a,c){const d=c.directiveStart,f=c.directiveEnd,m=c.index,y=function Vm(){return Nt.lFrame.currentDirectiveIndex}();try{po(m);for(let D=d;D<f;D++){const I=s.data[D],M=a[D];ei(D),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&u1(I,M)}}finally{po(-1),ei(y)}}function u1(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function gC(s,a,c){a.componentOffset=c,(s.components??(s.components=[])).push(a.index)}function f1(s,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=s;fr(a)&&(c[""]=s)}}function Xy(s,a,c,d,f){s.data[d]=f;const m=f.factory||(f.factory=To(f.type)),y=new Ro(m,fr(f),ph);s.blueprint[d]=y,c[d]=y,function yS(s,a,c,d,f){const m=f.hostBindings;if(m){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const D=~a.index;(function vS(s){let a=s.length;for(;a>0;){const c=s[--a];if("number"==typeof c&&c<0)return c}return 0})(y)!=D&&y.push(D),y.push(c,d,m)}}(s,a,d,ap(s,c,f.hostVars,Wt),f)}function Ia(s,a,c,d,f,m){const y=Li(s,a);!function li(s,a,c,d,f,m,y){if(null==m)s.removeAttribute(a,f,c);else{const D=null==y?Fe(m):y(m,d||"",f);s.setAttribute(a,f,D,c)}}(a[Xt],y,m,s.value,c,d,f)}function wS(s,a,c,d,f,m){const y=m[a];if(null!==y){const D=d.setInput;for(let I=0;I<y.length;){const M=y[I++],O=y[I++],H=y[I++];null!==D?d.setInput(c,H,M,O):c[O]=H}}}function ag(s,a,c){let d=null,f=0;for(;f<c.length;){const m=c[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(s.hasOwnProperty(m)){null===d&&(d=[]);const y=s[m];for(let D=0;D<y.length;D+=2)if(y[D]===a){d.push(m,y[D+1],c[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function lg(s,a,c,d){return[s,!0,!1,a,null,0,d,c,null,null]}function ES(s,a){const c=Ai(a,s);if(Wo(c)){const d=c[nt];48&c[on]?xa(d,c,d.template,c[Gn]):c[jo]>0&&cg(c)}}function cg(s){for(let d=fl(s);null!==d;d=pl(d))for(let f=Ni;f<d.length;f++){const m=d[f];if(Wo(m))if(512&m[on]){const y=m[nt];xa(y,m,y.template,m[Gn])}else m[jo]>0&&cg(m)}const c=s[nt].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Ai(c[d],s);Wo(f)&&f[jo]>0&&cg(f)}}function xS(s,a){const c=Ai(a,s),d=c[nt];(function IS(s,a){for(let c=a.length;c<s.blueprint.length;c++)a.push(s.blueprint[c])})(d,c),wn(d,c,c[Gn])}function ug(s,a){return s[Vr]?s[Ks][yn]=a:s[Vr]=a,s[Ks]=a,a}function dg(s){for(;s;){s[on]|=32;const a=Wd(s);if($o(s)&&!a)return s;s=a}return null}function Ki(s,a,c,d=!0){const f=a[Qr];f.begin&&f.begin();try{xa(s,a,s.template,c)}catch(y){throw d&&vC(a,y),y}finally{f.end&&f.end()}}function lp(s,a,c){Cd(0),a(s,c)}function cp(s){return s[Ba]||(s[Ba]=[])}function up(s){return s.cleanup||(s.cleanup=[])}function vC(s,a){const c=s[Ua],d=c?c.get(ep,null):null;d&&d.handleError(a)}function ev(s,a,c,d,f){for(let m=0;m<c.length;){const y=c[m++],D=c[m++],I=a[y],M=s.data[y];null!==M.setInput?M.setInput(I,f,d,D):I[D]=f}}function fg(s,a,c){let d=c?s.styles:null,f=c?s.classes:null,m=0;if(null!==a)for(let y=0;y<a.length;y++){const D=a[y];"number"==typeof D?m=D:1==m?f=be(f,D):2==m&&(d=be(d,D+": "+a[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=f:s.classesWithoutHost=f}function pg(s,a,c,d,f=!1){for(;null!==c;){const m=a[c.index];if(null!==m&&d.push(di(m)),Xr(m))for(let D=Ni;D<m.length;D++){const I=m[D],M=I[nt].firstChild;null!==M&&pg(I[nt],I,M,d)}const y=c.type;if(8&y)pg(s,a,c.child,d);else if(32&y){const D=vo(c,a);let I;for(;I=D();)d.push(I)}else if(16&y){const D=gc(a,c);if(Array.isArray(D))d.push(...D);else{const I=Wd(a[ui]);pg(I[nt],I,D,d,!0)}}c=f?c.projectionNext:c.next}return d}class yl{get rootNodes(){const a=this._lView,c=a[nt];return pg(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gn]}set context(a){this._lView[Gn]=a}get destroyed(){return 128==(128&this._lView[on])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[On];if(Xr(a)){const c=a[zo],d=c?c.indexOf(this):-1;d>-1&&(R(a,d),il(c,d))}this._attachedToViewContainer=!1}P(this._lView[nt],this._lView)}onDestroy(a){Ky(this._lView[nt],this._lView,null,a)}markForCheck(){dg(this._cdRefInjectingView||this._lView)}detach(){this._lView[on]&=-65}reattach(){this._lView[on]|=64}detectChanges(){Ki(this._lView[nt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Hf(s,a){$f(s,a,a[Xt],2,null,null)}(this._lView[nt],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ve(902,!1);this._appRef=a}}class bC extends yl{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;Ki(a[nt],a,a[Gn],!1)}checkNoChanges(){}get context(){return null}}class dp extends lh{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=bt(a);return new hp(c,this.ngModule)}}function tv(s){const a=[];for(let c in s)s.hasOwnProperty(c)&&a.push({propName:s[c],templateName:c});return a}class TS{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){d=Fi(d);const f=this.injector.get(a,eg,d);return f!==eg||c===eg?f:this.parentInjector.get(a,c,d)}}class hp extends Vw{get inputs(){return tv(this.componentDef.inputs)}get outputs(){return tv(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function XI(s){return s.map(QI).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,d,f){let m=(f=f||this.ngModule)instanceof wu?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const y=m?new TS(a,m):a,D=y.get(Ly,null);if(null===D)throw new ve(407,!1);const I=y.get(zI,null),M=D.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",H=d?function hC(s,a,c){return s.selectRootElement(a,c===L.ShadowDom)}(M,d,this.componentDef.encapsulation):Uf(M,O,function SS(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(O)),Y=this.componentDef.onPush?288:272,ee=Zy(0,null,null,1,0,null,null,null,null,null),De=og(null,ee,null,Y,null,null,D,M,I,y,null);let ze,et;ra(De);try{const ht=this.componentDef;let Ft,Pe=null;ht.findHostDirectiveDefs?(Ft=[],Pe=new Map,ht.findHostDirectiveDefs(ht,Ft,Pe),Ft.push(ht)):Ft=[ht];const tn=function nv(s,a){const c=s[nt],d=En;return s[d]=a,sp(c,d,2,"#host",null)}(De,H),oi=function wC(s,a,c,d,f,m,y,D){const I=f[nt];!function iv(s,a,c,d){for(const f of s)a.mergedAttrs=Is(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(fg(a,a.mergedAttrs,!0),null!==c&&qf(d,c,a))}(d,s,a,y);const M=m.createRenderer(a,c),O=og(f,uC(c),null,c.onPush?32:16,f[s.index],s,m,M,D||null,null,null);return I.firstCreatePass&&gC(I,s,d.length-1),ug(f,O),f[s.index]=O}(tn,H,ht,Ft,De,D,M);et=Hl(ee,En),H&&function fp(s,a,c,d){if(d)aa(s,c,["ng-version",jw.full]);else{const{attrs:f,classes:m}=function JI(s){const a=[],c=[];let d=1,f=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===f?""!==m&&a.push(m,s[++d]):8===f&&c.push(m);else{if(!Bs(f))break;f=m}d++}return{attrs:a,classes:c}}(a.selectors[0]);f&&aa(s,c,f),m&&m.length>0&&_c(s,c,m.join(" "))}}(M,ht,H,d),void 0!==c&&function RS(s,a,c){const d=s.projection=[];for(let f=0;f<a.length;f++){const m=c[f];d.push(null!=m?Array.from(m):null)}}(et,this.ngContentSelectors,c),ze=function CC(s,a,c,d,f,m){const y=Jn(),D=f[nt],I=Li(y,f);_S(D,f,y,c,null,d);for(let O=0;O<c.length;O++)le(Vn(f,D,y.directiveStart+O,y),f);bS(D,f,y),I&&le(I,f);const M=Vn(f,D,y.directiveStart+y.componentOffset,y);if(s[Gn]=f[Gn]=M,null!==m)for(const O of m)O(M,a);return mh(D,y,s),M}(oi,ht,Ft,Pe,De,[rv]),wn(ee,De,null)}finally{Ed()}return new AS(this.componentType,ze,gl(et,De),De,et)}}class AS extends BI{constructor(a,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new bC(f),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){const m=this._rootLView;ev(m[nt],m,f,a,c),dg(Ai(this._tNode.index,m))}}get injector(){return new da(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function rv(){const s=Jn();Yl(me()[nt],s)}function ov(s){let a=function mg(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;a;){let f;if(fr(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ve(903,!1);f=a.\u0275dir}if(f){if(c){d.push(f);const y=s;y.inputs=pp(s.inputs),y.declaredInputs=pp(s.declaredInputs),y.outputs=pp(s.outputs);const D=f.hostBindings;D&&kS(s,D);const I=f.viewQuery,M=f.contentQueries;if(I&&av(s,I),M&&lv(s,M),Ee(s.inputs,f.inputs),Ee(s.declaredInputs,f.declaredInputs),Ee(s.outputs,f.outputs),fr(f)&&f.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let y=0;y<m.length;y++){const D=m[y];D&&D.ngInherit&&D(s),D===ov&&(c=!1)}}a=Object.getPrototypeOf(a)}!function sv(s){let a=0,c=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=a+=f.hostVars,f.hostAttrs=Is(f.hostAttrs,c=Is(c,f.hostAttrs))}}(d)}function pp(s){return s===k?{}:s===Q?[]:s}function av(s,a){const c=s.viewQuery;s.viewQuery=c?(d,f)=>{a(d,f),c(d,f)}:a}function lv(s,a){const c=s.contentQueries;s.contentQueries=c?(d,f,m)=>{a(d,f,m),c(d,f,m)}:a}function kS(s,a){const c=s.hostBindings;s.hostBindings=c?(d,f)=>{a(d,f),c(d,f)}:a}function mp(s){return!!hv(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function hv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Gr(s,a,c){return!Object.is(s[a],c)&&(s[a]=c,!0)}function fv(s,a,c,d){const f=me();return Gr(f,Mo(),a)&&(jt(),Ia(Pn(),f,s,a,c,d)),fv}function _v(s,a,c,d,f,m,y,D){const I=me(),M=jt(),O=s+En,H=M.firstCreatePass?function US(s,a,c,d,f,m,y,D,I){const M=a.consts,O=sp(a,s,4,y||null,Ao(M,D));mC(a,c,O,Ao(M,I)),Yl(a,O);const H=O.tView=Zy(2,O,d,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,M);return null!==a.queries&&(a.queries.template(a,O),H.queries=a.queries.embeddedTView(O)),O}(O,M,I,a,c,d,f,m,y):M.data[O];Ur(H,!1);const Y=I[Xt].createComment("");mc(M,I,Y,H),le(Y,I),ug(I,I[O]=lg(Y,I,Y,H)),ja(H)&&gh(M,I,H),null!=y&&_h(I,H,D)}function yv(s){return ir(function vd(){return Nt.lFrame.contextLView}(),En+s)}function _p(s,a,c){const d=me();return Gr(d,Mo(),a)&&No(jt(),Pn(),d,s,a,d[Xt],c,!1),_p}function yp(s,a,c,d,f){const y=f?"class":"style";ev(s,c,a.inputs[y],y,d)}function Ch(s,a,c,d){const f=me(),m=jt(),y=En+s,D=f[Xt],I=m.firstCreatePass?function _1(s,a,c,d,f,m){const y=a.consts,I=sp(a,s,2,d,Ao(y,f));return mC(a,c,I,Ao(y,m)),null!==I.attrs&&fg(I,I.attrs,!1),null!==I.mergedAttrs&&fg(I,I.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,I),I}(y,m,f,a,c,d):m.data[y],M=f[y]=Uf(D,a,function Sd(){return Nt.lFrame.currentNamespace}()),O=ja(I);return Ur(I,!0),qf(D,M,I),32!=(32&I.flags)&&mc(m,f,M,I),0===function $c(){return Nt.lFrame.elementDepthCount}()&&le(M,f),function Gc(){Nt.lFrame.elementDepthCount++}(),O&&(gh(m,f,I),mh(m,I,f)),null!==d&&_h(f,I),Ch}function vv(){let s=Jn();zl()?yd():(s=s.parent,Ur(s,!1));const a=s;!function qc(){Nt.lFrame.elementDepthCount--}();const c=jt();return c.firstCreatePass&&(Yl(c,s),ws(s)&&c.queries.elementEnd(s)),null!=a.classesWithoutHost&&function ko(s){return 0!=(8&s.flags)}(a)&&yp(c,a,me(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Jc(s){return 0!=(16&s.flags)}(a)&&yp(c,a,me(),a.stylesWithoutHost,!1),vv}function bv(s,a,c,d){return Ch(s,a,c,d),vv(),bv}function bg(s,a,c){const d=me(),f=jt(),m=s+En,y=f.firstCreatePass?function y1(s,a,c,d,f){const m=a.consts,y=Ao(m,d),D=sp(a,s,8,"ng-container",y);return null!==y&&fg(D,y,!0),mC(a,c,D,Ao(m,f)),null!==a.queries&&a.queries.elementStart(a,D),D}(m,f,d,a,c):f.data[m];Ur(y,!0);const D=d[m]=d[Xt].createComment("");return mc(f,d,D,y),le(D,d),ja(y)&&(gh(f,d,y),mh(f,y,d)),null!=c&&_h(d,y),bg}function wg(){let s=Jn();const a=jt();return zl()?yd():(s=s.parent,Ur(s,!1)),a.firstCreatePass&&(Yl(a,s),ws(s)&&a.queries.elementEnd(s)),wg}function SC(s,a,c){return bg(s,a,c),wg(),SC}function jS(){return me()}function wv(s){return!!s&&"function"==typeof s.then}function zS(s){return!!s&&"function"==typeof s.subscribe}const $S=zS;function TC(s,a,c,d){const f=me(),m=jt(),y=Jn();return function AC(s,a,c,d,f,m,y){const D=ja(d),M=s.firstCreatePass&&up(s),O=a[Gn],H=cp(a);let Y=!0;if(3&d.type||y){const ze=Li(d,a),et=y?y(ze):ze,ht=H.length,Ft=y?tn=>y(di(tn[d.index])):d.index;let Pe=null;if(!y&&D&&(Pe=function v1(s,a,c,d){const f=s.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const y=f[m];if(y===c&&f[m+1]===d){const D=a[Ba],I=f[m+2];return D.length>I?D[I]:null}"string"==typeof y&&(m+=2)}return null}(s,a,f,d.index)),null!==Pe)(Pe.__ngLastListenerFn__||Pe).__ngNextListenerFn__=m,Pe.__ngLastListenerFn__=m,Y=!1;else{m=Cv(d,a,O,m,!1);const tn=c.listen(et,f,m);H.push(m,tn),M&&M.push(f,Ft,ht,ht+1)}}else m=Cv(d,a,O,m,!1);const ee=d.outputs;let De;if(Y&&null!==ee&&(De=ee[f])){const ze=De.length;if(ze)for(let et=0;et<ze;et+=2){const oi=a[De[et]][De[et+1]].subscribe(m),vi=H.length;H.push(m,oi),M&&M.push(f,d.index,vi,-(vi+1))}}}(m,f,f[Xt],y,s,a,d),TC}function MC(s,a,c,d){try{return Ln(6,a,c),!1!==c(d)}catch(f){return vC(s,f),!1}finally{Ln(7,a,c)}}function Cv(s,a,c,d,f){return function m(y){if(y===Function)return d;dg(s.componentOffset>-1?Ai(s.index,a):a);let I=MC(a,c,d,y),M=m.__ngNextListenerFn__;for(;M;)I=MC(a,c,M,y)&&I,M=M.__ngNextListenerFn__;return f&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function Dv(s=1){return function Kc(s){return(Nt.lFrame.contextLView=function xd(s,a){for(;s>0;)a=a[So],s--;return a}(s,Nt.lFrame.contextLView))[Gn]}(s)}function RC(s,a){let c=null;const d=function tg(s){const a=s.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(s);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===d?np(s,m,!0):KI(d,m))return f}else c=f}return c}function Ev(s){const a=me()[ui][Si];if(!a.projection){const d=a.projection=ha(s?s.length:1,null),f=d.slice();let m=a.child;for(;null!==m;){const y=s?RC(m,s):0;null!==y&&(f[y]?f[y].projectionNext=m:d[y]=m,f[y]=m),m=m.next}}}function xv(s,a=0,c){const d=me(),f=jt(),m=sp(f,En+s,16,null,c||null);null===m.projection&&(m.projection=a),yd(),32!=(32&m.flags)&&function mw(s,a,c){my(a[Xt],0,a,c,Xe(s,c,a),Zd(c.parent||a[Si],c,a))}(f,d,m)}function Tv(s,a){return s<<17|a<<2}function bc(s){return s>>17&32767}function st(s){return 2|s}function bl(s){return(131068&s)>>2}function Zt(s,a){return-131069&s|a<<2}function Dh(s){return 1|s}function PC(s,a,c,d,f){const m=s[c+1],y=null===a;let D=d?bc(m):bl(m),I=!1;for(;0!==D&&(!1===I||y);){const O=s[D+1];WS(s[D],a)&&(I=!0,s[D+1]=d?Dh(O):st(O)),D=d?bc(O):bl(O)}I&&(s[c+1]=d?st(m):Dh(m))}function WS(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Jr(s,a)>=0}function Dp(s,a,c){return cs(s,a,c,!1),Dp}function Ag(s,a){return cs(s,a,null,!0),Ag}function cs(s,a,c,d){const f=me(),m=jt(),y=function fo(s){const a=Nt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,c}(2);m.firstUpdatePass&&function Ep(s,a,c,d){const f=s.data;if(null===f[c+1]){const m=f[Yi()],y=function Ov(s,a){return a>=s.expandoStartIndex}(s,c);(function kg(s,a){return 0!=(s.flags&(a?8:16))})(m,d)&&null===a&&!y&&(a=!1),a=function Pv(s,a,c,d){const f=function $l(s){const a=Nt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let m=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(c=Tu(c=Lv(null,s,a,c,d),a.attrs,d),m=null);else{const y=a.directiveStylingLast;if(-1===y||s[y]!==f)if(c=Lv(f,s,a,c,d),null===m){let I=function Fv(s,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==bl(d))return s[bc(d)]}(s,a,d);void 0!==I&&Array.isArray(I)&&(I=Lv(null,s,a,I[1],d),I=Tu(I,a.attrs,d),function Nv(s,a,c,d){s[bc(c?a.classBindings:a.styleBindings)]=d}(s,a,d,I))}else m=function KS(s,a,c){let d;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)d=Tu(d,s[m].hostAttrs,c);return Tu(d,a.attrs,c)}(s,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),c}(f,m,a,d),function Av(s,a,c,d,f,m){let y=m?a.classBindings:a.styleBindings,D=bc(y),I=bl(y);s[d]=c;let O,M=!1;if(Array.isArray(c)?(O=c[1],(null===O||Jr(c,O)>0)&&(M=!0)):O=c,f)if(0!==I){const Y=bc(s[D+1]);s[d+1]=Tv(Y,D),0!==Y&&(s[Y+1]=Zt(s[Y+1],d)),s[D+1]=function Hs(s,a){return 131071&s|a<<17}(s[D+1],d)}else s[d+1]=Tv(D,0),0!==D&&(s[D+1]=Zt(s[D+1],d)),D=d;else s[d+1]=Tv(I,0),0===D?D=d:s[I+1]=Zt(s[I+1],d),I=d;M&&(s[d+1]=st(s[d+1])),PC(s,O,d,!0),PC(s,O,d,!1),function YS(s,a,c,d,f){const m=f?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof a&&Jr(m,a)>=0&&(c[d+1]=Dh(c[d+1]))}(a,O,s,d,m),y=Tv(D,I),m?a.classBindings=y:a.styleBindings=y}(f,m,a,c,y,d)}}(m,s,y,d),a!==Wt&&Gr(f,y,a)&&function xh(s,a,c,d,f,m,y,D){if(!(3&a.type))return;const I=s.data,M=I[D+1],O=function xg(s){return 1==(1&s)}(M)?UC(I,a,c,f,bl(M),y):void 0;Mg(O)||(Mg(m)||function qS(s){return 2==(2&s)}(M)&&(m=UC(I,null,c,f,D,y)),function Da(s,a,c,d,f){if(a)f?s.addClass(c,d):s.removeClass(c,d);else{let m=-1===d.indexOf("-")?void 0:At.DashCase;null==f?s.removeStyle(c,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=At.Important),s.setStyle(c,d,f,m))}}(d,y,Es(Yi(),c),f,m))}(m,m.data[Yi()],f,f[Xt],s,f[y+1]=function Rg(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=ye(Ls(s)))),s}(a,c),d,y)}function Lv(s,a,c,d,f){let m=null;const y=c.directiveEnd;let D=c.directiveStylingLast;for(-1===D?D=c.directiveStart:D++;D<y&&(m=a[D],d=Tu(d,m.hostAttrs,f),m!==s);)D++;return null!==s&&(c.directiveStylingLast=D),d}function Tu(s,a,c){const d=c?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const y=a[m];"number"==typeof y?f=y:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Hr(s,y,!!c||a[++m]))}return void 0===s?null:s}function UC(s,a,c,d,f,m){const y=null===a;let D;for(;f>0;){const I=s[f],M=Array.isArray(I),O=M?I[1]:I,H=null===O;let Y=c[f+1];Y===Wt&&(Y=H?Q:void 0);let ee=H?gn(Y,d):O===d?Y:void 0;if(M&&!Mg(ee)&&(ee=gn(I,d)),Mg(ee)&&(D=ee,y))return D;const De=s[f+1];f=y?bc(De):bl(De)}if(null!==a){let I=m?a.residualClasses:a.residualStyles;null!=I&&(D=gn(I,d))}return D}function Mg(s){return void 0!==s}function Vv(s,a=""){const c=me(),d=jt(),f=s+En,m=d.firstCreatePass?sp(d,f,1,a,null):d.data[f],y=c[f]=function pc(s,a){return s.createText(a)}(c[Xt],a);mc(d,c,y,m),Ur(m,!1)}function Og(s){return Ip("",s,""),Og}function Ip(s,a,c){const d=me(),f=function Eu(s,a,c,d){return Gr(s,Mo(),c)?a+Fe(c)+d:Wt}(d,s,a,c);return f!==Wt&&function Sa(s,a,c){const d=Es(a,s);!function Bf(s,a,c){s.setValue(a,c)}(s[Xt],d,c)}(d,Yi(),f),Ip}function Wv(s,a,c){const d=me();return Gr(d,Mo(),a)&&No(jt(),Pn(),d,s,a,d[Xt],c,!0),Wv}const Cc=void 0;var KC=["en",[["a","p"],["AM","PM"],Cc],[["AM","PM"],Cc,Cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Cc,"{1} 'at' {0}",Cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZC(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Cl={};function Zv(s){const a=function zg(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=XC(a);if(c)return c;const d=a.split("-")[0];if(c=XC(d),c)return c;if("en"===d)return KC;throw new ve(701,!1)}function QC(s){return Zv(s)[Pt.PluralCase]}function XC(s){return s in Cl||(Cl[s]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[s]),Cl[s]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const Au="en-US";let $g=Au;function n_(s,a,c,d,f){if(s=te(s),Array.isArray(s))for(let m=0;m<s.length;m++)n_(s[m],a,c,d,f);else{const m=jt(),y=me();let D=ml(s)?s:te(s.provide),I=Oy(s);const M=Jn(),O=1048575&M.providerIndexes,H=M.directiveStart,Y=M.providerIndexes>>20;if(ml(s)||!s.multi){const ee=new Ro(I,f,ph),De=i_(D,a,f?O:O+Y,H);-1===De?(Xo(iu(M,y),m,D),Gp(m,s,a.length),a.push(D),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),c.push(ee),y.push(ee)):(c[De]=ee,y[De]=ee)}else{const ee=i_(D,a,O+Y,H),De=i_(D,a,O,O+Y),et=De>=0&&c[De];if(f&&!et||!f&&!(ee>=0&&c[ee])){Xo(iu(M,y),m,D);const ht=function s_(s,a,c,d,f){const m=new Ro(s,c,ph);return m.multi=[],m.index=a,m.componentProviders=0,Rh(m,f,d&&!c),m}(f?r_:db,c.length,f,d,I);!f&&et&&(c[De].providerFactory=ht),Gp(m,s,a.length,0),a.push(D),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),c.push(ht),y.push(ht)}else Gp(m,s,ee>-1?ee:De,Rh(c[f?De:ee],I,!f&&d));!f&&d&&et&&c[De].componentProviders++}}}function Gp(s,a,c,d){const f=ml(a),m=function Km(s){return!!s.useClass}(a);if(f||m){const I=(m?te(a.useClass):a).prototype.ngOnDestroy;if(I){const M=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const O=M.indexOf(c);-1===O?M.push(c,[d,I]):M[O+1].push(d,I)}else M.push(c,I)}}}function Rh(s,a,c){return c&&s.componentProviders++,s.multi.push(a)-1}function i_(s,a,c,d){for(let f=c;f<d;f++)if(a[f]===s)return f;return-1}function db(s,a,c,d){return o_(this.multi,[])}function r_(s,a,c,d){const f=this.multi;let m;if(this.providerFactory){const y=this.providerFactory.componentProviders,D=Vn(c,c[nt],this.providerFactory.index,d);m=D.slice(0,y),o_(f,m);for(let I=y;I<D.length;I++)m.push(D[I])}else m=[],o_(f,m);return m}function o_(s,a){for(let c=0;c<s.length;c++)a.push((0,s[c])());return a}function vD(s,a=[]){return c=>{c.providersResolver=(d,f)=>function yD(s,a,c){const d=jt();if(d.firstCreatePass){const f=fr(s);n_(c,d.data,d.blueprint,f,!0),n_(a,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,a)}}class Pu{}class kh{}function bD(s,a){return new a_(s,a??null)}class a_ extends Pu{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dp(this);const d=xi(a);this._bootstrapComponents=Ea(d.bootstrap),this._r3Injector=$y(a,c,[{provide:Pu,useValue:this},{provide:lh,useValue:this.componentFactoryResolver}],ye(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class qp extends kh{constructor(a){super(),this.moduleType=a}create(a){return new a_(this.moduleType,a)}}class wD extends Pu{constructor(a,c,d){super(),this.componentFactoryResolver=new dp(this),this.instance=null;const f=new Nw([...a,{provide:Pu,useValue:this},{provide:lh,useValue:this.componentFactoryResolver}],c||Xm(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Oh(s,a,c=null){return new wD(s,a,c).injector}let CD=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=oh(0,c.type),f=d.length>0?Oh([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=St({token:s,providedIn:"environment",factory:()=>new s(qt(wu))}),s})();function hb(s){s.getStandaloneInjector=a=>a.get(CD).getOrCreateStandaloneInjector(s)}function Yp(s,a,c,d,f,m){const y=a+c;return Gr(s,y,f)?function Ta(s,a,c){return s[a]=c}(s,y+1,m?d.call(m,f):d(f)):function Sl(s,a){const c=s[a];return c===Wt?void 0:c}(s,y+1)}function d_(s,a){const c=jt();let d;const f=s+En;c.firstCreatePass?(d=function _T(s,a){if(a)for(let c=a.length-1;c>=0;c--){const d=a[c];if(s===d.name)return d}}(a,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks??(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const m=d.factory||(d.factory=To(d.type)),y=Zn(ph);try{const D=el(!1),I=m();return el(D),function HS(s,a,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),a[c]=d}(c,me(),f,I),I}finally{Zn(y)}}function Cb(s,a,c){const d=s+En,f=me(),m=ir(f,d);return function Ra(s,a){return s[nt].data[a].pure}(f,d)?Yp(f,function Vi(){const s=Nt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}(),a,m.transform,c,m):m.transform(c)}function Qi(s){return a=>{setTimeout(s,void 0,a)}}const ro=class AD extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let f=a,m=c||(()=>null),y=d;if(a&&"object"==typeof a){const I=a;f=I.next?.bind(I),m=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(m=Qi(m),f&&(f=Qi(f)),y&&(y=Qi(y)));const D=super.subscribe({next:f,error:m,complete:y});return a instanceof $.w0&&a.add(D),D}};function Ic(){return this._results[Symbol.iterator]()}class Wp{get changes(){return this._changes||(this._changes=new ro)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Wp.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=Ic)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const f=function Mr(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function uu(s,a,c){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],m=a[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Zp=(()=>{class s{}return s.__NG_ELEMENT_ID__=hs,s})();const Ve=Zp,Hi=class extends Ve{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(a,c){const d=this._declarationTContainer.tView,f=og(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,c||null);f[_s]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[Tr];return null!==y&&(f[Tr]=y.createEmbeddedView(d)),wn(d,f,a),new yl(f)}};function hs(){return Fh(Jn(),me())}function Fh(s,a){return 4&s.type?new Hi(a,s,gl(s,a)):null}let lt=(()=>{class s{}return s.__NG_ELEMENT_ID__=Dt,s})();function Dt(){return Xi(Jn(),me())}const wT=lt,tt=class extends wT{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return gl(this._hostTNode,this._hostLView)}get injector(){return new da(this._hostTNode,this._hostLView)}get parentInjector(){const a=ti(this._hostTNode,this._hostLView);if(Ss(a)){const c=Ja(a,this._hostLView),d=ca(a);return new da(c[nt].data[d+8],c)}return new da(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=fe(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-Ni}createEmbeddedView(a,c,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const y=a.createEmbeddedView(c||{},m);return this.insert(y,f),y}createComponent(a,c,d,f,m){const y=a&&!function ic(s){return"function"==typeof s}(a);let D;if(y)D=c;else{const H=c||{};D=H.index,d=H.injector,f=H.projectableNodes,m=H.environmentInjector||H.ngModuleRef}const I=y?a:new hp(bt(a)),M=d||this.parentInjector;if(!m&&null==I.ngModule){const Y=(y?M:this.parentInjector).get(wu,null);Y&&(m=Y)}const O=I.create(M,f,void 0,m);return this.insert(O.hostView,D),O}insert(a,c){const d=a._lView,f=d[nt];if(function pd(s){return Xr(s[On])}(d)){const O=this.indexOf(a);if(-1!==O)this.detach(O);else{const H=d[On],Y=new tt(H,H[Si],H[On]);Y.detach(Y.indexOf(a))}}const m=this._adjustIndex(c),y=this._lContainer;!function p(s,a,c,d){const f=Ni+d,m=c.length;d>0&&(c[f-1][yn]=a),d<m-Ni?(a[yn]=c[f],du(c,Ni+d,a)):(c.push(a),a[yn]=null),a[On]=c;const y=a[_s];null!==y&&c!==y&&function _(s,a){const c=s[bs];a[ui]!==a[On][On][ui]&&(s[Ha]=!0),null===c?s[bs]=[a]:c.push(a)}(y,a);const D=a[Tr];null!==D&&D.insertView(s),a[on]|=64}(f,d,y,m);const D=Ca(m,y),I=d[Xt],M=Fo(I,y[Qs]);return null!==M&&function fy(s,a,c,d,f,m){d[Ii]=f,d[Si]=a,$f(s,d,c,1,f,m)}(f,y[Si],I,d,M,D),a.attachToViewContainerRef(),du(Me(y),m,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=fe(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=R(this._lContainer,c);d&&(il(Me(this._lContainer),c),P(d[nt],d))}detach(a){const c=this._adjustIndex(a,-1),d=R(this._lContainer,c);return d&&null!=il(Me(this._lContainer),c)?new yl(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function fe(s){return s[zo]}function Me(s){return s[zo]||(s[zo]=[])}function Xi(s,a){let c;const d=a[s.index];if(Xr(d))c=d;else{let f;if(8&s.type)f=di(d);else{const m=a[Xt];f=m.createComment("");const y=Li(s,a);en(m,Fo(m,y),f,function jf(s,a){return s.nextSibling(a)}(m,y),!1)}a[s.index]=c=lg(d,a,f,s),ug(a,c)}return new tt(c,s,a)}class f_{constructor(a){this.queryList=a,this.matches=null}clone(){return new f_(this.queryList)}setDirty(){this.queryList.setDirty()}}class Db{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const y=c.getByIndex(m);f.push(this.queries[y.indexInDeclarationView].clone())}return new Db(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==_i(a,c).matches&&this.queries[c].setDirty()}}class MD{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class Eb{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(a,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new Eb(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class xb{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new xb(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(a,c,CT(c,m)),this.matchTNodeWithReadOption(a,c,ua(c,a,m,!1,!1))}else d===Zp?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,ua(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===ch||f===lt||f===Zp&&4&c.type)this.addMatch(c.index,-2);else{const m=ua(c,a,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function CT(s,a){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function DT(s,a,c,d){return-1===c?function RD(s,a){return 11&s.type?gl(s,a):4&s.type?Fh(s,a):null}(a,s):-2===c?function x1(s,a,c){return c===ch?gl(a,s):c===Zp?Fh(a,s):c===lt?Xi(a,s):void 0}(s,a,d):Vn(s,s[nt],c,a)}function kD(s,a,c,d){const f=a[Tr].queries[d];if(null===f.matches){const m=s.data,y=c.matches,D=[];for(let I=0;I<y.length;I+=2){const M=y[I];D.push(M<0?null:DT(a,m[M],y[I+1],c.metadata.read))}f.matches=D}return f.matches}function p_(s,a,c,d){const f=s.queries.getByIndex(c),m=f.matches;if(null!==m){const y=kD(s,a,f,c);for(let D=0;D<m.length;D+=2){const I=m[D];if(I>0)d.push(y[D/2]);else{const M=m[D+1],O=a[-I];for(let H=Ni;H<O.length;H++){const Y=O[H];Y[_s]===Y[On]&&p_(Y[nt],Y,M,d)}if(null!==O[bs]){const H=O[bs];for(let Y=0;Y<H.length;Y++){const ee=H[Y];p_(ee[nt],ee,M,d)}}}}}return d}function Kt(s){const a=me(),c=jt(),d=Wa();Cd(d+1);const f=_i(c,d);if(s.dirty&&function Ga(s){return 4==(4&s[on])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const m=f.crossesNgTemplate?p_(c,a,d,[]):kD(c,a,f,d);s.reset(m,Jf),s.notifyOnChanges()}return!0}return!1}function Lu(s,a,c){const d=jt();d.firstCreatePass&&(vn(d,new MD(s,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),Nh(d,me(),a)}function Ib(s,a,c,d){const f=jt();if(f.firstCreatePass){const m=Jn();vn(f,new MD(a,c,d),m.index),function ET(s,a){const c=s.contentQueries||(s.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,a)}(f,s),2==(2&c)&&(f.staticContentQueries=!0)}Nh(f,me(),c)}function ri(){return function It(s,a){return s[Tr].queries[a].queryList}(me(),Wa())}function Nh(s,a,c){const d=new Wp(4==(4&c));Ky(s,a,d,d.destroy),null===a[Tr]&&(a[Tr]=new Db),a[Tr].queries.push(new f_(d))}function vn(s,a,c){null===s.queries&&(s.queries=new Eb),s.queries.track(new xb(a,c))}function _i(s,a){return s.queries.getByIndex(a)}function Je(s,a){return Fh(s,a)}function m_(s){return!!xi(s)}function Xp(...s){}const Rb=new pn("Application Initializer");let An=(()=>{class s{constructor(c){this.appInits=c,this.resolve=Xp,this.reject=Xp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(wv(m))c.push(m);else if($S(m)){const y=new Promise((D,I)=>{m.subscribe({complete:D,error:I})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(qt(Rb,8))},s.\u0275prov=St({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Jp=new pn("AppId",{providedIn:"root",factory:function Cr(){return`${y_()}${y_()}${y_()}`}});function y_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Hu=new pn("Platform Initializer"),Co=new pn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),LT=new pn("AnimationModuleType");let or=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=St({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const zs=new pn("LocaleId",{providedIn:"root",factory:()=>Nn(zs,_t.Optional|_t.SkipSelf)||function VT(){return typeof $localize<"u"&&$localize.locale||Au}()}),Oi=new pn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class em{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let BT=(()=>{class s{compileModuleSync(c){return new qp(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=Ea(xi(c).declarations).reduce((y,D)=>{const I=bt(D);return I&&y.push(new hp(I)),y},[]);return new em(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=St({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const WD=(()=>Promise.resolve(0))();function Oc(s){typeof Zone>"u"?WD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Er{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ro(!1),this.onMicrotaskEmpty=new ro(!1),this.onStable=new ro(!1),this.onError=new ro(!1),typeof Zone>"u")throw new ve(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Pb(){let s=mn.requestAnimationFrame,a=mn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function KD(s){const a=()=>{!function ZD(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(mn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Hh(s),s.isCheckStableRunning=!0,zu(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Hh(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,y,D)=>{try{return jh(s),c.invokeTask(f,m,y,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&a(),Lb(s)}},onInvoke:(c,d,f,m,y,D,I)=>{try{return jh(s),c.invoke(f,m,y,D,I)}finally{s.shouldCoalesceRunChangeDetection&&a(),Lb(s)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,Hh(s),zu(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Er.isInAngularZone())throw new ve(909,!1)}static assertNotInAngularZone(){if(Er.isInAngularZone())throw new ve(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,f){const m=this._inner,y=m.scheduleEventTask("NgZoneEvent: "+f,a,Nb,Xp,Xp);try{return m.runTask(y,c,d)}finally{m.cancelTask(y)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const Nb={};function zu(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Hh(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function jh(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Lb(s){s._nesting--,zu(s)}class UT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ro,this.onMicrotaskEmpty=new ro,this.onStable=new ro,this.onError=new ro}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,f){return a.apply(c,d)}}const QD=new pn(""),Vb=new pn("");let Un,XD=(()=>{class s{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Un||(function JD(s){Un=s}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Er.assertNotInAngularZone(),Oc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Oc(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return s.\u0275fac=function(c){return new(c||s)(qt(Er),qt(xr),qt(Vb))},s.\u0275prov=St({token:s,factory:s.\u0275fac}),s})(),xr=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Un?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=St({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const qr=!1;let Al=null;const Bb=new pn("AllowMultipleToken"),Pc=new pn("PlatformDestroyListeners"),eE=new pn("appBootstrapListener");class zh{constructor(a,c){this.name=a,this.token=c}}function zb(s,a,c=[]){const d=`Platform: ${a}`,f=new pn(d);return(m=[])=>{let y=Gb();if(!y||y.injector.get(Bb,!1)){const D=[...c,...m,{provide:f,useValue:!0}];s?s(D):function Ub(s){if(Al&&!Al.get(Bb,!1))throw new ve(400,!1);Al=s;const a=s.get(rE);(function jb(s){const a=s.get(Hu,null);a&&a.forEach(c=>c())})(s)}(function $b(s=[],a){return dh.create({name:a,providers:[{provide:yc,useValue:"platform"},{provide:Pc,useValue:new Set([()=>Al=null])},...s]})}(D,d))}return function iE(s){const a=Gb();if(!a)throw new ve(401,!1);return a}()}}function Gb(){return Al?.get(rE)??null}let rE=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function oE(s,a){let c;return c="noop"===s?new UT:("zone.js"===s?void 0:s)||new Er(a),c}(d?.ngZone,function qb(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:Er,useValue:f}];return f.run(()=>{const y=dh.create({providers:m,parent:this.injector,name:c.moduleType.name}),D=c.create(y),I=D.injector.get(ep,null);if(!I)throw new ve(402,!1);return f.runOutsideAngular(()=>{const M=f.onError.subscribe({next:O=>{I.handleError(O)}});D.onDestroy(()=>{C_(this._modules,D),M.unsubscribe()})}),function Yb(s,a,c){try{const d=c();return wv(d)?d.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(I,f,()=>{const M=D.injector.get(An);return M.runInitializers(),M.donePromise.then(()=>(function Kv(s){gt(s,"Expected localeId to be defined"),"string"==typeof s&&($g=s.toLowerCase().replace(/_/g,"-"))}(D.injector.get(zs,Au)||Au),this._moduleDoBootstrap(D),D))})})}bootstrapModule(c,d=[]){const f=sE({},d);return function tE(s,a,c){const d=new qp(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const d=c.injector.get(w_);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new ve(-403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ve(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Pc,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(qt(dh))},s.\u0275prov=St({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function sE(s,a){return Array.isArray(a)?a.reduce(sE,s):{...s,...a}}let w_=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new F.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),y=new F.y(D=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Er.assertNotInAngularZone(),Oc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Er.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{I.unsubscribe(),M.unsubscribe()}});this.isStable=(0,se.T)(m,y.pipe((0,ue.B)()))}bootstrap(c,d){const f=c instanceof Vw;if(!this._injector.get(An).done){!f&&qi(c);throw new ve(405,qr)}let y;y=f?c:this._injector.get(lh).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const D=function Mn(s){return s.isBoundToModule}(y)?void 0:this._injector.get(Pu),M=y.create(dh.NULL,[],d||y.selector,D),O=M.location.nativeElement,H=M.injector.get(QD,null);return H?.registerApplication(O),M.onDestroy(()=>{this.detachView(M.hostView),C_(this.components,M),H?.unregisterApplication(O)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new ve(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;C_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const d=this._injector.get(eE,[]);d.push(...this._bootstrapListeners),d.forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>C_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new ve(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(qt(Er),qt(wu),qt(ep))},s.\u0275prov=St({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function C_(s,a){const c=s.indexOf(a);c>-1&&s.splice(c,1)}function tm(){return!1}let Ml=(()=>{class s{}return s.__NG_ELEMENT_ID__=aE,s})();function aE(s){return function $h(s,a,c){if(Ll(s)&&!c){const d=Ai(s.index,a);return new yl(d,d)}return 47&s.type?new yl(a[ui],a):null}(Jn(),me(),16==(16&s))}class e0{constructor(){}supports(a){return mp(a)}create(a){return new qT(a)}}const im=(s,a)=>a;class qT{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||im}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const y=!d||c&&c.currentIndex<T_(d,f,m)?c:d,D=T_(y,f,m),I=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{m||(m=[]);const M=D-f,O=I-f;if(M!=O){for(let Y=0;Y<M;Y++){const ee=Y<m.length?m[Y]:m[Y]=0,De=ee+Y;O<=De&&De<M&&(m[Y]=ee+1)}m[y.previousIndex]=O-M}}D!==I&&a(y,D,I)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!mp(a))throw new ve(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,y,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let D=0;D<this.length;D++)m=a[D],y=this._trackByFn(D,m),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,m,y,D)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,y,D),d=!0),c=c._next}else f=0,function xC(s,a){if(Array.isArray(s))for(let c=0;c<s.length;c++)a(s[c]);else{const c=s[Symbol.iterator]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,D=>{y=this._trackByFn(f,D),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,D,y,f)),Object.is(c.item,D)||this._addIdentityChange(c,D)):(c=this._mismatch(c,D,y,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,f)):a=this._addAfter(new YT(c,d),m,f),a}_verifyReinsertion(a,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new uE),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new uE),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class YT{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hn{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class uE{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new hn,this.map.set(c,d)),d.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function T_(s,a,c){const d=s.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+a+f}class t0{constructor(){}supports(a){return a instanceof Map||hv(a)}create(){return new dE}}class dE{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||hv(a)))throw new ve(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const m=f._prev,y=f._next;return m&&(m._next=y),y&&(y._prev=m),f._next=null,f._prev=null,f}const d=new hE(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class hE{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rm(){return new n0([new e0])}let n0=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||rm()),deps:[[s,new dt,new Os]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new ve(901,!1)}}return s.\u0275prov=St({token:s,providedIn:"root",factory:rm}),s})();function r0(){return new Fc([new t0])}let Fc=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||r0()),deps:[[s,new dt,new Os]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new ve(901,!1)}}return s.\u0275prov=St({token:s,providedIn:"root",factory:r0}),s})();const Zh=zb(null,"core",[]);let pE=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(qt(w_))},s.\u0275mod=oe({type:s}),s.\u0275inj=Hn({}),s})();function mE(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(vt,Se,B)=>{B.d(Se,{Z:()=>Ke});var l=B(2090),$=B(4859),F=B(6881),se=B(1877);class ue{constructor(ve,ke){this._delegate=ve,this.firebase=ke,(0,F._addComponent)(ve,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(ve,ke=F._DEFAULT_ENTRY_NAME){var Fe;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(ve);return!Ue.isInitialized()&&"EXPLICIT"===(null===(Fe=Ue.getComponent())||void 0===Fe?void 0:Fe.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:ke})}_removeServiceInstance(ve,ke=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(ke)}_addComponent(ve){(0,F._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,F._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function be(){const ct=function ye(ct){const ve={},ke={__esModule:!0,initializeApp:function Te(Ne,ce={}){const ot=F.initializeApp(Ne,ce);if((0,l.r3)(ve,ot.name))return ve[ot.name];const Mt=new ct(ot,ke);return ve[ot.name]=Mt,Mt},app:Ue,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Oe(Ne){const ce=Ne.name,ot=ce.replace("-compat","");if(F._registerComponent(Ne)&&"PUBLIC"===Ne.type){const Mt=(ut=Ue())=>{if("function"!=typeof ut[ot])throw Ee.create("invalid-app-argument",{appName:ce});return ut[ot]()};void 0!==Ne.serviceProps&&(0,l.ZB)(Mt,Ne.serviceProps),ke[ot]=Mt,ct.prototype[ot]=function(...ut){return this._getService.bind(this,ce).apply(this,Ne.multipleInstances?ut:[])}}return"PUBLIC"===Ne.type?ke[ot]:null},removeApp:function Fe(Ne){delete ve[Ne]},useAsService:function je(Ne,ce){return"serverAuth"===ce?null:ce},modularAPIs:F}};function Ue(Ne){if(!(0,l.r3)(ve,Ne=Ne||F._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:Ne});return ve[Ne]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function xe(){return Object.keys(ve).map(Ne=>ve[Ne])}}),Ue.App=ct,ke}(ue);return ct.INTERNAL=Object.assign(Object.assign({},ct.INTERNAL),{createFirebaseNamespace:be,extendNamespace:function ve(ke){(0,l.ZB)(ct,ke)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),ct}(),q=new se.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ct=self.firebase.SDK_VERSION;ct&&ct.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=W;!function Ae(ct){(0,F.registerVersion)("@firebase/app-compat","0.2.9",ct)}()},6881:(vt,Se,B)=>{B.r(Se),B.d(Se,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>Lr,_DEFAULT_ENTRY_NAME:()=>$i,_addComponent:()=>pt,_addOrOverwriteComponent:()=>Ht,_apps:()=>mn,_clearComponents:()=>dr,_components:()=>nn,_getProvider:()=>Pi,_registerComponent:()=>Kn,_removeServiceInstance:()=>zn,deleteApp:()=>Qn,getApp:()=>hr,getApps:()=>qt,initializeApp:()=>un,onLog:()=>Xn,registerVersion:()=>Fi,setLogLevel:()=>er});var l=B(5861),$=B(4859),F=B(1877),se=B(2090);const ue=(pe,oe)=>oe.some(Le=>pe instanceof Le);let re,Ee;const W=new WeakMap,q=new WeakMap,te=new WeakMap,He=new WeakMap,Ae=new WeakMap;let ve={get(pe,oe,Le){if(pe instanceof IDBTransaction){if("done"===oe)return q.get(pe);if("objectStoreNames"===oe)return pe.objectStoreNames||te.get(pe);if("store"===oe)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return Te(pe[oe])},set:(pe,oe,Le)=>(pe[oe]=Le,!0),has:(pe,oe)=>pe instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in pe};function Ue(pe){return"function"==typeof pe?function Fe(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function be(){return Ee||(Ee=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...oe){return pe.apply(xe(this),oe),Te(W.get(this))}:function(...oe){return Te(pe.apply(xe(this),oe))}:function(oe,...Le){const yt=pe.call(xe(this),oe,...Le);return te.set(yt,oe.sort?oe.sort():[oe]),Te(yt)}}(pe):(pe instanceof IDBTransaction&&function ct(pe){if(q.has(pe))return;const oe=new Promise((Le,yt)=>{const kt=()=>{pe.removeEventListener("complete",cn),pe.removeEventListener("error",bt),pe.removeEventListener("abort",bt)},cn=()=>{Le(),kt()},bt=()=>{yt(pe.error||new DOMException("AbortError","AbortError")),kt()};pe.addEventListener("complete",cn),pe.addEventListener("error",bt),pe.addEventListener("abort",bt)});q.set(pe,oe)}(pe),ue(pe,function ye(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,ve):pe)}function Te(pe){if(pe instanceof IDBRequest)return function Ke(pe){const oe=new Promise((Le,yt)=>{const kt=()=>{pe.removeEventListener("success",cn),pe.removeEventListener("error",bt)},cn=()=>{Le(Te(pe.result)),kt()},bt=()=>{yt(pe.error),kt()};pe.addEventListener("success",cn),pe.addEventListener("error",bt)});return oe.then(Le=>{Le instanceof IDBCursor&&W.set(Le,pe)}).catch(()=>{}),Ae.set(oe,pe),oe}(pe);if(He.has(pe))return He.get(pe);const oe=Ue(pe);return oe!==pe&&(He.set(pe,oe),Ae.set(oe,pe)),oe}const xe=pe=>Ae.get(pe),Ne=["get","getKey","getAll","getAllKeys","count"],ce=["put","add","delete","clear"],ot=new Map;function Mt(pe,oe){if(!(pe instanceof IDBDatabase)||oe in pe||"string"!=typeof oe)return;if(ot.get(oe))return ot.get(oe);const Le=oe.replace(/FromIndex$/,""),yt=oe!==Le,kt=ce.includes(Le);if(!(Le in(yt?IDBIndex:IDBObjectStore).prototype)||!kt&&!Ne.includes(Le))return;const cn=function(){var bt=(0,l.Z)(function*(_n,...fn){const qi=this.transaction(_n,kt?"readwrite":"readonly");let xi=qi.store;return yt&&(xi=xi.index(fn.shift())),(yield Promise.all([xi[Le](...fn),kt&&qi.done]))[0]});return function(fn){return bt.apply(this,arguments)}}();return ot.set(oe,cn),cn}!function ke(pe){ve=pe(ve)}(pe=>({...pe,get:(oe,Le,yt)=>Mt(oe,Le)||pe.get(oe,Le,yt),has:(oe,Le)=>!!Mt(oe,Le)||pe.has(oe,Le)}));class ut{constructor(oe){this.container=oe}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function sn(pe){return"VERSION"===pe.getComponent()?.type}(Le)){const yt=Le.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(Le=>Le).join(" ")}}const ft="@firebase/app",ge=new F.Yd("@firebase/app"),$i="[DEFAULT]",Ji={[ft]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mn=new Map,nn=new Map;function pt(pe,oe){try{pe.container.addComponent(oe)}catch(Le){ge.debug(`Component ${oe.name} failed to register with FirebaseApp ${pe.name}`,Le)}}function Ht(pe,oe){pe.container.addOrOverwriteComponent(oe)}function Kn(pe){const oe=pe.name;if(nn.has(oe))return ge.debug(`There were multiple attempts to register component ${oe}.`),!1;nn.set(oe,pe);for(const Le of mn.values())pt(Le,pe);return!0}function Pi(pe,oe){const Le=pe.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),pe.container.getProvider(oe)}function zn(pe,oe,Le=$i){Pi(pe,oe).clearInstance(Le)}function dr(){nn.clear()}const Di=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ln{constructor(oe,Le,yt){this._isDeleted=!1,this._options=Object.assign({},oe),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(oe){this._isDeleted=oe}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}const Lr="9.21.0";function un(pe,oe={}){let Le=pe;"object"!=typeof oe&&(oe={name:oe});const yt=Object.assign({name:$i,automaticDataCollectionEnabled:!1},oe),kt=yt.name;if("string"!=typeof kt||!kt)throw Di.create("bad-app-name",{appName:String(kt)});if(Le||(Le=(0,se.aH)()),!Le)throw Di.create("no-options");const cn=mn.get(kt);if(cn){if((0,se.vZ)(Le,cn.options)&&(0,se.vZ)(yt,cn.config))return cn;throw Di.create("duplicate-app",{appName:kt})}const bt=new $.H0(kt);for(const fn of nn.values())bt.addComponent(fn);const _n=new ln(Le,yt,bt);return mn.set(kt,_n),_n}function hr(pe=$i){const oe=mn.get(pe);if(!oe&&pe===$i)return un();if(!oe)throw Di.create("no-app",{appName:pe});return oe}function qt(){return Array.from(mn.values())}function Qn(pe){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(pe){const oe=pe.name;mn.has(oe)&&(mn.delete(oe),yield Promise.all(pe.container.getProviders().map(Le=>Le.delete())),pe.isDeleted=!0)})).apply(this,arguments)}function Fi(pe,oe,Le){var yt;let kt=null!==(yt=Ji[pe])&&void 0!==yt?yt:pe;Le&&(kt+=`-${Le}`);const cn=kt.match(/\s|\//),bt=oe.match(/\s|\//);if(cn||bt){const _n=[`Unable to register library "${kt}" with version "${oe}":`];return cn&&_n.push(`library name "${kt}" contains illegal characters (whitespace or "/")`),cn&&bt&&_n.push("and"),bt&&_n.push(`version name "${oe}" contains illegal characters (whitespace or "/")`),void ge.warn(_n.join(" "))}Kn(new $.wA(`${kt}-version`,()=>({library:kt,version:oe}),"VERSION"))}function Xn(pe,oe){if(null!==pe&&"function"!=typeof pe)throw Di.create("invalid-log-argument");(0,F.Am)(pe,oe)}function er(pe){(0,F.Ub)(pe)}const Gi="firebase-heartbeat-database",tr=1,G="firebase-heartbeat-store";let j=null;function N(){return j||(j=function Oe(pe,oe,{blocked:Le,upgrade:yt,blocking:kt,terminated:cn}={}){const bt=indexedDB.open(pe,oe),_n=Te(bt);return yt&&bt.addEventListener("upgradeneeded",fn=>{yt(Te(bt.result),fn.oldVersion,fn.newVersion,Te(bt.transaction),fn)}),Le&&bt.addEventListener("blocked",fn=>Le(fn.oldVersion,fn.newVersion,fn)),_n.then(fn=>{cn&&fn.addEventListener("close",()=>cn()),kt&&fn.addEventListener("versionchange",qi=>kt(qi.oldVersion,qi.newVersion,qi))}).catch(()=>{}),_n}(Gi,tr,{upgrade:(pe,oe)=>{0===oe&&pe.createObjectStore(G)}}).catch(pe=>{throw Di.create("idb-open",{originalErrorMessage:pe.message})})),j}function k(){return(k=(0,l.Z)(function*(pe){try{return(yield N()).transaction(G).objectStore(G).get(rt(pe))}catch(oe){if(oe instanceof se.ZR)ge.warn(oe.message);else{const Le=Di.create("idb-get",{originalErrorMessage:oe?.message});ge.warn(Le.message)}}})).apply(this,arguments)}function Q(pe,oe){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,l.Z)(function*(pe,oe){try{const yt=(yield N()).transaction(G,"readwrite");return yield yt.objectStore(G).put(oe,rt(pe)),yt.done}catch(Le){if(Le instanceof se.ZR)ge.warn(Le.message);else{const yt=Di.create("idb-set",{originalErrorMessage:Le?.message});ge.warn(yt.message)}}})).apply(this,arguments)}function rt(pe){return`${pe.name}!${pe.options.appId}`}class rn{constructor(oe){this.container=oe,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new Yt(Le),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var oe=this;return(0,l.Z)(function*(){const yt=oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),kt=Ot();if(null===oe._heartbeatsCache&&(oe._heartbeatsCache=yield oe._heartbeatsCachePromise),oe._heartbeatsCache.lastSentHeartbeatDate!==kt&&!oe._heartbeatsCache.heartbeats.some(cn=>cn.date===kt))return oe._heartbeatsCache.heartbeats.push({date:kt,agent:yt}),oe._heartbeatsCache.heartbeats=oe._heartbeatsCache.heartbeats.filter(cn=>{const bt=new Date(cn.date).valueOf();return Date.now()-bt<=2592e6}),oe._storage.overwrite(oe._heartbeatsCache)})()}getHeartbeatsHeader(){var oe=this;return(0,l.Z)(function*(){if(null===oe._heartbeatsCache&&(yield oe._heartbeatsCachePromise),null===oe._heartbeatsCache||0===oe._heartbeatsCache.heartbeats.length)return"";const Le=Ot(),{heartbeatsToSend:yt,unsentEntries:kt}=function Sn(pe,oe=1024){const Le=[];let yt=pe.slice();for(const kt of pe){const cn=Le.find(bt=>bt.agent===kt.agent);if(cn){if(cn.dates.push(kt.date),Ei(Le)>oe){cn.dates.pop();break}}else if(Le.push({agent:kt.agent,dates:[kt.date]}),Ei(Le)>oe){Le.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:Le,unsentEntries:yt}}(oe._heartbeatsCache.heartbeats),cn=(0,se.L)(JSON.stringify({version:2,heartbeats:yt}));return oe._heartbeatsCache.lastSentHeartbeatDate=Le,kt.length>0?(oe._heartbeatsCache.heartbeats=kt,yield oe._storage.overwrite(oe._heartbeatsCache)):(oe._heartbeatsCache.heartbeats=[],oe._storage.overwrite(oe._heartbeatsCache)),cn})()}}function Ot(){return(new Date).toISOString().substring(0,10)}class Yt{constructor(oe){this.app=oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var oe=this;return(0,l.Z)(function*(){return(yield oe._canUseIndexedDBPromise)&&(yield function L(pe){return k.apply(this,arguments)}(oe.app))||{heartbeats:[]}})()}overwrite(oe){var Le=this;return(0,l.Z)(function*(){var yt;if(yield Le._canUseIndexedDBPromise){const cn=yield Le.read();return Q(Le.app,{lastSentHeartbeatDate:null!==(yt=oe.lastSentHeartbeatDate)&&void 0!==yt?yt:cn.lastSentHeartbeatDate,heartbeats:oe.heartbeats})}})()}add(oe){var Le=this;return(0,l.Z)(function*(){var yt;if(yield Le._canUseIndexedDBPromise){const cn=yield Le.read();return Q(Le.app,{lastSentHeartbeatDate:null!==(yt=oe.lastSentHeartbeatDate)&&void 0!==yt?yt:cn.lastSentHeartbeatDate,heartbeats:[...cn.heartbeats,...oe.heartbeats]})}})()}}function Ei(pe){return(0,se.L)(JSON.stringify({version:2,heartbeats:pe})).length}!function Io(pe){Kn(new $.wA("platform-logger",oe=>new ut(oe),"PRIVATE")),Kn(new $.wA("heartbeat",oe=>new rn(oe),"PRIVATE")),Fi(ft,"0.9.9",pe),Fi(ft,"0.9.9","esm2017"),Fi("fire-js","")}("")},4859:(vt,Se,B)=>{B.d(Se,{H0:()=>ye,wA:()=>F});var l=B(5861),$=B(2090);class F{constructor(W,q,te){this.name=W,this.instanceFactory=q,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const se="[DEFAULT]";class ue{constructor(W,q){this.name=W,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const q=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(q)){const te=new $.BH;if(this.instancesDeferred.set(q,te),this.isInitialized(q)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:q});He&&te.resolve(He)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(W){var q;const te=this.normalizeInstanceIdentifier(W?.identifier),He=null!==(q=W?.optional)&&void 0!==q&&q;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Ae){if(He)return null;throw Ae}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function Ee(be){return"EAGER"===be.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[q,te]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(q);try{const Ae=this.getOrInitializeService({instanceIdentifier:He});te.resolve(Ae)}catch{}}}}clearInstance(W=se){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,l.Z)(function*(){const q=Array.from(W.instances.values());yield Promise.all([...q.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...q.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=se){return this.instances.has(W)}getOptions(W=se){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:q={}}=W,te=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:te,options:q});for(const[Ae,Ke]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Ae)&&Ke.resolve(He);return He}onInit(W,q){var te;const He=this.normalizeInstanceIdentifier(q),Ae=null!==(te=this.onInitCallbacks.get(He))&&void 0!==te?te:new Set;Ae.add(W),this.onInitCallbacks.set(He,Ae);const Ke=this.instances.get(He);return Ke&&W(Ke,He),()=>{Ae.delete(W)}}invokeOnInitCallbacks(W,q){const te=this.onInitCallbacks.get(q);if(te)for(const He of te)try{He(W,q)}catch{}}getOrInitializeService({instanceIdentifier:W,options:q={}}){let te=this.instances.get(W);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(be=W,be===se?void 0:be),options:q}),this.instances.set(W,te),this.instancesOptions.set(W,q),this.invokeOnInitCallbacks(te,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,te)}catch{}var be;return te||null}normalizeInstanceIdentifier(W=se){return this.component?this.component.multipleInstances?W:se:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const q=this.getProvider(W.name);if(q.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);q.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const q=new ue(W,this);return this.providers.set(W,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(vt,Se,B)=>{B.d(Se,{Am:()=>be,Ub:()=>ye,Yd:()=>Ee,in:()=>$});const l=[];var $=(()=>{return(W=$||($={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",$;var W})();const F={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},se=$.INFO,ue={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},re=(W,q,...te)=>{if(q<W.logLevel)return;const He=(new Date).toISOString(),Ae=ue[q];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Ae](`[${He}]  ${W.name}:`,...te)};class Ee{constructor(q){this.name=q,this._logLevel=se,this._logHandler=re,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in $))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?F[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...q),this._logHandler(this,$.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...q),this._logHandler(this,$.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,$.INFO,...q),this._logHandler(this,$.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,$.WARN,...q),this._logHandler(this,$.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...q),this._logHandler(this,$.ERROR,...q)}}function ye(W){l.forEach(q=>{q.setLogLevel(W)})}function be(W,q){for(const te of l){let He=null;q&&q.level&&(He=F[q.level]),te.userLogHandler=null===W?null:(Ae,Ke,...ct)=>{const ve=ct.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch{return null}}).filter(ke=>ke).join(" ");Ke>=(He??Ae.logLevel)&&W({level:$[Ke].toLowerCase(),message:ve,args:ct,type:Ae.name})}}}},259:(vt,Se,B)=>{B.d(Se,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=B(6881);(0,l.registerVersion)("firebase","9.21.0","app")},9260:(vt,Se,B)=>{B.d(Se,{Z:()=>l.Z});var l=B(3942);l.Z.registerVersion("firebase","9.21.0","app-compat")},9568:(vt,Se,B)=>{B.r(Se);var l=B(5861),$=B(3942),F=B(8502),se=B(2090),Ee=(B(6881),B(1877),B(4859));function ye(){return window}const be=2e3;function q(){return q=(0,l.Z)(function*(N,L,k){var Q;const{BuildInfo:Ce}=ye();(0,F.as)(L.sessionId,"AuthEvent did not contain a session ID");const rt=yield function ke(N){return Fe.apply(this,arguments)}(L.sessionId),Rt={};return(0,F.at)()?Rt.ibi=Ce.packageName:(0,F.au)()?Rt.apn=Ce.packageName:(0,F.av)(N,"operation-not-supported-in-this-environment"),Ce.displayName&&(Rt.appDisplayName=Ce.displayName),Rt.sessionId=rt,(0,F.aw)(N,k,L.type,void 0,null!==(Q=L.eventId)&&void 0!==Q?Q:void 0,Rt)}),q.apply(this,arguments)}function He(){return(He=(0,l.Z)(function*(N){const{BuildInfo:L}=ye(),k={};(0,F.at)()?k.iosBundleId=L.packageName:(0,F.au)()?k.androidPackageName=L.packageName:(0,F.av)(N,"operation-not-supported-in-this-environment"),yield(0,F.ax)(N,k)})).apply(this,arguments)}function ct(){return(ct=(0,l.Z)(function*(N,L,k){const{cordova:Q}=ye();let Ce=()=>{};try{yield new Promise((rt,Rt)=>{let Tt=null;function rn(){var Yt;rt();const Ei=null===(Yt=Q.plugins.browsertab)||void 0===Yt?void 0:Yt.close;"function"==typeof Ei&&Ei(),"function"==typeof k?.close&&k.close()}function Ot(){Tt||(Tt=window.setTimeout(()=>{Rt((0,F.az)(N,"redirect-cancelled-by-user"))},be))}function Sn(){"visible"===document?.visibilityState&&Ot()}L.addPassiveListener(rn),document.addEventListener("resume",Ot,!1),(0,F.au)()&&document.addEventListener("visibilitychange",Sn,!1),Ce=()=>{L.removePassiveListener(rn),document.removeEventListener("resume",Ot,!1),document.removeEventListener("visibilitychange",Sn,!1),Tt&&window.clearTimeout(Tt)}})}finally{Ce()}})).apply(this,arguments)}function Fe(){return(Fe=(0,l.Z)(function*(N){const L=function Ue(N){if((0,F.as)(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(N);const L=new ArrayBuffer(N.length),k=new Uint8Array(L);for(let Q=0;Q<N.length;Q++)k[Q]=N.charCodeAt(Q);return k}(N),k=yield crypto.subtle.digest("SHA-256",L);return Array.from(new Uint8Array(k)).map(Ce=>Ce.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Te=20;class xe extends F.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(L=>{this.resolveInialized=L})}addPassiveListener(L){this.passiveListeners.add(L)}removePassiveListener(L){this.passiveListeners.delete(L)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(L){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(L)),super.onEvent(L)}initialized(){var L=this;return(0,l.Z)(function*(){yield L.initPromise})()}}function Ne(N){return ce.apply(this,arguments)}function ce(){return(ce=(0,l.Z)(function*(N){const L=yield ut()._get(sn(N));return L&&(yield ut()._remove(sn(N))),L})).apply(this,arguments)}function Mt(){const N=[],L="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<Te;k++){const Q=Math.floor(Math.random()*L.length);N.push(L.charAt(Q))}return N.join("")}function ut(){return(0,F.aC)(F.b)}function sn(N){return(0,F.aD)("authEvent",N.config.apiKey,N.name)}function ge(N){if(!N?.includes("?"))return{};const[L,...k]=N.split("?");return(0,se.zd)(k.join("?"))}const We=class Re{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(L){var k=this;return(0,l.Z)(function*(){const Q=L._key();let Ce=k.eventManagers.get(Q);return Ce||(Ce=new xe(L),k.eventManagers.set(Q,Ce),k.attachCallbackListeners(L,Ce)),Ce})()}_openPopup(L){(0,F.av)(L,"operation-not-supported-in-this-environment")}_openRedirect(L,k,Q,Ce){var rt=this;return(0,l.Z)(function*(){!function ve(N){var L,k,Q,Ce,rt,Rt,Tt,rn,Ot,Sn;const Yt=ye();(0,F.aA)("function"==typeof(null===(L=Yt?.universalLinks)||void 0===L?void 0:L.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.aA)(typeof(null===(k=Yt?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.aA)("function"==typeof(null===(rt=null===(Ce=null===(Q=Yt?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===Ce?void 0:Ce.browsertab)||void 0===rt?void 0:rt.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(rn=null===(Tt=null===(Rt=Yt?.cordova)||void 0===Rt?void 0:Rt.plugins)||void 0===Tt?void 0:Tt.browsertab)||void 0===rn?void 0:rn.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.aA)("function"==typeof(null===(Sn=null===(Ot=Yt?.cordova)||void 0===Ot?void 0:Ot.InAppBrowser)||void 0===Sn?void 0:Sn.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(L);const Rt=yield rt._initialize(L);yield Rt.initialized(),Rt.resetRedirect(),(0,F.aG)(),yield rt._originValidation(L);const Tt=function Oe(N,L,k=null){return{type:L,eventId:k,urlResponse:null,sessionId:Mt(),postBody:null,tenantId:N.tenantId,error:(0,F.az)(N,"no-auth-event")}}(L,Q,Ce);yield function je(N,L){return ut()._set(sn(N),L)}(L,Tt);const rn=yield function W(N,L,k){return q.apply(this,arguments)}(L,Tt,k),Ot=yield function Ae(N){const{cordova:L}=ye();return new Promise(k=>{L.plugins.browsertab.isAvailable(Q=>{let Ce=null;Q?L.plugins.browsertab.openUrl(N):Ce=L.InAppBrowser.open(N,(0,F.ay)()?"_blank":"_system","location=yes"),k(Ce)})})}(rn);return function Ke(N,L,k){return ct.apply(this,arguments)}(L,Rt,Ot)})()}_isIframeWebStorageSupported(L,k){throw new Error("Method not implemented.")}_originValidation(L){const k=L._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function te(N){return He.apply(this,arguments)}(L)),this.originValidationPromises[k]}attachCallbackListeners(L,k){const{universalLinks:Q,handleOpenURL:Ce,BuildInfo:rt}=ye(),Rt=setTimeout((0,l.Z)(function*(){yield Ne(L),k.onEvent(Ge())}),500),Tt=function(){var Sn=(0,l.Z)(function*(Yt){clearTimeout(Rt);const Ei=yield Ne(L);let Io=null;Ei&&Yt?.url&&(Io=function ot(N,L){var k,Q;const Ce=function _e(N){const L=ge(N),k=L.link?decodeURIComponent(L.link):void 0,Q=ge(k).link,Ce=L.deep_link_id?decodeURIComponent(L.deep_link_id):void 0;return ge(Ce).link||Ce||Q||k||N}(L);if(Ce.includes("/__/auth/callback")){const rt=ge(Ce),Rt=rt.firebaseError?function ft(N){try{return JSON.parse(N)}catch{return null}}(decodeURIComponent(rt.firebaseError)):null,Tt=null===(Q=null===(k=Rt?.code)||void 0===k?void 0:k.split("auth/"))||void 0===Q?void 0:Q[1],rn=Tt?(0,F.az)(Tt):null;return rn?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:rn,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:Ce,postBody:null}}return null}(Ei,Yt.url)),k.onEvent(Io||Ge())});return function(Ei){return Sn.apply(this,arguments)}}();typeof Q<"u"&&"function"==typeof Q.subscribe&&Q.subscribe(null,Tt);const rn=Ce,Ot=`${rt.packageName.toLowerCase()}://`;ye().handleOpenURL=function(){var Sn=(0,l.Z)(function*(Yt){if(Yt.toLowerCase().startsWith(Ot)&&Tt({url:Yt}),"function"==typeof rn)try{rn(Yt)}catch(Ei){console.error(Ei)}});return function(Yt){return Sn.apply(this,arguments)}}()}};function Ge(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.az)("no-auth-event")}}const xt=1e3;function $t(){var N;return(null===(N=self?.location)||void 0===N?void 0:N.protocol)||null}function an(N=(0,se.z$)()){return!("file:"!==$t()&&"ionic:"!==$t()&&"capacitor:"!==$t()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){try{const N=self.localStorage,L=F.aL();if(N)return N.setItem(L,"1"),N.removeItem(L),!function si(N=(0,se.z$)()){return function kn(){return(0,se.w1)()&&11===document?.documentMode}()||function zi(N=(0,se.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,se.hl)()}catch{return cr()&&(0,se.hl)()}return!1}function cr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ur(){return(function St(){return"http:"===$t()||"https:"===$t()}()||(0,se.ru)()||an())&&!function Hn(){return(0,se.b$)()||(0,se.UG)()}()&&lr()&&!cr()}function Kr(){return an()&&typeof document<"u"}function Wn(){return(Wn=(0,l.Z)(function*(){return!!Kr()&&new Promise(N=>{const L=setTimeout(()=>{N(!1)},xt);document.addEventListener("deviceready",()=>{clearTimeout(L),N(!0)})})})).apply(this,arguments)}const jn={LOCAL:"local",NONE:"none",SESSION:"session"},uo=F.aA,Zn="persistence";function Ji(N){return mn.apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(N){yield N._initializationPromise;const L=pt(),k=F.aD(Zn,N.config.apiKey,N.name);L&&L.setItem(k,N._getPersistence())})).apply(this,arguments)}function pt(){var N;try{return(null===(N=function _t(){return typeof window<"u"?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch{return null}}const Ht=F.aA;class Kn{constructor(){this.browserResolver=F.aC(F.k),this.cordovaResolver=F.aC(We),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aE,this._overrideRedirectResult=F.aF}_initialize(L){var k=this;return(0,l.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(L)})()}_openPopup(L,k,Q,Ce){var rt=this;return(0,l.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openPopup(L,k,Q,Ce)})()}_openRedirect(L,k,Q,Ce){var rt=this;return(0,l.Z)(function*(){return yield rt.selectUnderlyingResolver(),rt.assertedUnderlyingResolver._openRedirect(L,k,Q,Ce)})()}_isIframeWebStorageSupported(L,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(L,k)}_originValidation(L){return this.assertedUnderlyingResolver._originValidation(L)}get _shouldInitProactively(){return Kr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ht(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var L=this;return(0,l.Z)(function*(){if(L.underlyingResolver)return;const k=yield function ms(){return Wn.apply(this,arguments)}();L.underlyingResolver=k?L.cordovaResolver:L.browserResolver})()}}function Pi(N){return N.unwrap()}function dr(N){return Di(N)}function Di(N){const{_tokenResponse:L}=N instanceof se.ZR?N.customData:N;if(!L)return null;if(!(N instanceof se.ZR)&&"temporaryProof"in L&&"phoneNumber"in L)return F.P.credentialFromResult(N);const k=L.providerId;if(!k||k===F.p.PASSWORD)return null;let Q;switch(k){case F.p.GOOGLE:Q=F.V;break;case F.p.FACEBOOK:Q=F.U;break;case F.p.GITHUB:Q=F.W;break;case F.p.TWITTER:Q=F.Z;break;default:const{oauthIdToken:Ce,oauthAccessToken:rt,oauthTokenSecret:Rt,pendingToken:Tt,nonce:rn}=L;return rt||Rt||Ce||Tt?Tt?k.startsWith("saml.")?F.aO._create(k,Tt):F.L._fromParams({providerId:k,signInMethod:k,pendingToken:Tt,idToken:Ce,accessToken:rt}):new F.X(k).credential({idToken:Ce,accessToken:rt,rawNonce:rn}):null}return N instanceof se.ZR?Q.credentialFromError(N):Q.credentialFromResult(N)}function ln(N,L){return L.catch(k=>{throw k instanceof se.ZR&&function $n(N,L){var k;const Q=null===(k=L.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===L?.code)L.resolver=new hr(N,F.aq(N,L));else if(Q){const Ce=Di(L),rt=L;Ce&&(rt.credential=Ce,rt.tenantId=Q.tenantId||void 0,rt.email=Q.email||void 0,rt.phoneNumber=Q.phoneNumber||void 0)}}(N,k),k}).then(k=>{const Ce=k.user;return{operationType:k.operationType,credential:dr(k),additionalUserInfo:F.ao(k),user:qt.getOrCreate(Ce)}})}function Lr(N,L){return un.apply(this,arguments)}function un(){return(un=(0,l.Z)(function*(N,L){const k=yield L;return{verificationId:k.verificationId,confirm:Q=>ln(N,k.confirm(Q))}})).apply(this,arguments)}class hr{constructor(L,k){this.resolver=k,this.auth=function zn(N){return N.wrapped()}(L)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(L){return ln(Pi(this.auth),this.resolver.resolveSignIn(L))}}class qt{constructor(L){this._delegate=L,this.multiFactor=F.ar(L)}static getOrCreate(L){return qt.USER_MAP.has(L)||qt.USER_MAP.set(L,new qt(L)),qt.USER_MAP.get(L)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(L){return this._delegate.getIdTokenResult(L)}getIdToken(L){return this._delegate.getIdToken(L)}linkAndRetrieveDataWithCredential(L){return this.linkWithCredential(L)}linkWithCredential(L){var k=this;return(0,l.Z)(function*(){return ln(k.auth,F.a0(k._delegate,L))})()}linkWithPhoneNumber(L,k){var Q=this;return(0,l.Z)(function*(){return Lr(Q.auth,F.l(Q._delegate,L,k))})()}linkWithPopup(L){var k=this;return(0,l.Z)(function*(){return ln(k.auth,F.d(k._delegate,L,Kn))})()}linkWithRedirect(L){var k=this;return(0,l.Z)(function*(){return yield Ji(F.aH(k.auth)),F.g(k._delegate,L,Kn)})()}reauthenticateAndRetrieveDataWithCredential(L){return this.reauthenticateWithCredential(L)}reauthenticateWithCredential(L){var k=this;return(0,l.Z)(function*(){return ln(k.auth,F.a1(k._delegate,L))})()}reauthenticateWithPhoneNumber(L,k){return Lr(this.auth,F.r(this._delegate,L,k))}reauthenticateWithPopup(L){return ln(this.auth,F.e(this._delegate,L,Kn))}reauthenticateWithRedirect(L){var k=this;return(0,l.Z)(function*(){return yield Ji(F.aH(k.auth)),F.h(k._delegate,L,Kn)})()}sendEmailVerification(L){return F.ae(this._delegate,L)}unlink(L){var k=this;return(0,l.Z)(function*(){return yield F.an(k._delegate,L),k})()}updateEmail(L){return F.aj(this._delegate,L)}updatePassword(L){return F.ak(this._delegate,L)}updatePhoneNumber(L){return F.u(this._delegate,L)}updateProfile(L){return F.ai(this._delegate,L)}verifyBeforeUpdateEmail(L,k){return F.af(this._delegate,L,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qt.USER_MAP=new WeakMap;const Qn=F.aA;let Nn=(()=>{class N{constructor(k,Q){if(this.app=k,Q.isInitialized())return this._delegate=Q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ce}=k.options;Qn(Ce,"invalid-api-key",{appName:k.name}),Qn(Ce,"invalid-api-key",{appName:k.name});const rt=typeof window<"u"?Kn:void 0;this._delegate=Q.initialize({options:{persistence:Xn(Ce,k.name),popupRedirectResolver:rt}}),this._delegate._updateErrorMap(F.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,Q){F.I(this._delegate,k,Q)}applyActionCode(k){return F.a5(this._delegate,k)}checkActionCode(k){return F.a6(this._delegate,k)}confirmPasswordReset(k,Q){return F.a4(this._delegate,k,Q)}createUserWithEmailAndPassword(k,Q){var Ce=this;return(0,l.Z)(function*(){return ln(Ce._delegate,F.a8(Ce._delegate,k,Q))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return F.ad(this._delegate,k)}isSignInWithEmailLink(k){return F.ab(this._delegate,k)}getRedirectResult(){var k=this;return(0,l.Z)(function*(){Qn(ur(),k._delegate,"operation-not-supported-in-this-environment");const Q=yield F.j(k._delegate,Kn);return Q?ln(k._delegate,Promise.resolve(Q)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function gt(N,L){(0,F.aH)(N)._logFramework(L)}(this._delegate,k)}onAuthStateChanged(k,Q,Ce){const{next:rt,error:Rt,complete:Tt}=Fi(k,Q,Ce);return this._delegate.onAuthStateChanged(rt,Rt,Tt)}onIdTokenChanged(k,Q,Ce){const{next:rt,error:Rt,complete:Tt}=Fi(k,Q,Ce);return this._delegate.onIdTokenChanged(rt,Rt,Tt)}sendSignInLinkToEmail(k,Q){return F.aa(this._delegate,k,Q)}sendPasswordResetEmail(k,Q){return F.a3(this._delegate,k,Q||void 0)}setPersistence(k){var Q=this;return(0,l.Z)(function*(){let Ce;switch(function $i(N,L){uo(Object.values(jn).includes(L),N,"invalid-persistence-type"),(0,se.b$)()?uo(L!==jn.SESSION,N,"unsupported-persistence-type"):(0,se.UG)()?uo(L===jn.NONE,N,"unsupported-persistence-type"):cr()?uo(L===jn.NONE||L===jn.LOCAL&&(0,se.hl)(),N,"unsupported-persistence-type"):uo(L===jn.NONE||lr(),N,"unsupported-persistence-type")}(Q._delegate,k),k){case jn.SESSION:Ce=F.a;break;case jn.LOCAL:Ce=(yield F.aC(F.i)._isAvailable())?F.i:F.b;break;case jn.NONE:Ce=F.N;break;default:return F.av("argument-error",{appName:Q._delegate.name})}return Q._delegate.setPersistence(Ce)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return ln(this._delegate,F._(this._delegate))}signInWithCredential(k){return ln(this._delegate,F.$(this._delegate,k))}signInWithCustomToken(k){return ln(this._delegate,F.a2(this._delegate,k))}signInWithEmailAndPassword(k,Q){return ln(this._delegate,F.a9(this._delegate,k,Q))}signInWithEmailLink(k,Q){return ln(this._delegate,F.ac(this._delegate,k,Q))}signInWithPhoneNumber(k,Q){return Lr(this._delegate,F.s(this._delegate,k,Q))}signInWithPopup(k){var Q=this;return(0,l.Z)(function*(){return Qn(ur(),Q._delegate,"operation-not-supported-in-this-environment"),ln(Q._delegate,F.c(Q._delegate,k,Kn))})()}signInWithRedirect(k){var Q=this;return(0,l.Z)(function*(){return Qn(ur(),Q._delegate,"operation-not-supported-in-this-environment"),yield Ji(Q._delegate),F.f(Q._delegate,k,Kn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return F.a7(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=jn,N})();function Fi(N,L,k){let Q=N;"function"!=typeof N&&({next:Q,error:L,complete:k}=N);const Ce=Q;return{next:Rt=>Ce(Rt&&qt.getOrCreate(Rt)),error:L,complete:k}}function Xn(N,L){const k=function nn(N,L){const k=pt();if(!k)return[];const Q=F.aD(Zn,N,L);switch(k.getItem(Q)){case jn.NONE:return[F.N];case jn.LOCAL:return[F.i,F.a];case jn.SESSION:return[F.a];default:return[]}}(N,L);if(typeof self<"u"&&!k.includes(F.i)&&k.push(F.i),typeof window<"u")for(const Q of[F.b,F.a])k.includes(Q)||k.push(Q);return k.includes(F.N)||k.push(F.N),k}class er{constructor(){this.providerId="phone",this._delegate=new F.P(Pi($.Z.auth()))}static credential(L,k){return F.P.credential(L,k)}verifyPhoneNumber(L,k){return this._delegate.verifyPhoneNumber(L,k)}unwrap(){return this._delegate}}er.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,er.PROVIDER_ID=F.P.PROVIDER_ID;const Gi=F.aA;class tr{constructor(L,k,Q=$.Z.app()){var Ce;Gi(null===(Ce=Q.options)||void 0===Ce?void 0:Ce.apiKey,"invalid-api-key",{appName:Q.name}),this._delegate=new F.R(L,k,Q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function j(N){N.INTERNAL.registerComponent(new Ee.wA("auth-compat",L=>{const k=L.getProvider("app-compat").getImmediate(),Q=L.getProvider("auth");return new Nn(k,Q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.Q,FacebookAuthProvider:F.U,GithubAuthProvider:F.W,GoogleAuthProvider:F.V,OAuthProvider:F.X,SAMLAuthProvider:F.Y,PhoneAuthProvider:er,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:tr,TwitterAuthProvider:F.Z,Auth:Nn,AuthCredential:F.J,Error:se.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.4.1")}($.Z)},5861:(vt,Se,B)=>{function l(F,se,ue,re,Ee,ye,be){try{var W=F[ye](be),q=W.value}catch(te){return void ue(te)}W.done?se(q):Promise.resolve(q).then(re,Ee)}function $(F){return function(){var se=this,ue=arguments;return new Promise(function(re,Ee){var ye=F.apply(se,ue);function be(q){l(ye,re,Ee,be,W,"next",q)}function W(q){l(ye,re,Ee,be,W,"throw",q)}be(void 0)})}}B.d(Se,{Z:()=>$})}},vt=>{vt(vt.s=136)}]);