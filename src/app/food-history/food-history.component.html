<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<ng-container *ngIf="authenticationService.isLoggedIn()"></ng-container>
<app-navbar></app-navbar>
<div *ngIf="foodEntries.length > 0; else noEntries">
  <table mat-table [dataSource]="foodEntries" class="mat-elevation-z8">
    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef appHighlight>Dátum</th>
      <td mat-cell *matCellDef="let entry">{{ entry.date | formattedDate  }}</td>
    </ng-container>

    <ng-container matColumnDef="calories">
      <th mat-header-cell *matHeaderCellDef appHighlight>Kalória</th>
      <td mat-cell *matCellDef="let entry">{{ entry.calories }}</td>
    </ng-container>

    <ng-container matColumnDef="carbohydrates">
      <th mat-header-cell *matHeaderCellDef appHighlight>Karbonhidrát</th>
      <td mat-cell *matCellDef="let entry">{{ entry.carbohydrates }}</td>
    </ng-container>

    <ng-container matColumnDef="protein">
      <th mat-header-cell *matHeaderCellDef appHighlight>Protein</th>
      <td mat-cell *matCellDef="let entry">{{ entry.protein }}</td>
    </ng-container>

    <ng-container matColumnDef="fat">
      <th mat-header-cell *matHeaderCellDef appHighlight>Zsír</th>
      <td mat-cell *matCellDef="let entry">{{ entry.fat }}</td>
    </ng-container>

    <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef appHighlight>Műveletek</th>
        <td mat-cell *matCellDef="let entry">
          <button class="historyButton" mat-button (click)="openEditDialog(entry)" appButtonMod>
            Módosítás
            <mat-icon fontIcon="edit"></mat-icon>
        </button>
          <button class="historyButton" mat-button (click)="openDeleteDialog(entry)" appButtonWar>
            Törlés
            <mat-icon fontIcon="delete"></mat-icon>
        </button>
        </td>
    </ng-container>
      
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

</div>
<ng-template #noEntries>
  <p>Nincsenek táplálék előzmények.</p>
</ng-template>
